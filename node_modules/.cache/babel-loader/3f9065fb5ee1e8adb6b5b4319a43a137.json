{"ast":null,"code":"import _defineProperty from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./style.css';import{Form,Button,Container,Modal}from'react-bootstrap';import{Link,Redirect}from'react-router-dom';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={email:'',password:'',messageErr:false,messageSuccess:false,isAuthenticated:false};_this.handleClick=function(){var _this$state=_this.state,email=_this$state.email,password=_this$state.password;if(email&&password){// make a requset to the back with method post and data{email , password}\nfetch('/api/login',{method:'POST',credentials:'include',headers:{'Content-type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(function(response){if(response.status===400||response.status===404){_this.setState({messageErr:'Bad Request , Check username or password ... !!'});}else if(response.status===401){_this.setState({messageErr:'you are UnAuthorized'});}else if(response.status>=500){_this.setState({messageErr:'Sorry , Internal Server ERROR'});}else{_this.setState({messageErr:''});_this.setState({isAuthenticated:true});_this.setState({messageSuccess:'login sucessfully '});return window.location.href='/grocery';}});}else{_this.setState({messageErr:'Please enter all fields'});}};_this.handleChange=function(_ref){var _ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;return _this.setState(_defineProperty({},name,value));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,messageErr=_this$state2.messageErr,messageSuccess=_this$state2.messageSuccess;return React.createElement(React.Fragment,null,React.createElement(Container,null,React.createElement(Modal,{show:\"true\",onHide:this.handleClose,className:\"modal\",backdrop:\"static\"},React.createElement(Modal.Body,null,React.createElement(Form,{className:\"login__form\"},React.createElement(\"div\",{className:\"login__form-div-title\"},React.createElement(\"h2\",{className:\"login__form-title\"},\"Log in to View Grocery List\")),React.createElement(\"div\",{className:\"vl\"},React.createElement(\"span\",{className:\"vl-innertext\"},\"or\")),React.createElement(\"div\",{className:\"col\"},React.createElement(\"a\",{href:\"#\",className:\"fb btn\"},React.createElement(\"i\",{class:\"fa fa-facebook fa-fw\"}),\" Login with Facebook\"),React.createElement(\"a\",{href:\"#\",className:\"google btn\"},React.createElement(\"i\",{class:\"fa fa-google fa-fw\"}),\" Login with Google+\")),React.createElement(\"div\",{className:\"col\"},React.createElement(\"div\",{className:\"hide-md-lg\"},React.createElement(\"p\",null,\"Or sign in manually:\"))),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Email :\"),React.createElement(Form.Control,{type:\"text\",name:\"email\",value:email,placeholder:\"Enter your email\",onChange:this.handleChange})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Password :\"),React.createElement(Form.Control,{type:\"password\",name:\"password\",value:password,placeholder:\"Enter your password\",onChange:this.handleChange})),React.createElement(\"p\",{className:\"msg-success\"},messageSuccess),React.createElement(\"p\",{className:\"msg-err\"},messageErr),React.createElement(Link,null,React.createElement(\"span\",{className:\"link-forgot-password\"},\"Forget Password  ?\")),React.createElement(Button,{type:\"button\",className:\"login__form-btn\",onClick:this.handleClick},\"Log in\"),React.createElement(Form.Text,{className:\"login__form__text-muted\"},\"Don\\u2019t have an account? \",'',React.createElement(Link,{className:\"link-signup-word\",to:\"/signup\"},\"Sign Up\"),React.createElement(\"br\",null),\"or\",React.createElement(Link,{className:\"link-guest-word\",to:\"/aguest\"},\"continue as guest\")))))));}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/src/components/Login/index.jsx"],"names":["React","Form","Button","Container","Modal","Link","Redirect","Login","state","email","password","messageErr","messageSuccess","isAuthenticated","handleClick","fetch","method","credentials","headers","body","JSON","stringify","then","response","status","setState","window","location","href","handleChange","target","value","name","handleClose","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './style.css';\nimport { Form, Button, Container ,Modal} from 'react-bootstrap';\n\n import { Link, Redirect } from 'react-router-dom';\n\n export default class Login extends React.Component {\n  state = {\n    email: '',\n    password: '',\n    messageErr:false,\n    messageSuccess:false,\n    isAuthenticated: false,\n  };\n\n   handleClick = () => {\n    const { email, password } = this.state;\n    if (email && password) {\n\n       // make a requset to the back with method post and data{email , password}\n      fetch('/api/login', {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-type': 'application/json',\n        },\n        body: JSON.stringify({\n          email,\n          password,\n        }),\n      })\n        .then(response => {\n          if (response.status === 400 || response.status === 404) {\n            this.setState({ messageErr: 'Bad Request , Check username or password ... !!' });\n          } else if (response.status === 401) {\n            this.setState({ messageErr: 'you are UnAuthorized' });\n          } else if (response.status >= 500) {\n            this.setState({ messageErr: 'Sorry , Internal Server ERROR' })\n          } else {\n            this.setState({messageErr:''});\n            this.setState({isAuthenticated:true})\n            this.setState({ messageSuccess: 'login sucessfully '});\n            return window.location.href = '/grocery'\n          }\n        })\n\n\n     } else {\n      this.setState({ messageErr: 'Please enter all fields' });\n    }\n  };\n\n   handleChange = ({ target: { value, name } }) =>\n    this.setState({ [name]: value });\n\n   render() {\n    const { email, password, messageErr, messageSuccess } = this.state;\n    return (\n      <>\n        <Container>\n        <Modal show=\"true\" onHide={this.handleClose} className=\"modal\" backdrop=\"static\">\n                        <Modal.Body>\n\n                           <Form className=\"login__form\">\n                            <div className=\"login__form-div-title\">\n                            <h2 className=\"login__form-title\">Log in to View Grocery List</h2>\n\n                             </div>\n\n\n\n                           <div className=\"vl\">\n                            <span className=\"vl-innertext\">or</span>\n                          </div>\n\n                           <div className=\"col\">\n                            <a href=\"#\" className=\"fb btn\">\n                                <i class=\"fa fa-facebook fa-fw\"></i> Login with Facebook\n                                                  </a>\n                            <a href=\"#\" className=\"google btn\"><i class=\"fa fa-google fa-fw\">\n                            </i> Login with Google+\n                                                  </a>\n                          </div>\n\n                           <div className=\"col\">\n                            <div className=\"hide-md-lg\">\n                                <p>Or sign in manually:</p>\n                            </div>\n                          </div>\n                            <Form.Group>\n                            <Form.Label>Email :</Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                name=\"email\"\n                                value={email}\n                                placeholder=\"Enter your email\"\n                                onChange={this.handleChange}\n                            />\n                            </Form.Group>\n                            <Form.Group>\n                            <Form.Label>Password :</Form.Label>\n                            <Form.Control\n                                type=\"password\"\n                                name=\"password\"\n                                value={password}\n                                placeholder=\"Enter your password\"\n                                onChange={this.handleChange}\n                            />\n                            </Form.Group>\n                                <p className=\"msg-success\">{messageSuccess}</p>\n                                <p className=\"msg-err\">{messageErr}</p> \n                                <Link>\n                                <span className=\"link-forgot-password\">Forget Password  ?</span>\n                                </Link>\n\n                                 <Button\n                                  type=\"button\"\n                                  className=\"login__form-btn\"\n                                  onClick={this.handleClick}\n                                >\n                                  Log in\n                              </Button>\n                            <Form.Text className=\"login__form__text-muted\">\n                            Don’t have an account? {''}\n\n                             <Link className=\"link-signup-word\" to=\"/signup\">\n                            Sign Up  \n                            </Link>\n                            <br/>\n                            or\n\n                             <Link className=\"link-guest-word\" to=\"/aguest\">\n                            continue as guest \n                            </Link>\n\n                             </Form.Text>\n                          </Form>\n                          </Modal.Body>\n                      </Modal>\n        </Container>\n      </>\n    );\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module"}