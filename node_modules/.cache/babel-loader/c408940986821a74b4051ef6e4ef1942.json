{"ast":null,"code":"import _slicedToArray from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/node_modules/@babel/runtime/helpers/esm/inherits\";/* eslint-disable no-dupe-class-members */import React,{Component}from'react';import{Typeahead}from'react-bootstrap-typeahead';import'react-bootstrap-typeahead/css/Typeahead.css';// import ListedMealsSection from './components/mealMenu/ListedMealsSection';\n// import RecipeContentSection from './components/mealMenu/RecipeContentSection';\n// import IngredientSection from './components/mealMenu/IngredientSection';\nimport{Nav,Navbar,Alert,NavDropdown,Form,FormControl}from'react-bootstrap';import{Popover,PopoverBody}from'reactstrap';import Popup from\"reactjs-popup\";import{Link,Route,Switch}from\"react-router-dom\";import{Spinner}from'react-bootstrap';import InfiniteCarousel from'react-leaf-carousel';import Slider from'./components/product_slider/slider';import WithScrollbar from'./components/product_slider/WithScrollbar';import RecipeContentSection from'./components/mealMenu/RecipeContentSection';import ListedMealsSection from'./components/mealMenu/ListedMealsSection';import IngredientSection from'./components/mealMenu/IngredientSection';import ProductsSection from'./components/productSection/ProductsPage';//import Collapse from 'react-bootstrap/Collapse';\n// import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport CartPage from'./components/GroceryPage/CartPage';import Login from'./components/Login';import GroceryPage from'./components/GroceryPage';import SignUp from'./components/signup';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);// Mongo \nfunction App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.meals=[];_this.products=[];_this.meal_popups=[];_this.showIngredients=function(event){var mealString=event.target.innerText;console.log(mealString);var meal;for(meal in _this.meals){//console.log(this.meals[meal].label);\nif(_this.meals[meal].label===mealString){//change selected ingredients\n_this.setState({selectedMealIngredients:_this.meals[meal].ingredients});_this.setState({selectedMeal:_this.meals[meal]});break;}}//get list of ingredients\n};_this.meal_popups=[];_this.handleLogout=function(){fetch('/api/logout',{method:\"GET\",credentials:'same-origin',headers:{'Content-type':'application/json'}}).then(function(res){res.json().then(function(response){if(response.data){_this.setState({isAuthenticated:false});}});}).catch(function(){_this.setState({messageAlert:'internal server error',showAlert:true,variant:'danger'},function(){return setTimeout(function(){_this.setState({messageAlert:'',showAlert:false});},6000);});});};_this.suggestMealToggle=_this.suggestMealToggle.bind(_assertThisInitialized(_this));_this.updateInstructionsDisplayBaseIndex=_this.updateInstructionsDisplayBaseIndex.bind(_assertThisInitialized(_this));// this.myFunction = this.myFunction.bind(this);\n_this.state={messageVisible:false,showAlert:false,messageAlert:'',variant:'',customerId:'',idItem:'',option:'',itemTypeahead:[],valueAllDataLists:[],message:null,isAuthenticated:false,suggestMealPopOver:false,mealsListed:false,mealSelected:false,IngredientsListed:false,recipes:[],//[this.Garri, this.Jollof_Rice],\nselectedMealIngredients:null,selectedMeal:null,showIngredients:{hidden:true},showProducts:{hidden:true},//open: false,\nmealsLength:null,base_index:0,topNav_className:\"w3-bar w3-dark-grey w3-green topnav\"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.auth();console.log(\"Comes in apps component did mount\");var url=\"http://localhost:5000/get_products\";fetch(url).then(function(res){return res.text();}).then(function(body){var productsList=JSON.parse(body);for(var i=0;i<productsList.length;i++){_this2.products.push(productsList[i].product_name);// console.log(productsList[i].product_name)\n}}).catch(function(err){console.log(err);});}},{key:\"suggestMealToggle\",value:function suggestMealToggle(){this.setState({suggestMealPopOver:!this.state.suggestMealPopOver});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;console.log(\"Comes in component did mount\");var url=\"http://localhost:5000/get_products\";var url=\"https://chopchowsd.herokuapp.com/get_products\";// call in production\nfetch(url).then(function(res){return res.text();}).then(function(body){console.log();var productsList=JSON.parse(body);for(var i=0;i<productsList.length;i++){_this3.products.push(productsList[i].product_name);console.log(productsList[i].product_name);}}).catch(function(error){console.log(error);});}},{key:\"showIngredient\",value:function showIngredient(index){console.log(\"updating popup boolean\");this.meal_popups[index]=!this.meal_popups[index];}},{key:\"updateInstructionsDisplayBaseIndex\",value:function updateInstructionsDisplayBaseIndex(event){console.log(event.target.innerText);var button=event.target.innerText;var regExp='/^w+[ ]/d  $/';var slide_index=button.match(regExp);//console.log(slide_index);\nvar last_chars=button.slice(6,7);var slide_num=Number(last_chars);this.setState({base_index:slide_num*3});//var base_index = slide_num*3;\n//console.log(\"Updating base index on click to: \" +this.state.base_index);\n}},{key:\"auth\",value:function auth(){var _this4=this;fetch('/api/grocery',{method:'GET',credentials:'same-origin',headers:{'Content-type':'application/json'}}).then(function(res){return res.json();}).then(function(res){if(res.success){_this4.setState({isAuthenticated:true});}}).catch(function(err){return console.log('err',err);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;this.handleLogout();this.auth();this.handleClickTypeahead=function(optionItem){var itemTypeahead=_this5.state.itemTypeahead;if(!optionItem)return;console.log(optionItem);optionItem.map(function(option){fetch(\"/api/get-data-typeahead/\".concat(option),{method:'GET',credentials:'same-origin',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(responseGet){_this5.setState({idItem:responseGet.data[0].id});var _this5$state=_this5.state,customerId=_this5$state.customerId,idItem=_this5$state.idItem;fetch(\"/api/add-data-typeahead-for-customer/\".concat(idItem,\"/\").concat(customerId),{method:'POST',credentials:'same-origin',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){if(res){if(res.status===500){_this5.setState({messageAlert:'internal server error',showAlert:true,variant:'danger'},function(){return setTimeout(function(){_this5.setState({messageAlert:'',showAlert:false});},6000);});}else if(res.status===200){return res.json().then(function(response){_this5.setState({itemTypeahead:[]});_this5.setState({itemTypeahead:[].concat(_toConsumableArray(itemTypeahead),_toConsumableArray(responseGet.data))});});}else if(res.status===304){return res.json().then(function(response){_this5.setState({itemTypeahead:[]});_this5.setState({itemTypeahead:_toConsumableArray(itemTypeahead)});});}}});});});};fetch('/api/grocery',{method:'GET',headers:{'Content-type':'application/json'}}).then(function(res){return res.json();}).then(function(response){if(response.success&&response.data){_this5.setState({Authentication:true});}else{_this5.setState({Authenticated:false});}_this5.setState({customerId:response.data});var customerId=_this5.state.customerId;fetch(\"/api/getList/\".concat(customerId),{method:'GET',credentials:'same-origin',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(response){if(response){_this5.setState({valueData:response.data});}}).catch(function(){_this5.setState({messageAlert:'internal server error',showAlert:true,variant:'danger'},function(){return setTimeout(function(){_this5.setState({messageAlert:'',showAlert:false});},6000);});});});fetch('/api/get-all-data-lists',{method:'GET',credentials:'same-origin',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(response){if(response){var arrAllData=[];var resArr=response.data;for(var i=0;i<=resArr.length-1;i++){arrAllData.push(response.data[i].product_name);_this5.setState({valueAllDataLists:arrAllData});}}}).catch(function(){_this5.setState({messageAlert:'internal server error',showAlert:true,variant:'danger'},function(){return setTimeout(function(){_this5.setState({messageAlert:'',showAlert:false});},6000);});});fetch('/api/get-meals',{method:'GET',credentials:'same-origin',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(response){if(response){_this5.setState({recipes:response.data,selectedMealIngredients:response.data[0].new_ingredients,selectedMeal:response.data[0],mealsLength:response.data.length});}}).catch(function(err){console.log('err',err);});}},{key:\"render\",value:function render(){var _this6=this;var _this$state=this.state,messageAlert=_this$state.messageAlert,showAlert=_this$state.showAlert,variant=_this$state.variant,itemTypeahead=_this$state.itemTypeahead,valueAllDataLists=_this$state.valueAllDataLists,isAuthenticated=_this$state.isAuthenticated;// Render your page inside\n// the layout provider\n//const elements = ['one', 'two', 'three'];\n//const popOverInfo = []\nvar items=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{var _loop=function _loop(){var _ref=_step.value;_ref2=_slicedToArray(_ref,2);var index=_ref2[0];var value=_ref2[1];base_index=0;var mealPrep=value.instructions.map(function(step){return React.createElement(\"li\",{key:step},\" \",step,\" \");});popUpSlides=[];var instructionsLength=value.instructions.length;// console.log(instructionsLength);\n// var mealIngredient = value.ingredients ;\nvar ingredientsList=value.ingredients.map(function(step){return React.createElement(\"li\",{key:step},\" \",step,\" \");});for(i=0;i<instructionsLength/3;i++){popUpSlides.push(React.createElement(\"button\",{key:i,onClick:_this6.updateInstructionsDisplayBaseIndex},\"Slide \",i,\"  \"));}_this6.meal_popups.push(false);// console.log(this.meal_popups);\n// console.log(index);\nitems.push(React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"col-sm-12 col-md-6 col-lg-4 mealContainer\",key:value.id},React.createElement(\"div\",null,React.createElement(\"div\",{style:containerStyle,onClick:function onClick(){_this6.meal_popups[index]=!_this6.meal_popups[index];console.log(_this6.meal_popups);var x=document.getElementById(value.id);var y=document.getElementById(value.id+\"products\");if(_this6.meal_popups[index]){x.style.display=\"block\";y.style.display=\"block\";}else{x.style.display=\"none\";y.style.display=\"none\";}}},React.createElement(\"img\",{src:value.imageSrc,className:\"images\",style:{width:\"100%\"},alt:value.id}),React.createElement(\"div\",{style:{color:\"black\"}},\" \",React.createElement(\"b\",null,\" \",value.label,\" | \",value.cookTime,\"  \"),\"| \",React.createElement(\"span\",{style:{color:\"grey\"}},\" View Details\"))))),React.createElement(Popup,{trigger:React.createElement(\"div\",{id:value.id,style:{display:\"none\"}},value.intro,React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",{style:{backgroundColor:\"orange\"}},\"View Steps\"),React.createElement(\"br\",null)),modal:true,closeOnDocumentClick:true,contentStyle:contentStyle},React.createElement(\"div\",{className:\"container \"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-6\"},React.createElement(\"div\",null,React.createElement(\"b\",null,\"Ingredients\")),React.createElement(\"div\",{className:\"col align-items-center\"},React.createElement(\"ol\",null,ingredientsList))),\"} modal closeOnDocumentClick contentStyle=\",contentStyle,\">\")),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-6\"},React.createElement(\"div\",null,React.createElement(\"b\",null,\"Ingredients\")),React.createElement(\"div\",{className:\"col align-items-center\"},React.createElement(\"ol\",null,ingredientsList))),React.createElement(\"div\",{className:\"col-sm-6\"},React.createElement(\"b\",null,React.createElement(\"div\",{className:\"col\"},value.readTime,React.createElement(\"br\",null),value.cookTime))),React.createElement(\"div\",{id:\"mealPrepChunk\"},mealPrep[_this6.state.base_index+0],mealPrep[_this6.state.base_index+1],mealPrep[_this6.state.base_index+2])),React.createElement(\"br\",null)),React.createElement(\"hr\",null),React.createElement(\"span\",null,\"Overview\"),\"\\xA0|\\xA0\",React.createElement(\"span\",null,\"Kitchen accessories for this meal\"),\"\\xA0|\\xA0\",React.createElement(\"span\",null,\"Add To Cart..\"),React.createElement(\"br\",null),popUpSlides,React.createElement(\"img\",{src:value.imageSrc,alt:\"info\",style:{width:\"100%\",height:\"100%\",align:\"center\"}}),React.createElement(\"hr\",null)),React.createElement(\"div\",{id:value.id+\"products\",style:{display:\"none\"}},React.createElement(\"b\",null,\"Ingredients 1\"),React.createElement(\"br\",null),value.products,React.createElement(WithScrollbar,{products:value.product_slider,ingredients:[{\"name\":\"sugar\",\"image\":\"/images/products/sugar.jpeg\"},{\"name\":\"onion\",\"image\":\"/images/products/onion.jpg\"},{\"name\":\"tomato\",\"image\":\"/images/products/tomato.jpg\"},{\"name\":\"water\",\"image\":\"/images/products/water.jpeg\"},{\"name\":\"vegetable oil\",\"image\":\"/images/products/vegetable_oil.jpg\"}]}),React.createElement(\"br\",null))));};for(var _iterator=this.state.recipes.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref2;var base_index;var popUpSlides;var i;_loop();}/* Toggle between adding and removing the \"responsive\" class to topnav when the user clicks on the icon */}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}function myFunction(){var x=document.getElementById(\"myTopnav\");console.log(x);// console.log({this.state.topNav_className});\nif(x.className===\"w3-bar w3-dark-grey w3-green topnav\"){x.className+=\" responsive\";}else{x.className=\"w3-bar w3-dark-grey w3-green topnav\";}// var y = document.getElementById(\"myTopnav2\");\n// if (y.className === \"topnav\"){\n//     y.className += \" responsive\";\n//   }\n//   else{\n//       //sync test nav bar as well\n//       y.className = \"topnav\";\n//   }\n}return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"w3-bar w3-dark-grey w3-green topnav\",id:\"myTopnav\"},React.createElement(Link,{to:\"/v2\",className:\"w3-bar-item w3-button w3-text-orange w3-hover-orange w3-mobile\"},\"CC\"),React.createElement(Link,{to:\"/v2\",className:\"w3-bar-item w3-button w3-hover-orange w3-mobile\"},\"Recipes\"),React.createElement(Link,{to:\"/grocery\",onClick:this.handleClickGrocery,className:\"w3-bar-item w3-button w3-hover-orange w3-mobile\"},\"Grocery List\"),React.createElement(\"div\",{className:\"w3-dropdown-hover w3-mobile\"},React.createElement(\"button\",{className:\"w3-button w3-hover-orange w3-mobile\"},\"Shop \",React.createElement(\"i\",{className:\"fa fa-caret-down\"})),React.createElement(\"div\",{className:\"w3-dropdown-content w3-bar-block w3-card-4 \"},React.createElement(Link,{to:\"/products\",className:\"w3-bar-item w3-button w3-text-black w3-hover-orange w3-mobile\"},\"Food Products\"),React.createElement(Link,{to:\"/products\",className:\"w3-bar-item w3-button w3-text-black w3-hover-orange w3-mobile\"},\"Kitchen Products\"),React.createElement(Link,{to:\"/products\",className:\"w3-bar-item w3-button w3-text-black w3-hover-orange w3-mobile\"},\"Other Household Items\"))),React.createElement(Link,{to:\"/\",className:\"w3-bar-item w3-button w3-text-grey w3-hover-orange w3-mobile\"},\" Stats\"),React.createElement(Link,{to:\"#\",className:\"icon\",onClick:function onClick(){console.log(\"Comes thru here\");myFunction();}},React.createElement(\"i\",{className:\"fa fa-bars\"})),isAuthenticated?React.createElement(Link,{to:\"/\",onClick:this.handleLogout,className:\"w3-bar-item w3-button w3-hover-orange w3-mobile\"},\"Logout\"):null),React.createElement(Typeahead,{onChange:this.handleClickTypeahead,multiple:true,options:valueAllDataLists,placeholder:\"Find Meals (and Ingredients) here..\",id:\"typeahead\"}),React.createElement(Alert,{show:showAlert,key:1,variant:variant},messageAlert),this.state.messageVisible?React.createElement(\"div\",null,\"you can not addin this item because is found for this customer\"):null,React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/login\",render:function render(props){return React.createElement(Login,props);}}),React.createElement(Route,{exact:true,path:\"/signup\",render:function render(props){return React.createElement(SignUp,props);}}),React.createElement(Route,{exact:true,path:\"/\",render:function render(props){return React.createElement(\"div\",null,React.createElement(\"div\",{id:\"title\"},React.createElement(\"b\",null,\"Meals\")),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},items)));}}),React.createElement(Route,{path:\"/v1\",render:function render(props){return React.createElement(\"div\",{className:\"container\"},React.createElement(\"br\",null),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm\"},React.createElement(\"b\",null,\"Meals\"),React.createElement(ListedMealsSection,{recipes:_this6.state.recipes,showIngredients:_this6.showIngredients,selectedMeal:_this6.state.selectedMeal}),React.createElement(\"span\",null,\"+\"),React.createElement(\"input\",{placeholder:\"Suggest Meal\"}),\"\\xA0\",React.createElement(\"button\",null,\"Submit \",React.createElement(\"span\",{id:\"Popover1\",onMouseOver:_this6.suggestMealToggle,onMouseOut:_this6.suggestMealToggle},React.createElement(\"img\",{src:\"/images/info_icon.png\",alt:\"info\",style:{width:'13px',height:'13px'}}),\" \"))),React.createElement(\"div\",{className:\"col-sm\"},React.createElement(\"b\",null,\"Recipe Contents\"),React.createElement(RecipeContentSection,{selectedMeal:_this6.state.selectedMeal})),React.createElement(\"div\",{className:\"col-sm\"},React.createElement(\"b\",null,\"Ingredients\"),React.createElement(IngredientSection,{selectedMealIngredients:_this6.state.selectedMealIngredients,selectedMeal:_this6.state.selectedMeal})),React.createElement(Popover,{placement:\"auto\",isOpen:_this6.state.suggestMealPopOver,target:\"Popover1\",toggle:_this6.suggestMealToggle},React.createElement(PopoverBody,null,React.createElement(\"div\",{className:\"payback-disclaimer\"},\"Suggestions by Guest Users are recorded, but do not change the publicly displayed Meals.\")))));}}),React.createElement(Route,{path:\"/v2\",render:function render(props){return React.createElement(\"div\",null,React.createElement(\"div\",{id:\"title\"},React.createElement(\"b\",null,\"Meals\")),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},items)));}}),React.createElement(Route,{exact:true,path:\"/grocery\",render:function render(){return React.createElement(GroceryPage,{auth:isAuthenticated,dataTypeaheadProps:itemTypeahead});}}),\")} />\",React.createElement(Route,{exact:true,path:\"/grocery-empty\",render:function render(props){return React.createElement(\"span\",{className:\"grocery-page-empty__message\"},\"Sorry you must make log in to seen grocery list \");}}),React.createElement(Route,{exact:true,path:\"/cart-page/:idItem\",component:CartPage}),React.createElement(Route,{path:\"/products\",render:function render(props){return React.createElement(ProductsSection,null);}})));}}]);return App;}(Component);var containerStyle={//font: \"50px\",\ndisplay:\"inline-block\",width:\"100%\",height:\"100%\"};var contentStyle={// borderRadius: \"25px\",\nmaxWidth:\"100vw\",maxHeight:\"100vh\",overflow:\"scroll\",width:\"80%\"};/* Toggle between adding and removing the \"responsive\" class to topnav when the user clicks on the icon */ // function myFunction() {\n//     var x = document.getElementById(\"myTopnav\");\n//     console.log(\"Hello World 2\");\n//     // if (x.className === \"topnav\") {\n//     //   x.className += \" responsive\";\n//     // } else {\n//     //   x.className = \"topnav\";\n//     // }\n//   }\nexport default App;","map":{"version":3,"sources":["/Users/olasubomiawokoya/Documents/projects/chop_chow_sd/client/src/App.js"],"names":["React","Component","Typeahead","Nav","Navbar","Alert","NavDropdown","Form","FormControl","Popover","PopoverBody","Popup","Link","Route","Switch","Spinner","InfiniteCarousel","Slider","WithScrollbar","RecipeContentSection","ListedMealsSection","IngredientSection","ProductsSection","CartPage","Login","GroceryPage","SignUp","App","props","meals","products","meal_popups","showIngredients","event","mealString","target","innerText","console","log","meal","label","setState","selectedMealIngredients","ingredients","selectedMeal","handleLogout","fetch","method","credentials","headers","then","res","json","response","data","isAuthenticated","catch","messageAlert","showAlert","variant","setTimeout","suggestMealToggle","bind","updateInstructionsDisplayBaseIndex","state","messageVisible","customerId","idItem","option","itemTypeahead","valueAllDataLists","message","suggestMealPopOver","mealsListed","mealSelected","IngredientsListed","recipes","hidden","showProducts","mealsLength","base_index","topNav_className","auth","url","text","body","productsList","JSON","parse","i","length","push","product_name","err","error","index","button","regExp","slide_index","match","last_chars","slice","slide_num","Number","success","handleClickTypeahead","optionItem","map","Accept","responseGet","id","status","Authentication","Authenticated","valueData","arrAllData","resArr","new_ingredients","items","value","mealPrep","instructions","step","popUpSlides","instructionsLength","ingredientsList","containerStyle","x","document","getElementById","y","style","display","imageSrc","width","color","cookTime","intro","backgroundColor","contentStyle","readTime","height","align","product_slider","entries","myFunction","className","handleClickGrocery","maxWidth","maxHeight","overflow"],"mappings":"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","sourcesContent":["/* eslint-disable no-dupe-class-members */\nimport React, { Component } from 'react';\nimport { Typeahead } from 'react-bootstrap-typeahead';\n\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\n// import ListedMealsSection from './components/mealMenu/ListedMealsSection';\n// import RecipeContentSection from './components/mealMenu/RecipeContentSection';\n// import IngredientSection from './components/mealMenu/IngredientSection';\nimport { Nav, Navbar, Alert, NavDropdown, Form, FormControl } from 'react-bootstrap'\nimport { Popover, PopoverBody } from 'reactstrap';\nimport Popup from \"reactjs-popup\";\n\nimport { Link, Route, Switch } from \"react-router-dom\";\nimport { Spinner } from 'react-bootstrap'\nimport InfiniteCarousel from 'react-leaf-carousel';\nimport Slider from './components/product_slider/slider';\nimport WithScrollbar from './components/product_slider/WithScrollbar';\nimport RecipeContentSection from './components/mealMenu/RecipeContentSection';\nimport ListedMealsSection from './components/mealMenu/ListedMealsSection';\nimport IngredientSection from './components/mealMenu/IngredientSection';\nimport ProductsSection from './components/productSection/ProductsPage';\n//import Collapse from 'react-bootstrap/Collapse';\n// import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport CartPage from './components/GroceryPage/CartPage';\nimport Login from './components/Login';\nimport GroceryPage from './components/GroceryPage';\nimport SignUp from './components/signup';\nclass App extends Component {\n\n\n    meals = [];\n    // Mongo \n    products = [];\n\n    constructor(props) {\n        super(props);\n        this.suggestMealToggle = this.suggestMealToggle.bind(this);\n        this.updateInstructionsDisplayBaseIndex = this.updateInstructionsDisplayBaseIndex.bind(this);\n        // this.myFunction = this.myFunction.bind(this);\n\n        this.state = {\n            messageVisible: false,\n\n            showAlert: false,\n            messageAlert: '',\n            variant: '',\n            customerId: '',\n            idItem: '',\n            option: '',\n            itemTypeahead: [],\n            valueAllDataLists: [],\n            message: null,\n            isAuthenticated: false,\n\n            suggestMealPopOver: false,\n            mealsListed: false,\n            mealSelected: false,\n            IngredientsListed: false,\n            recipes: [], //[this.Garri, this.Jollof_Rice],\n            selectedMealIngredients: null,\n            selectedMeal: null,\n            showIngredients: {\n                hidden: true\n            },\n            showProducts: {\n                hidden: true\n            },\n            //open: false,\n\n            mealsLength: null,\n            base_index: 0,\n            topNav_className: \"w3-bar w3-dark-grey w3-green topnav\",\n        }\n    }\n\n    meal_popups = [];\n\n    componentDidMount() {\n\n        this.auth();\n        console.log(\"Comes in apps component did mount\")\n        var url = \"http://localhost:5000/get_products\"\n        fetch(url)\n            .then(res => res.text())\n            .then(body => {\n                var productsList = JSON.parse(body);\n\n                for (var i = 0; i < productsList.length; i++) {\n                    this.products.push(productsList[i].product_name);\n                    // console.log(productsList[i].product_name)\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n\n    }\n\n    showIngredients = (event) => {\n        let mealString = event.target.innerText;\n        console.log(mealString);\n\n        var meal;\n        for (meal in this.meals) {\n            //console.log(this.meals[meal].label);\n            if (this.meals[meal].label === mealString) {\n                //change selected ingredients\n                this.setState({ selectedMealIngredients: this.meals[meal].ingredients });\n                this.setState({ selectedMeal: this.meals[meal] });\n                break;\n            }\n        }\n        //get list of ingredients\n    }\n\n    suggestMealToggle() {\n        this.setState({\n            suggestMealPopOver: !this.state.suggestMealPopOver\n        });\n    }\n\n    meal_popups = [];\n\n    componentDidMount() {\n        console.log(\"Comes in component did mount\")\n        var url = \"http://localhost:5000/get_products\"\n        var url = \"https://chopchowsd.herokuapp.com/get_products\" // call in production\n\n        fetch(url)\n            .then(res => res.text())\n            .then(body => {\n                console.log()\n                var productsList = JSON.parse(body)\n                for (var i = 0; i < productsList.length; i++) {\n                    this.products.push(productsList[i].product_name);\n                    console.log(productsList[i].product_name)\n                }\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    }\n\n    showIngredient(index) {\n        console.log(\"updating popup boolean\");\n        this.meal_popups[index] = !this.meal_popups[index]\n    }\n\n    updateInstructionsDisplayBaseIndex(event) {\n        console.log(event.target.innerText);\n        var button = event.target.innerText;\n        var regExp = '/^w+[ ]/d  $/';\n        var slide_index = button.match(regExp);\n        //console.log(slide_index);\n        var last_chars = button.slice(6, 7);\n\n        var slide_num = Number(last_chars);\n\n        this.setState({ base_index: slide_num * 3 })\n        //var base_index = slide_num*3;\n        //console.log(\"Updating base index on click to: \" +this.state.base_index);\n    }\n\n    auth() {\n        fetch('/api/grocery', {\n            method: 'GET',\n            credentials: 'same-origin',\n            headers: {\n                'Content-type': 'application/json',\n            },\n        })\n            .then(res => res.json())\n            .then(res => {\n                if (res.success) {\n                    this.setState({ isAuthenticated: true })\n                }\n            }).catch((err) =>\n                console.log('err', err)\n            )\n\n    }\n\n    handleLogout = () => {\n        fetch('/api/logout', {\n            method: \"GET\",\n            credentials: 'same-origin',\n            headers: {\n                'Content-type': 'application/json',\n\n            }\n        }).then(res => {\n\n            res.json()\n                .then(response => {\n                    if (response.data) {\n                        this.setState({ isAuthenticated: false })\n                    }\n                })\n        })\n            .catch(() => {\n                this.setState({\n                    messageAlert: 'internal server error',\n                    showAlert: true,\n                    variant: 'danger'\n                },\n                    () =>\n                        setTimeout(() => {\n                            this.setState({ messageAlert: '', showAlert: false })\n                        }, 6000)\n                )\n\n\n\n\n            })\n    }\n\n    componentDidMount() {\n        this.handleLogout();\n        this.auth();\n        this.handleClickTypeahead = (optionItem) => {\n            const { itemTypeahead } = this.state;\n            if (!optionItem) return;\n            console.log(optionItem)\n            optionItem.map(option => {\n                fetch(`/api/get-data-typeahead/${option}`, {\n                    method: 'GET',\n                    credentials: 'same-origin',\n                    headers: {\n                        Accept: 'application/json',\n                        'Content-Type': 'application/json',\n                    },\n                })\n                    .then(res => {\n                        return res.json()\n                    })\n                    .then(responseGet => {\n                        this.setState({ idItem: responseGet.data[0].id })\n                        const { customerId, idItem } = this.state;\n                        fetch(`/api/add-data-typeahead-for-customer/${idItem}/${customerId}`, {\n                            method: 'POST',\n                            credentials: 'same-origin',\n                            headers: {\n                                Accept: 'application/json',\n                                'Content-Type': 'application/json',\n                            },\n                        })\n                            .then(res => {\n                                if (res) {\n                                    if (res.status === 500) {\n                                        this.setState({\n                                            messageAlert: 'internal server error',\n                                            showAlert: true,\n                                            variant: 'danger'\n                                        },\n                                            () =>\n                                                setTimeout(() => {\n                                                    this.setState({ messageAlert: '', showAlert: false })\n                                                }, 6000)\n                                        )\n\n                                    } else if (res.status === 200) {\n                                        return res.json()\n                                            .then(response => {\n                                                this.setState({ itemTypeahead: [] })\n                                                this.setState({ itemTypeahead: [...itemTypeahead, ...responseGet.data] })\n                                            })\n                                    } else if (res.status === 304) {\n                                        return res.json()\n                                            .then(response => {\n                                                this.setState({ itemTypeahead: [] })\n                                                this.setState({ itemTypeahead: [...itemTypeahead] })\n                                            })\n                                    }\n                                }\n                            })\n                    })\n            })\n        }\n\n        fetch('/api/grocery', {\n            method: 'GET',\n            headers: {\n                'Content-type': 'application/json',\n            },\n        })\n            .then(res => {\n                return res.json()\n\n            })\n            .then(response => {\n                if (response.success && response.data) {\n                    this.setState({ Authentication: true });\n                } else {\n                    this.setState({ Authenticated: false })\n                }\n                this.setState({ customerId: response.data })\n                const { customerId } = this.state;\n                fetch(`/api/getList/${customerId}`, {\n                    method: 'GET',\n                    credentials: 'same-origin',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n\n                })\n                    .then(res => {\n                        return res.json()\n                    })\n                    .then(response => {\n                        if (response) {\n                            this.setState({ valueData: response.data })\n                        }\n                    }).catch(() => {\n                        this.setState({\n                            messageAlert: 'internal server error',\n                            showAlert: true,\n                            variant: 'danger'\n                        },\n                            () =>\n                                setTimeout(() => {\n                                    this.setState({ messageAlert: '', showAlert: false })\n                                }, 6000)\n                        )\n                    })\n            })\n\n\n        fetch('/api/get-all-data-lists', {\n            method: 'GET',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n\n        })\n            .then(res => res.json())\n            .then(response => {\n                if (response) {\n                    let arrAllData = [];\n                    let resArr = response.data\n\n                    for (let i = 0; i <= resArr.length - 1; i++) {\n\n                        arrAllData.push(response.data[i].product_name);\n\n                        this.setState({ valueAllDataLists: arrAllData })\n                    }\n                }\n            }).catch(() => {\n                this.setState({\n                    messageAlert: 'internal server error',\n                    showAlert: true,\n                    variant: 'danger'\n                },\n                    () =>\n                        setTimeout(() => {\n                            this.setState({ messageAlert: '', showAlert: false })\n                        }, 6000)\n                )\n\n\n            })\n\n\n        fetch('/api/get-meals', {\n            method: 'GET',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n\n        })\n            .then(res => res.json())\n            .then(response => {\n                if (response) {\n                    this.setState({\n                        recipes: response.data,\n                        selectedMealIngredients: response.data[0].new_ingredients,\n                        selectedMeal: response.data[0],\n                        mealsLength: response.data.length\n                    });\n                }\n            }).catch((err) => {\n                console.log('err', err);\n\n            })\n\n\n\n    }\n\n\n\n    render() {\n        const { messageAlert, showAlert, variant, itemTypeahead, valueAllDataLists, isAuthenticated, } = this.state;\n\n        // Render your page inside\n        // the layout provider\n        //const elements = ['one', 'two', 'three'];\n        //const popOverInfo = []\n        const items = []\n\n\n\n        for (const [index, value] of this.state.recipes.entries()) {\n            var base_index = 0;\n            const mealPrep = value.instructions.map((step) => <li key={step} > {step} </li>);\n            var popUpSlides = [];\n\n            const instructionsLength = value.instructions.length;\n            // console.log(instructionsLength);\n\n            // var mealIngredient = value.ingredients ;\n            const ingredientsList = value.ingredients.map((step) => <li key={step} > {step} </li>);\n            var i;\n            for (i = 0; i < instructionsLength / 3; i++) {\n                popUpSlides.push(<button key={i} onClick={this.updateInstructionsDisplayBaseIndex}>Slide {i}  </button>)\n            }\n            this.meal_popups.push(false);\n            // console.log(this.meal_popups);\n            // console.log(index);\n            items.push(\n                <>\n                    <div className=\"col-sm-12 col-md-6 col-lg-4 mealContainer\" key={value.id} >\n                        <div>\n                            <div style={containerStyle} onClick={() => {\n                                this.meal_popups[index] = !this.meal_popups[index];\n                                console.log(this.meal_popups);\n                                var x = document.getElementById(value.id);\n                                var y = document.getElementById(value.id + \"products\")\n                                if (this.meal_popups[index]) {\n                                    x.style.display = \"block\";\n                                    y.style.display = \"block\";\n\n                                }\n                                else {\n                                    x.style.display = \"none\";\n                                    y.style.display = \"none\";\n                                }\n                            }}>\n                                <img src={value.imageSrc} className=\"images\" style={{ width: \"100%\" }} alt={value.id}></img>\n                                {/* <img src={value.imageSrc} className=\"images\" style={{width:\"100%\"}} alt={value.id} onClick={this.showIngredient(index)}></img> */}\n                                <div style={{ color: \"black\" }}> <b> {value.label} | {value.cookTime}  </b>| <span style={{ color: \"grey\" }}> View Details</span></div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Popup\n                        trigger={\n                            <div id={value.id} style={{ display: \"none\" }}>\n                                {value.intro}\n                                <br></br>\n                                <br></br>\n                                <button style={{ backgroundColor: \"orange\" }}>View Steps</button>\n                                <br></br>\n                            </div>\n\n\n                        } modal closeOnDocumentClick contentStyle={contentStyle}>\n\n                        {/* Inside Pop - up */}\n\n                        <div className=\"container \">\n                            <div className=\"row\">\n                                <div className=\"col-sm-6\">\n                                    <div><b>Ingredients</b></div>\n                                    <div className=\"col align-items-center\"><ol>{ingredientsList}</ol></div>\n                                </div>\n                                } modal closeOnDocumentClick contentStyle={contentStyle}>\n                        </div>\n                        </div>\n                        {/* Inside Pop - up */}\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-6\">\n                                    <div><b>Ingredients</b></div>\n                                    <div className=\"col align-items-center\"><ol>{ingredientsList}</ol></div>\n                                </div>\n                                <div className=\"col-sm-6\"><b>\n                                    <div className=\"col\">{value.readTime}<br></br>{value.cookTime}</div>\n                                    {/* <div className=\"col\"></div> */}\n                                </b>\n                                </div>\n                                <div id=\"mealPrepChunk\">\n                                    {mealPrep[this.state.base_index + 0]}\n                                    {mealPrep[this.state.base_index + 1]}\n                                    {mealPrep[this.state.base_index + 2]}\n                                </div>\n                            </div>\n                            <br></br>\n                            {/* <div className=\"row\">\n                            <div className=\"col-sm-12\">\n                                <img src={value.imageSrc} alt='info' style={{ width:\"100%\", height:\"100%\", align:\"center\"}}></img>\n                            </div>\n                        </div> */}\n                        </div>\n                        <hr></hr>\n\n                        <span>Overview</span>&nbsp;|&nbsp;<span>Kitchen accessories for this meal</span>&nbsp;|&nbsp;<span>Add To Cart..</span>\n                        <br></br>\n                        {popUpSlides}\n                        <img src={value.imageSrc} alt='info' style={{ width: \"100%\", height: \"100%\", align: \"center\" }}></img>\n                        <hr></hr>\n                        {/* <div className=\"col\">\n                        <div className=\"col align-items-center\"><ol>{mealPrep}</ol></div>\n                    </div> */}\n\n                        {/* </div> */}\n\n                        {/* </div> */}\n                        {/* <div>\n                    <div className=\"col align-items-left\">\n                        <img src={value.imageSrc} alt='info'  style={{width:'35%', height:'35%', align:\"center\"}}></img>\n                    </div>\n                    <div>                            \n                        <div className=\"col align-items-center\"><ol>{mealPrep}</ol></div>\n                    </div>\n                    </div>\n                    */}\n\n                    </Popup>\n                    <div id={value.id + \"products\"} style={{ display: \"none\" }}>\n                        <b>Ingredients 1</b>\n                        <br></br>\n                        {value.products}\n                        <WithScrollbar products={value.product_slider} ingredients={[{ \"name\": \"sugar\", \"image\": \"/images/products/sugar.jpeg\" }, { \"name\": \"onion\", \"image\": \"/images/products/onion.jpg\" }, { \"name\": \"tomato\", \"image\": \"/images/products/tomato.jpg\" }, { \"name\": \"water\", \"image\": \"/images/products/water.jpeg\" }, { \"name\": \"vegetable oil\", \"image\": \"/images/products/vegetable_oil.jpg\" }]} />\n                        <br />\n\n                    </div>\n                </>\n            )\n        }\n\n        /* Toggle between adding and removing the \"responsive\" class to topnav when the user clicks on the icon */\n        function myFunction() {\n            var x = document.getElementById(\"myTopnav\");\n            console.log(x);\n            // console.log({this.state.topNav_className});\n            if (x.className === \"w3-bar w3-dark-grey w3-green topnav\") {\n                x.className += \" responsive\";\n            }\n            else {\n                x.className = \"w3-bar w3-dark-grey w3-green topnav\";\n            }\n\n            // var y = document.getElementById(\"myTopnav2\");\n            // if (y.className === \"topnav\"){\n            //     y.className += \" responsive\";\n            //   }\n            //   else{\n            //       //sync test nav bar as well\n            //       y.className = \"topnav\";\n            //   }\n        }\n\n\n        return (\n\n            <div>\n\n                {/* <div> */}\n\n                {/* <div className={this.state.topNav_className} id=\"myTopnav\"> */}\n                <div className=\"w3-bar w3-dark-grey w3-green topnav\" id=\"myTopnav\">\n                    {/* <a href=\"/v2\" className=\"w3-bar-item w3-button w3-text-orange w3-hover-orange w3-mobile\">CC</a> */}\n                    <Link to=\"/v2\" className=\"w3-bar-item w3-button w3-text-orange w3-hover-orange w3-mobile\">CC</Link>\n\n                    <Link to=\"/v2\" className=\"w3-bar-item w3-button w3-hover-orange w3-mobile\">Recipes</Link>\n\n                    <Link to=\"/grocery\" onClick={this.handleClickGrocery} className=\"w3-bar-item w3-button w3-hover-orange w3-mobile\">Grocery List</Link>\n\n\n                    <div className=\"w3-dropdown-hover w3-mobile\">\n                        <button className=\"w3-button w3-hover-orange w3-mobile\">\n                            Shop <i className=\"fa fa-caret-down\"></i>\n                        </button>\n                        <div className=\"w3-dropdown-content w3-bar-block w3-card-4 \">\n                            <Link to=\"/products\" className=\"w3-bar-item w3-button w3-text-black w3-hover-orange w3-mobile\">Food Products</Link>\n                            <Link to=\"/products\" className=\"w3-bar-item w3-button w3-text-black w3-hover-orange w3-mobile\">Kitchen Products</Link>\n                            <Link to=\"/products\" className=\"w3-bar-item w3-button w3-text-black w3-hover-orange w3-mobile\">Other Household Items</Link>\n                        </div>\n                    </div>\n                    <Link to=\"/\" className=\"w3-bar-item w3-button w3-text-grey w3-hover-orange w3-mobile\"> Stats</Link>\n                    {/* <span onClick={()=>{console.log(\"Or thru here\");myFunction()}} className=\"icon\">\n    <i className=\"fa fa-bars\"> an option</i>\n    </span> */}\n                    <Link to=\"#\" className=\"icon\" onClick={() => { console.log(\"Comes thru here\"); myFunction() }} >\n                        <i className=\"fa fa-bars\" ></i>\n                    </Link>\n                    {isAuthenticated ? (\n\n                        <Link to=\"/\" onClick={this.handleLogout} className=\"w3-bar-item w3-button w3-hover-orange w3-mobile\">Logout</Link>\n                    ) : null}\n\n                </div>\n\n                {/* <div className=\"topnav\" id=\"myTopnav2\">\n    <Link to=\"/\">CC</Link>\n    <Link to=\"/\">Recipes</Link>\n\n    <div className=\"dropdown\">\n        <button className=\"dropbtn\"> \n            Shop <i className=\"fa fa-caret-down\"></i>\n        </button>\n        <div className=\"dropdown-content\">\n            <Link to=\"/products\">Food Products</Link>\n            <Link to=\"/products\">Kitchen Products</Link>\n            <Link to=\"/products\">Other Household Items</Link>\n        </div>\n    </div>\n\n    <Link to=\"/v1\">Stats</Link>\n    <Link to=\"javascript:void(0);\" className=\"icon\" onClick={()=>{console.log(\"Comes thru here\"); myFunction()}} >\n    <i className=\"fa fa-bars\" ></i>\n    </Link>\n</div> */}\n\n\n\n                <Typeahead\n                    onChange={this.handleClickTypeahead}\n                    multiple\n                    options={valueAllDataLists}\n                    placeholder=\"Find Meals (and Ingredients) here..\"\n                    id=\"typeahead\"\n                />\n                <Alert show={showAlert} key={1} variant={variant}>\n                    {messageAlert}\n                </Alert>\n\n                {this.state.messageVisible ? (\n                    <div>you can not addin this item because is found for this customer</div>\n                ) : null}\n\n                <Switch>\n                    <Route\n                        exact\n                        path=\"/login\"\n                        render={props => (\n                            <Login {...props} />\n                        )}\n                    />\n\n          <Route\n                        exact\n                        path=\"/signup\"\n                        render={props => (\n                            <SignUp {...props} />\n                        )}\n                    />\n                    \n                    <Route exact path=\"/\" render={(props) => (\n                        <div>\n                            <div id=\"title\">\n                                <b>Meals</b>\n                            </div>\n\n                            <div className=\"container\">\n                                <div className=\"row\">\n                                    {items}\n                                </div>\n                            </div>\n                        </div>\n                    )} />\n\n                    <Route path=\"/v1\" render={(props) => (\n                        <div className=\"container\">\n                            <br></br>\n                            <div className=\"row\">\n                                <div className=\"col-sm\">\n                                    <b>Meals</b>\n                                    <ListedMealsSection\n                                        recipes={this.state.recipes} showIngredients={this.showIngredients}\n                                        selectedMeal={this.state.selectedMeal} />\n                                    <span>&#43;</span><input placeholder=\"Suggest Meal\"></input>\n\n                                    &nbsp;<button>Submit <span id=\"Popover1\" onMouseOver={this.suggestMealToggle} onMouseOut={this.suggestMealToggle} >\n                                        <img src=\"/images/info_icon.png\" alt=\"info\" style={{ width: '13px', height: '13px' }} /> </span></button>\n                                    {/* onClick={this.suggestMealToggle} */}\n                                </div>\n                                <div className=\"col-sm\">\n                                    <b>Recipe Contents</b>\n                                    <RecipeContentSection selectedMeal={this.state.selectedMeal} />\n\n                                </div>\n\n                                <div className=\"col-sm\">\n                                    <b>Ingredients</b>\n                                    <IngredientSection selectedMealIngredients={this.state.selectedMealIngredients}\n                                        selectedMeal={this.state.selectedMeal} />\n                                    {/* <span>&#43;</span><input placeholder=\"Suggest Ingredient..\"></input> */}\n                                </div>\n\n                                <Popover placement=\"auto\" isOpen={this.state.suggestMealPopOver} target=\"Popover1\" toggle={this.suggestMealToggle}>\n                                    <PopoverBody><div className=\"payback-disclaimer\">\n                                        Suggestions by Guest Users are recorded, but do not change the publicly displayed Meals.\n                </div></PopoverBody>\n                                </Popover>\n                            </div>\n                        </div>\n                    )} />\n\n                    <Route path=\"/v2\" render={(props) => (\n                        <div>\n                            <div id=\"title\">\n                                <b>Meals</b>\n                            </div>\n\n\n                            <div className=\"container\">\n                                <div className=\"row\">\n                                    {items}\n                                </div>\n                            </div>\n                        </div>\n                    )} />\n\n\n\n                    <Route\n                        exact\n                        path=\"/grocery\"\n                        render={() => (\n                            <GroceryPage\n                                auth={isAuthenticated}\n                                dataTypeaheadProps={itemTypeahead}\n                            />\n\n                        )}\n\n                    />\n\n                    )}\n\n                />\n\n                    <Route\n                        exact\n                        path=\"/grocery-empty\"\n                        render={props => (\n\n                            <span className=\"grocery-page-empty__message\">Sorry you must make log in to seen grocery list </span>\n\n\n\n                        )} />\n                    <Route\n                        exact\n                        path=\"/cart-page/:idItem\"\n                        component={CartPage}\n\n                    />\n                    <Route path=\"/products\" render={(props) => (\n                        <ProductsSection />\n                    )} />\n                </Switch>\n\n                {/* <div className=\"row\">\n    <div className=\"col-sm\">\n        <b>Meals</b>\n        <ListedMealsSection \n        recipes={this.state.recipes} showIngredients={this.showIngredients}\n        selectedMeal={this.state.selectedMeal}/>\n        \n        \n\n        </div>                     \n    <div className=\"col-sm\">\n        <b>Recipe Contents</b>\n        <RecipeContentSection selectedMeal= {this.state.selectedMeal}/>\n        \n    </div>\n\n    <div className=\"col-sm\">\n        <b>Ingredients</b>\n        <IngredientSection selectedMealIngredients= {this.state.selectedMealIngredients}\n        selectedMeal= {this.state.selectedMeal}/>\n    </div>\n    \n    \n</div> */}\n            </div>\n        );\n    }\n}\n\nconst containerStyle = {\n    //font: \"50px\",\n    display: \"inline-block\",\n    width: \"100%\",\n    height: \"100%\",\n\n}\n\nconst contentStyle = {\n    // borderRadius: \"25px\",\n    maxWidth: \"100vw\",\n    maxHeight: \"100vh\",\n    overflow: \"scroll\",\n    width: \"80%\",\n};\n\n\n/* Toggle between adding and removing the \"responsive\" class to topnav when the user clicks on the icon */\n// function myFunction() {\n//     var x = document.getElementById(\"myTopnav\");\n//     console.log(\"Hello World 2\");\n//     // if (x.className === \"topnav\") {\n//     //   x.className += \" responsive\";\n//     // } else {\n//     //   x.className = \"topnav\";\n//     // }\n//   }\n\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}