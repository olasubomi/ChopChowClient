{"ast":null,"code":"import React from'react';import'./style.css';import{Form,Button,Container,Modal}from'react-bootstrap';import{Link}from'react-router-dom';export default class Login extends React.Component{constructor(...args){super(...args);this.state={email:'',password:'',messageErr:false,messageSuccess:false,isAuthenticated:false};this.handleClick=()=>{const _this$state=this.state,email=_this$state.email,password=_this$state.password;if(email&&password){// make a requset to the back with method post and data{email , password}\nfetch('/api/login',{method:'POST',credentials:'include',headers:{'Content-type':'application/json'},body:JSON.stringify({email,password})}).then(response=>{if(response.status===400||response.status===404){this.setState({messageErr:'Bad Request , Check username or password ... !!'});}else if(response.status===401){this.setState({messageErr:'you are UnAuthorized'});}else if(response.status>=500){this.setState({messageErr:'Sorry , Internal Server ERROR'});}else{this.setState({messageErr:''});this.setState({isAuthenticated:true});this.setState({messageSuccess:'login sucessfully '});return window.location.href='/grocery';}});}else{this.setState({messageErr:'Please enter all fields'});}};this.handleChange=({target:{value,name}})=>this.setState({[name]:value});}render(){const _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,messageErr=_this$state2.messageErr,messageSuccess=_this$state2.messageSuccess;return(/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Modal,{show:\"true\",onHide:this.handleClose,className:\"modal\",backdrop:\"static\"},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Form,{className:\"login__form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login__form-div-title\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"login__form-title\"},\"Log in to View Grocery List\")),/*#__PURE__*/React.createElement(\"div\",{className:\"vl\"},/*#__PURE__*/React.createElement(\"span\",{className:\"vl-innertext\"},\"or\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fb btn\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-facebook fa-fw\"}),\" Login with Facebook\"),/*#__PURE__*/React.createElement(\"button\",{className:\"google btn\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-google fa-fw\"}),\" Login with Google+\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"hide-md-lg\"},/*#__PURE__*/React.createElement(\"p\",null,\"Or sign in manually:\"))),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Email :\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"email\",value:email,placeholder:\"Enter your email\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Password :\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",name:\"password\",value:password,placeholder:\"Enter your password\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"p\",{className:\"msg-success\"},messageSuccess),/*#__PURE__*/React.createElement(\"p\",{className:\"msg-err\"},messageErr),/*#__PURE__*/React.createElement(Link,null,/*#__PURE__*/React.createElement(\"span\",{className:\"link-forgot-password\"},\"Forget Password  ?\")),/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"login__form-btn\",onClick:this.handleClick},\"Log in\"),/*#__PURE__*/React.createElement(Form.Text,{className:\"login__form__text-muted\"},\"Don\\u2019t have an account? \",'',/*#__PURE__*/React.createElement(Link,{className:\"link-signup-word\",to:\"/signup\"},\"Sign Up\"),/*#__PURE__*/React.createElement(\"br\",null),\"or\",/*#__PURE__*/React.createElement(Link,{className:\"link-guest-word\",to:\"/aguest\"},\"continue as guest\"))))))));}}","map":{"version":3,"sources":["/Users/olasubomiawokoya/Documents/projects/ChopChowClient/src/components/Login/index.jsx"],"names":["React","Form","Button","Container","Modal","Link","Login","Component","state","email","password","messageErr","messageSuccess","isAuthenticated","handleClick","fetch","method","credentials","headers","body","JSON","stringify","then","response","status","setState","window","location","href","handleChange","target","value","name","render","handleClose"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,SAAvB,CAAkCC,KAAlC,KAA8C,iBAA9C,CAEC,OAASC,IAAT,KAAqB,kBAArB,CAEA,cAAe,MAAMC,CAAAA,KAAN,QAAoBN,CAAAA,KAAK,CAACO,SAAU,0CAClDC,KADkD,CAC1C,CACNC,KAAK,CAAE,EADD,CAENC,QAAQ,CAAE,EAFJ,CAGNC,UAAU,CAAC,KAHL,CAINC,cAAc,CAAC,KAJT,CAKNC,eAAe,CAAE,KALX,CAD0C,MASjDC,WATiD,CASnC,IAAM,mBACS,KAAKN,KADd,CACXC,KADW,aACXA,KADW,CACJC,QADI,aACJA,QADI,CAEnB,GAAID,KAAK,EAAIC,QAAb,CAAuB,CAEpB;AACDK,KAAK,CAAC,YAAD,CAAe,CAClBC,MAAM,CAAE,MADU,CAElBC,WAAW,CAAE,SAFK,CAGlBC,OAAO,CAAE,CACP,eAAgB,kBADT,CAHS,CAMlBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBZ,KADmB,CAEnBC,QAFmB,CAAf,CANY,CAAf,CAAL,CAWGY,IAXH,CAWQC,QAAQ,EAAI,CAChB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAApB,EAA2BD,QAAQ,CAACC,MAAT,GAAoB,GAAnD,CAAwD,CACtD,KAAKC,QAAL,CAAc,CAAEd,UAAU,CAAE,iDAAd,CAAd,EACD,CAFD,IAEO,IAAIY,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAClC,KAAKC,QAAL,CAAc,CAAEd,UAAU,CAAE,sBAAd,CAAd,EACD,CAFM,IAEA,IAAIY,QAAQ,CAACC,MAAT,EAAmB,GAAvB,CAA4B,CACjC,KAAKC,QAAL,CAAc,CAAEd,UAAU,CAAE,+BAAd,CAAd,EACD,CAFM,IAEA,CACL,KAAKc,QAAL,CAAc,CAACd,UAAU,CAAC,EAAZ,CAAd,EACA,KAAKc,QAAL,CAAc,CAACZ,eAAe,CAAC,IAAjB,CAAd,EACA,KAAKY,QAAL,CAAc,CAAEb,cAAc,CAAE,oBAAlB,CAAd,EACA,MAAOc,CAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,UAA9B,CACD,CACF,CAxBH,EA2BA,CA9BF,IA8BQ,CACN,KAAKH,QAAL,CAAc,CAAEd,UAAU,CAAE,yBAAd,CAAd,EACD,CACF,CA5CiD,MA8CjDkB,YA9CiD,CA8ClC,CAAC,CAAEC,MAAM,CAAE,CAAEC,KAAF,CAASC,IAAT,CAAV,CAAD,GACd,KAAKP,QAAL,CAAc,CAAE,CAACO,IAAD,EAAQD,KAAV,CAAd,CA/CgD,EAiDjDE,MAAM,EAAG,oBACgD,KAAKzB,KADrD,CACAC,KADA,cACAA,KADA,CACOC,QADP,cACOA,QADP,CACiBC,UADjB,cACiBA,UADjB,CAC6BC,cAD7B,cAC6BA,cAD7B,CAER,oBACE,qDACE,oBAAC,SAAD,mBACA,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,MAAM,CAAE,KAAKsB,WAAhC,CAA6C,SAAS,CAAC,OAAvD,CAA+D,QAAQ,CAAC,QAAxE,eACgB,oBAAC,KAAD,CAAO,IAAP,mBAEG,oBAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,eACC,2BAAK,SAAS,CAAC,uBAAf,eACA,0BAAI,SAAS,CAAC,mBAAd,gCADA,CADD,cAQA,2BAAK,SAAS,CAAC,IAAf,eACC,4BAAM,SAAS,CAAC,cAAhB,OADD,CARA,cAYA,2BAAK,SAAS,CAAC,KAAf,eACC,8BAAQ,SAAS,CAAC,QAAlB,eACI,yBAAG,KAAK,CAAC,sBAAT,EADJ,wBADD,cAIC,8BAAQ,SAAS,CAAC,YAAlB,eAA+B,yBAAG,KAAK,CAAC,oBAAT,EAA/B,uBAJD,CAZA,cAqBA,2BAAK,SAAS,CAAC,KAAf,eACC,2BAAK,SAAS,CAAC,YAAf,eACI,oDADJ,CADD,CArBA,cA0BC,oBAAC,IAAD,CAAM,KAAN,mBACA,oBAAC,IAAD,CAAM,KAAN,gBADA,cAEA,oBAAC,IAAD,CAAM,OAAN,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,OAFT,CAGI,KAAK,CAAEzB,KAHX,CAII,WAAW,CAAC,kBAJhB,CAKI,QAAQ,CAAE,KAAKoB,YALnB,EAFA,CA1BD,cAoCC,oBAAC,IAAD,CAAM,KAAN,mBACA,oBAAC,IAAD,CAAM,KAAN,mBADA,cAEA,oBAAC,IAAD,CAAM,OAAN,EACI,IAAI,CAAC,UADT,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAEnB,QAHX,CAII,WAAW,CAAC,qBAJhB,CAKI,QAAQ,CAAE,KAAKmB,YALnB,EAFA,CApCD,cA8CK,yBAAG,SAAS,CAAC,aAAb,EAA4BjB,cAA5B,CA9CL,cA+CK,yBAAG,SAAS,CAAC,SAAb,EAAwBD,UAAxB,CA/CL,cAgDK,oBAAC,IAAD,mBACA,4BAAM,SAAS,CAAC,sBAAhB,uBADA,CAhDL,cAoDM,oBAAC,MAAD,EACC,IAAI,CAAC,QADN,CAEC,SAAS,CAAC,iBAFX,CAGC,OAAO,CAAE,KAAKG,WAHf,WApDN,cA2DC,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,yBAArB,iCACwB,EADxB,cAGC,oBAAC,IAAD,EAAM,SAAS,CAAC,kBAAhB,CAAmC,EAAE,CAAC,SAAtC,YAHD,cAMA,8BANA,mBASC,oBAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,SAArC,sBATD,CA3DD,CAFH,CADhB,CADA,CADF,CADF,EAqFD,CAxIiD","sourcesContent":["import React from 'react';\nimport './style.css';\nimport { Form, Button, Container ,Modal} from 'react-bootstrap';\n\n import { Link } from 'react-router-dom';\n\n export default class Login extends React.Component {\n  state = {\n    email: '',\n    password: '',\n    messageErr:false,\n    messageSuccess:false,\n    isAuthenticated: false,\n  };\n\n   handleClick = () => {\n    const { email, password } = this.state;\n    if (email && password) {\n\n       // make a requset to the back with method post and data{email , password}\n      fetch('/api/login', {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-type': 'application/json',\n        },\n        body: JSON.stringify({\n          email,\n          password,\n        }),\n      })\n        .then(response => {\n          if (response.status === 400 || response.status === 404) {\n            this.setState({ messageErr: 'Bad Request , Check username or password ... !!' });\n          } else if (response.status === 401) {\n            this.setState({ messageErr: 'you are UnAuthorized' });\n          } else if (response.status >= 500) {\n            this.setState({ messageErr: 'Sorry , Internal Server ERROR' })\n          } else {\n            this.setState({messageErr:''});\n            this.setState({isAuthenticated:true})\n            this.setState({ messageSuccess: 'login sucessfully '});\n            return window.location.href = '/grocery'\n          }\n        })\n\n\n     } else {\n      this.setState({ messageErr: 'Please enter all fields' });\n    }\n  };\n\n   handleChange = ({ target: { value, name } }) =>\n    this.setState({ [name]: value });\n\n   render() {\n    const { email, password, messageErr, messageSuccess } = this.state;\n    return (\n      <> \n        <Container>\n        <Modal show=\"true\" onHide={this.handleClose} className=\"modal\" backdrop=\"static\">\n                        <Modal.Body>\n\n                           <Form className=\"login__form\">\n                            <div className=\"login__form-div-title\">\n                            <h2 className=\"login__form-title\">Log in to View Grocery List</h2>\n\n                             </div>\n\n\n\n                           <div className=\"vl\">\n                            <span className=\"vl-innertext\">or</span>\n                          </div>\n\n                           <div className=\"col\">\n                            <button className=\"fb btn\">\n                                <i class=\"fa fa-facebook fa-fw\"></i> Login with Facebook\n                                                  </button>\n                            <button className=\"google btn\"><i class=\"fa fa-google fa-fw\">\n                            </i> Login with Google+\n                                                  </button>\n                          </div>\n\n                           <div className=\"col\">\n                            <div className=\"hide-md-lg\">\n                                <p>Or sign in manually:</p>\n                            </div>\n                          </div>\n                            <Form.Group>\n                            <Form.Label>Email :</Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                name=\"email\"\n                                value={email}\n                                placeholder=\"Enter your email\"\n                                onChange={this.handleChange}\n                            />\n                            </Form.Group>\n                            <Form.Group>\n                            <Form.Label>Password :</Form.Label>\n                            <Form.Control\n                                type=\"password\"\n                                name=\"password\"\n                                value={password}\n                                placeholder=\"Enter your password\"\n                                onChange={this.handleChange}\n                            />\n                            </Form.Group>\n                                <p className=\"msg-success\">{messageSuccess}</p>\n                                <p className=\"msg-err\">{messageErr}</p> \n                                <Link>\n                                <span className=\"link-forgot-password\">Forget Password  ?</span>\n                                </Link>\n\n                                 <Button\n                                  type=\"button\"\n                                  className=\"login__form-btn\"\n                                  onClick={this.handleClick}\n                                >\n                                  Log in\n                              </Button>\n                            <Form.Text className=\"login__form__text-muted\">\n                            Don’t have an account? {''}\n\n                             <Link className=\"link-signup-word\" to=\"/signup\">\n                            Sign Up  \n                            </Link>\n                            <br/>\n                            or\n\n                             <Link className=\"link-guest-word\" to=\"/aguest\">\n                            continue as guest \n                            </Link>\n\n                             </Form.Text>\n                          </Form>\n                          </Modal.Body>\n                      </Modal>\n        </Container>\n      </>\n    );\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module"}