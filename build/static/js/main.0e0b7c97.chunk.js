(this.webpackJsonpchop_chow_sd=this.webpackJsonpchop_chow_sd||[]).push([[0],{105:function(e,t,a){e.exports=a.p+"static/media/no_meal_step_image.da8c3317.png"},152:function(e,t,a){e.exports=a.p+"static/media/CC_Logo_no_bg.23a343fa.png"},228:function(e,t,a){e.exports=a.p+"static/media/ola_ola_palm_oil.70ad3e22.jpg"},254:function(e,t,a){},325:function(e,t,a){e.exports=a.p+"static/media/food_prep.920586b2.jpg"},326:function(e,t,a){e.exports=a.p+"static/media/grocery_bag.6702032b.jpg"},347:function(e,t,a){e.exports=a.p+"static/media/logo2.8340d35f.png"},367:function(e,t,a){e.exports=a(649)},372:function(e,t,a){},378:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){},458:function(e,t){},469:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},620:function(e,t,a){},622:function(e,t,a){},623:function(e,t,a){},649:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(14),i=a.n(l),r=(a(372),a(40)),o=a(22),c=a(28),m=a(76),d=a(221),u=a(59);const h={token:JSON.parse(localStorage.getItem("token")),initURL:"",authUser:null};var p=(e=h,t)=>{switch(t.type){case"init_url":return Object(u.a)({},e,{initURL:t.payload});case"signout_user_success":return Object(u.a)({},e,{token:null,authUser:null,initURL:""});case"user_data":return Object(u.a)({},e,{authUser:t.payload});case"user_token_set":return Object(u.a)({},e,{token:t.payload});case"user_role_set":return Object(u.a)({},e,{role:t.payload});case"customer_id":return Object(u.a)({},e,{customer_id:t.payload});default:return e}};const g={loading:!1,status:!1,message:"",error:""};var E=(e=g,t)=>{switch(t.type){case"fetch_start":return Object(u.a)({},e,{loading:!0,error:"",message:""});case"fetch_success":return Object(u.a)({},e,{status:!0,loading:!1,message:t.payload||"",error:""});case"fetch_error":return Object(u.a)({},e,{status:!1,loading:!1,message:"",error:t.payload||""});default:return e}},f=a(43),b=a(241),v=a(227),S=a(323);const C=Object(f.a)(),y=Object(b.a)(C);let I=[v.a,y,Object(S.createLogger)()];I=[v.a,y];const k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d;var N=a(152),w=a.n(N),x=(a(378),a(26)),_=a.n(x);class M extends n.Component{constructor(e){super(e),this.CustomToggle=s.a.forwardRef(({children:e,onClick:t},a)=>s.a.createElement("a",{href:"/",ref:a,onClick:e=>{e.preventDefault(),t(e)}},e,"\u25bc")),this.updateLogInStatus=this.updateLogInStatus.bind(this),this.handleLogout=this.handleLogout.bind(this),this.state={suggestMealPopOver:!1,base_index:0,topNav_className:"w3-bar w3-dark-grey w3-green topnav",isAuthenticated:!1,customerId:null,username:null}}updateLogInStatus(e,t){console.log("updates log in status before"),this.setState({isAuthenticated:!0}),this.setState({customerId:e}),this.setState({username:t}),console.log("updates log in status after"),console.log("customerID is:"+e)}handleLogout(e){if("6"===e){window.localStorage.setItem("userToken",null),window.localStorage.setItem("userRole",null);fetch("https://chopchowdev.herokuapp.com/api/logout",{method:"GET",credentials:"same-origin",headers:{"Content-type":"application/json"}}).then(e=>{e.json().then(e=>{console.log("logout response is:"),console.log(e),console.log("should print body"),console.log(e.data),"success"===e.data&&(console.log("comes to turn off authentication state"),this.setState({isAuthenticated:!1}))})}).catch(e=>{console.log("fails to authenticate app page"),console.log(e)}),this.setState({isAuthenticated:!1}),window.location.reload(!1)}else"4"===e&&this.props.history.push("/SuggestMeal")}handleDashborad(){this.props.history.push("/admin")}render(){const e=this.props.authUser;function t(){var e=document.getElementById("mobileNavbar");console.log(e),"mobileNavbar"===e.className?e.className+=" visible":e.className="mobileNavbar"}var a,n;return this.props.status?(a=s.a.createElement("li",{className:"nav-item"},s.a.createElement(_.a,{alignRight:!0},s.a.createElement(_.a.Toggle,{as:this.CustomToggle,id:"dropdown-custom-components"},e),s.a.createElement(_.a.Menu,null,s.a.createElement(_.a.Item,{eventKey:"1",onSelect:(e,t)=>this.handleDashborad()},"Profile"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"2",onSelect:(e,t)=>this.handleDashborad()}," Dashboard/orders"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"3",onSelect:(e,t)=>this.handleDashborad()},"Support"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"4",onSelect:(e,t)=>this.handleLogout(e)},"Suggest Meal"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"5",onSelect:(e,t)=>this.handleDashborad()},"Switch to driver mode"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"6",onSelect:(e,t)=>this.handleLogout(e)},"Log out")))),n=s.a.createElement("li",{className:"nav-item"},s.a.createElement(_.a,null,s.a.createElement(_.a.Toggle,{className:"user-item",as:this.CustomToggle,id:"dropdown-custom-components"},e),s.a.createElement(_.a.Menu,null,s.a.createElement(_.a.Item,{eventKey:"1",onSelect:(e,t)=>this.handleDashborad()},"Profile"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"2",onSelect:(e,t)=>this.handleDashborad()}," Dashboard/orders"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"3",onSelect:(e,t)=>this.handleDashborad()},"Support"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"4",onSelect:(e,t)=>this.handleLogout(e)},"Suggest Meal"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"5",onSelect:(e,t)=>this.handleDashborad()},"Switch to driver mode"),s.a.createElement(_.a.Divider,null),s.a.createElement(_.a.Item,{eventKey:"6",onSelect:(e,t)=>this.handleLogout(e)},"Log out"))))):(a=s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/login",className:"nav-link px-2"},"Log In / Register ")),n=s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/login",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Log In / Register"))),s.a.createElement("div",{className:"header-wraper"},s.a.createElement("nav",{className:"navbar navbar-expand-md fixed-top-sm justify-content-start flex-nowrap navbar-light",style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #fd7e14"}},s.a.createElement("div",{className:"header-panel w-100"},s.a.createElement("div",{className:"header-left "},s.a.createElement(o.b,{to:"/",className:"logo_tag navbar-brand "},s.a.createElement("img",{src:w.a,width:"60px",alt:""})),s.a.createElement("div",{className:" form-inline navbar-first",style:{padding:"14px 16px"}},s.a.createElement("div",{className:"input-group "},s.a.createElement("input",{className:"form-control ",placeholder:"Search meal or category"}),s.a.createElement("span",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",style:{backgroundColor:"#fd7e14",borderColor:"#fd7e14"}},s.a.createElement("i",{className:"fa fa-search",style:{color:"#FFFFFF"}})))))),s.a.createElement("div",{className:"header-right navbar-first"},s.a.createElement("ul",{className:"navbar-nav flex-row"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/grocery",className:"nav-link px-3"},"Grocery List")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/SuggestMeal",className:"nav-link px-3"},"Suggest Meal")),a))),s.a.createElement(o.b,{to:"#",className:"icon navbar-toggle",onClick:()=>{console.log("Comes thru here"),t()}},s.a.createElement("i",{className:"fa fa-bars",style:{color:"#AAAAAA",right:"1%"}}))),s.a.createElement("div",{className:"mobileNavbar",id:"mobileNavbar",style:{display:"none"}},s.a.createElement("div",{className:"mobileNavbar-menu"},s.a.createElement("span",{className:"input-group-append",style:{marginTop:"23px",marginRight:"15px",justifyContent:"flex-end"}},s.a.createElement(o.b,{to:"#",className:"icon navbar-toggle",onClick:()=>{console.log("Comes thru here"),t()}},s.a.createElement("i",{className:"fa fa-bars",style:{color:"white",marginLeft:"10px",padding:"10px 17px"}}))),s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{style:{padding:"5px 16px",borderBottom:"1px solid #FFFFFF"}},s.a.createElement("div",{className:"search_bar"},s.a.createElement("form",null,s.a.createElement("input",{className:"form-control",placeholder:"Search meal or category",style:{backgroundColor:"#fd7e14",border:"1px solid #FFFFFF"}}),s.a.createElement("span",{className:"search_bar__icon"},s.a.createElement("div",{className:"btn btn-outline-secondary",style:{backgroundColor:"#FFFFFF",borderColor:"#fd7e14"}},s.a.createElement("i",{className:"fa fa-search ",style:{color:"#fd7e14"}})))))),n,s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/grocery",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Grocery List")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px",borderBottom:"1px solid #FFFFFF"}},s.a.createElement(o.b,{to:"/SuggestMeal",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Suggest Meal")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Home")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2",style:{color:"#FFFFFF"}}," Stores ")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Receipes"))))),s.a.createElement("nav",{className:"navbar navbar-expand-md  navbar-light navbar-second",style:{backgroundColor:"#EEEEEE"}},s.a.createElement("div",{className:"navbar-collapse collapse pt-2 pt-md-0",id:"navbar2"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item active",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/home",className:"nav-link px-2"}," Home ")),s.a.createElement("li",{className:"nav-item",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"}," Stores ")),s.a.createElement("li",{className:"nav-item",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2"}," Receipes "))))))}}var L=Object(r.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),()=>({}))(Object(c.g)(M)),T=a(682),D=a(683),O=a(324);a(393);var P=()=>s.a.createElement(T.a,{className:"footer-wraper"},s.a.createElement(D.a,{style:{width:"100%"}},s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100%"}}),s.a.createElement(O.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Services")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Recipes")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"GroceryList")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Food Products")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Kitchen Products")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Household Products"))),s.a.createElement(O.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Resources")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Login/ My Account")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Sign Up")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Supplier Home")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Shipping + Returns")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"FAQ + Support")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Contact"))),s.a.createElement(O.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Company")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," About Us")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Careers")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Partner")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Terms of Service")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Privacy Policy"))),s.a.createElement(O.a,{md:3,className:"footer-colmun",style:{textAlign:"center"}},s.a.createElement("img",{src:w.a,width:"100px",alt:""}),s.a.createElement("div",{className:"logo-text"},"Adding convenience to home made mealsTM"),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement("i",{className:"fa fa-facebook-square m-2","aria-hidden":"true",style:{fontSize:"30px"}}),s.a.createElement("i",{className:"fa fa-instagram m-2","aria-hidden":"true",style:{fontSize:"30px"}})),s.a.createElement("div",{className:""}," \xa9 ",(new Date).getFullYear()," Copyright:"," ",s.a.createElement("a",{href:"https://www.awokorpenterprises.com"}," ChopChowSD "))))),A=a(325),F=a.n(A);a(394);class U extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement("div",{style:{height:"510px",verticalAlign:"top",backgroundImage:"url(".concat(F.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundSize:"cover"}},s.a.createElement("div",{className:"banner_spacing"}),s.a.createElement("p",{className:"banner_text"},s.a.createElement("b",null,"WELL-ESTABLISHED",s.a.createElement("br",null),"LOCAL AND",s.a.createElement("br",null),"INTERNATIONAL",s.a.createElement("br",null),"FOOD SUPPLIERS",s.a.createElement("br",null),s.a.createElement("u",null,s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"},"LEARN MORE"))))))}}var R=U,j=a(326),B=a.n(j);a(395);class W extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement("div",{style:{height:"510px",verticalAlign:"top",backgroundImage:"url(".concat(B.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundSize:"cover"}},s.a.createElement("div",{className:"banner2_spacing"}),s.a.createElement("div",{className:"banner2container"},s.a.createElement("p",{className:"banner2_text"},s.a.createElement("b",null,"HOME COOK",s.a.createElement("br",null),"INTERNATIONAL FOODS",s.a.createElement("br",null),s.a.createElement("button",{className:"banner2_button"},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2"},"SEE RECIPES")))))))}}var G=W;a(396);class z extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"homepage_button",onClick:"./v2"},s.a.createElement(o.b,{to:"/SuggestMeal",className:"nav-link px-2"},"Suggest A Meal"))))}}var V=z;class H extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement(R,null),s.a.createElement("br",null),s.a.createElement(V,null),s.a.createElement("br",null),s.a.createElement(G,null))}}var q=H,J=a(708),Q=a(712),K=(a(99),a(397),a(684)),Y=a(686),$=a(105),Z=a.n($);class X extends n.Component{constructor(e){super(e),this.state={modalIsOpen:!1,increment:0,checked:!1,base_index:0,index:0},this.handleSelect=this.handleSelect.bind(this),this.updateInstructionsDisplayBaseIndex=this.updateInstructionsDisplayBaseIndex.bind(this)}handleSelect(e){this.setState({index:e+1})}updateInstructionsDisplayBaseIndex(e){console.log(e.target.innerText);var t=e.target.innerText.slice(6,7),a=Number(t);this.setState({base_index:3*a})}render(){const e=this.props.instructionData;var t,a=[],n=1;for(t=0;t<e.length;t++){const l=e[t].step;0!==t&&(n+=e[t-1].step.length),a.push(s.a.createElement(Q.a.Item,{key:t,style:{height:"300px"},className:"instruction_slider_page"},s.a.createElement(K.a,{style:{maxHeight:200,overflow:"auto"},className:"mealPrepChunk"},s.a.createElement(Y.a,null,s.a.createElement("div",{className:"ml-2"},l.map((e,t)=>s.a.createElement("div",{key:t},t+n,". ",e,s.a.createElement("p",null)))),s.a.createElement("p",null),s.a.createElement("img",{className:"img-responsive imageHeighgt",src:null!==e[t].image?e[t].image:Z.a,alt:"First slide",style:{height:"auto",width:"80%",marginLeft:"10%"}})))))}return s.a.createElement("div",null,s.a.createElement("b",null,"Instructions"),s.a.createElement("br",null),s.a.createElement(Q.a,{className:"instruction-slider",onSelect:this.handleSelect,interval:null},a))}}var ee=X,te=a(72);a(254);const ae=[1,2];class ne extends n.Component{constructor(e){super(e),this.decrease=()=>{this.state.increment>0&&this.setState(e=>({increment:e.increment-1}))},this.onClick=(e,t)=>{this.setState({checked:!this.state.checked})},this.increase=()=>{this.setState({increment:this.state.increment+1})},this.state={modalIsOpen:!1,increment:0,checked:!1,index:0},this.openModal=this.openModal.bind(this),this.handleSelect=this.handleSelect.bind(this),this.closeModal=this.closeModal.bind(this)}openModal(){this.props.func_setMealFlag(),this.setState({modalIsOpen:!0})}closeModal(){this.setState({modalIsOpen:!1}),this.props.func_removeMealFlag()}handleSelect(e,t){this.setState({index:e})}render(){const e=this.props,t=e.value,a=e.mealPrep,n=e.ingredientsList;return s.a.createElement(s.a.Fragment,null,s.a.createElement(J.a,{show:this.state.modalIsOpen,onHide:this.closeModal,dialogClassName:"modal-90w",centered:!0},s.a.createElement(J.a.Header,{closeButton:!0,style:{borderBottom:"30px",padding:"0px"}}),s.a.createElement(J.a.Body,{style:{padding:"0px"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{width:"100%"}},s.a.createElement("div",{className:"detail-firstCol col-md-5 col-sm-12"},s.a.createElement(te.Carousel,{showThumbs:!1,infiniteLoop:!1,style:{width:"96%"}},ae.map(e=>s.a.createElement("img",{style:{height:"250px"},alt:"pp",key:e,src:t.mealImage}))),s.a.createElement("br",null),s.a.createElement("div",{className:"col-md-12 col-xs-12"},s.a.createElement("h3",null," ",t.label),s.a.createElement("div",null,t.readTime," mins read | ",t.cookTime," mins to prepare"),s.a.createElement("div",null,s.a.createElement("button",{style:{backgroundColor:"grey",color:"white"}},"Compare items")),s.a.createElement("br",null))),s.a.createElement("div",{className:"col-md-6 col-xs-12"},s.a.createElement("div",{className:"row col-md-6 col-xs-12",style:{width:"100%"}}," Meal Quantity \xa0",s.a.createElement("div",{className:"def-number-input number-input",style:{backgroundColor:"lightgrey"}},s.a.createElement("button",{onClick:this.decrease,className:"minus"}),s.a.createElement("input",{className:"quantity",name:"quantity",value:this.state.increment,onChange:()=>console.log("change"),type:"number"}),s.a.createElement("button",{onClick:this.increase,className:"plus"}))),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-md-6 col-sm-12"},s.a.createElement("b",null,"Ingredients")),s.a.createElement("div",{className:"row ingredient-section"},n&&n.map(e=>s.a.createElement("div",{className:"col-md-6 col-sm-12",key:t.label+e.product},s.a.createElement("input",{type:"checkbox",value:""})," "+e.product," ",s.a.createElement("br",null)))),s.a.createElement("button",{className:"btn-addToCard",style:{marginBottom:"20px"}},"Add to Cart"),s.a.createElement(ee,{instructionData:a,value:t})))))),s.a.createElement("div",{id:t.name},s.a.createElement("button",{className:"detail-step-btn",style:{backgroundColor:"orange"},key:t.id+t.label,onClick:this.openModal},"See Full Recipe")))}}var se=ne;class le extends n.Component{constructor(){super()}render(){let e=this.props.col_count;return s.a.createElement(te.Carousel,{className:"withScroll_slider",showThumbs:!1,infiniteLoop:!1,selectedItem:parseInt(this.props.products.length/2),centerMode:!0,centerSlidePercentage:100/(1.4*e)},this.props.products.map((e,t)=>s.a.createElement("div",{key:t},s.a.createElement("img",{src:""!==e.image?e.image:Z.a,alt:e.ingredient,height:"200px",width:"auto"}),s.a.createElement("p",{style:{fontSize:"20px"}},e.ingredient))))}}var ie=a(332),re=a.n(ie);console.error("______ process.env.NODE_ENV ____","production");let oe="https://chopchowdev.herokuapp.com/api/";oe="https://chopchowdev.herokuapp.com/api/";let ce=re.a.create({baseURL:oe,headers:{"Content-Type":"application/json"}});const me=JSON.parse(localStorage.getItem("token"));console.error("__ token __",me),ce.defaults.headers.common.Authorization="Bearer "+me;var de=ce;class ue extends n.Component{constructor(e){super(e),this.onClickMealCard=(e,t)=>{e===this.state.selected_index?this.setState({slider_flag:!this.state.slider_flag}):this.setState({slider_flag:!0}),this.setState({selected_index:e}),this.setState({selectedCard_mealData:this.state.products[e]}),this.setState({modalIsOpen:!0}),this.setState({firstPart_ind:(parseInt(e/t)+1)*t})},this.setMealSliderModal=()=>{this.setState({mealSlider_Flag:!0})},this.removeMealSliderModal=()=>{this.setState({mealSlider_Flag:!1})},this.onhandleLoadMore=()=>{let e=this.state.currentMealCount;e>=this.state.products.length?this.setState({currentMealCount:this.state.products.length}):this.setState({currentMealCount:e+10})},this.update=()=>{let e=1;window.innerWidth>1200?e=4:window.innerWidth>900&&window.innerWidth<1200?e=3:window.innerWidth>500&&window.innerWidth<900&&(e=2),null===this.state.products&&window.innerWidth>500&&window.innerHeight>500&&(e=4),this.setState({col_count:e})},window.addEventListener("resize",this.update),this.state={products:[],width:0,firstPart_ind:12,slider_flag:!1,selectedCard_mealData:null,selected_index:0,selectedCardID:"",mealSlider_Flag:!1,currentMealCount:12,mealList:null,col_count:1}}componentDidMount(){this.update(),console.log("Comes in meal pages component did mount");de.get("https://chopchowdev.herokuapp.com/api/get-meals").then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("shows products does return"),console.log(t.data.length);let e=[];for(var a=0;a<t.data.length;a++)e.push(t.data[a]);this.setState({products:e})}else console.log("shows products do not return")}).catch(e=>{console.log(e)})}render(){const e=this.state.selectedCard_mealData,t=[];let a=Math.min(this.state.products.length,this.state.currentMealCount);if(this.state.products.length>0){for(let e=0;e<Math.min(a,this.state.firstPart_ind);e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=Math.min(a,this.state.firstPart_ind));t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:pe},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(D.a,{key:e}," ",n))}e&&this.state.slider_flag&&t.push(s.a.createElement(D.a,{key:Math.min(a,this.state.firstPart_ind)},s.a.createElement("div",{className:"col-sm-12",style:{background:"#ffffff"},key:"1000001"},s.a.createElement("div",{style:{width:"95%",margin:"auto"}},s.a.createElement("div",{className:"detail-card-explain",id:e._id},s.a.createElement("div",{style:{fontSize:"18px",paddingTop:"20px",paddingBottom:"20px"}},e.intro)),s.a.createElement("div",{id:e._id+"products"},s.a.createElement(le,{products:e.product_slider,col_count:this.state.col_count})),s.a.createElement(se,{value:e,mealPrep:e.instructions,ingredientsList:e.newer_ingredient_format,func_setMealFlag:this.setMealSliderModal,func_removeMealFlag:this.removeMealSliderModal})))));for(let e=Math.min(a,this.state.firstPart_ind);e<a;e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=a);t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:pe},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(D.a,{key:e+1},n))}}return s.a.createElement("div",{className:"meals-Page"},s.a.createElement("div",{id:"title",className:"meal-title"}," ",s.a.createElement("b",null,"Meals")," "),s.a.createElement("div",{className:"mealPage-container"},t),s.a.createElement("section",{className:"loadmore-section"},s.a.createElement("button",{className:"btn-loadmore",onClick:()=>this.onhandleLoadMore()},"Load More")))}}var he=ue;const pe={display:"inline-block",width:"100%",height:"100%"};var ge=a(52),Ee=a.n(ge),fe=a(73);const be=[1,2];class ve extends n.Component{constructor(e){super(e),this.decrease=()=>{this.state.increment>0&&this.setState(e=>({increment:e.increment-1}))},this.onClick=(e,t)=>{this.setState({checked:!this.state.checked})},this.increase=()=>{this.setState({increment:this.state.increment+1})},this.state={modalIsOpen:!1,increment:0,checked:!1,index:0},this.openModal=this.openModal.bind(this),this.handleSelect=this.handleSelect.bind(this),this.closeModal=this.closeModal.bind(this)}openModal(){this.props.func_setMealFlag(),this.setState({modalIsOpen:!0})}closeModal(){this.setState({modalIsOpen:!1}),this.props.func_removeMealFlag()}handleSelect(e,t){this.setState({index:e})}render(){const e=this.props,t=e.value,a=e.mealPrep,n=e.ingredientsList;return s.a.createElement(s.a.Fragment,null,s.a.createElement(J.a,{show:this.state.modalIsOpen,onHide:this.closeModal,dialogClassName:"modal-90w",centered:!0},s.a.createElement(J.a.Header,{closeButton:!0,style:{borderBottom:"30px",padding:"0px"}}),s.a.createElement(J.a.Body,{style:{padding:"0px"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{width:"100%"}},s.a.createElement("div",{className:"detail-firstCol col-md-5 col-sm-12"},s.a.createElement(te.Carousel,{showThumbs:!1,infiniteLoop:!1,style:{width:"96%"}},be.map(e=>s.a.createElement("img",{style:{height:"250px"},alt:"pp",key:e,src:t.mealImage}))),s.a.createElement("br",null),s.a.createElement("div",{className:"col-md-12 col-xs-12"},s.a.createElement("h3",null," ",t.label),s.a.createElement("div",null,t.readTime," mins read | ",t.cookTime," mins to prepare"),s.a.createElement("div",null,s.a.createElement("button",{style:{backgroundColor:"grey",color:"white"}},"Compare items")),s.a.createElement("br",null))),s.a.createElement("div",{className:"col-md-6 col-xs-12"},s.a.createElement("div",{className:"row col-md-6 col-xs-12",style:{width:"100%"}}," Meal Quantity \xa0",s.a.createElement("div",{className:"def-number-input number-input",style:{backgroundColor:"lightgrey"}},s.a.createElement("button",{onClick:this.decrease,className:"minus"}),s.a.createElement("input",{className:"quantity",name:"quantity",value:this.state.increment,onChange:()=>console.log("change"),type:"number"}),s.a.createElement("button",{onClick:this.increase,className:"plus"}))),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-md-6 col-sm-12"},s.a.createElement("b",null,"Ingredients")),s.a.createElement("div",{className:"row ingredient-section"},n&&n.map(e=>s.a.createElement("div",{className:"col-md-6 col-sm-12",key:t.label+e.product},s.a.createElement("input",{type:"checkbox",value:""})," "+e.product," ",s.a.createElement("br",null)))),s.a.createElement("button",{className:"btn-addToCard",style:{marginBottom:"20px"}},"Add to Cart"),s.a.createElement(ee,{instructionData:a,value:t})))))),s.a.createElement("div",{id:t.name},s.a.createElement("button",{className:"detail-step-btn",style:{backgroundColor:"orange"},key:t.id+t.label,onClick:this.openModal},"See Full Recipe")))}}var Se=ve;class Ce extends n.Component{constructor(){super()}render(){let e=this.props.col_count;return s.a.createElement(te.Carousel,{className:"withScroll_slider",showThumbs:!1,infiniteLoop:!1,selectedItem:parseInt(this.props.products.length/2),centerMode:!0,centerSlidePercentage:100/(1.4*e)},this.props.products.map((e,t)=>s.a.createElement("div",{key:t},s.a.createElement("img",{src:""!==e.image?e.image:Z.a,alt:e.ingredient,height:"200px",width:"auto"}),s.a.createElement("p",{style:{fontSize:"20px"}},e.ingredient))))}}var ye=a(705),Ie=a(707);const ke=a(212).CognitoIdentityClient,Ne=a(650).fromCognitoIdentityPool,we=new ye.a({region:"us-west-1",credentials:Ne({client:new ke({region:"us-west-1"}),identityPoolId:"us-west-1:4aa53863-5b7b-484c-8474-b95bc4710bbf"})});class xe extends n.Component{constructor(e){super(e),this.onClickMealCard=(e,t)=>{e===this.state.selected_index?this.setState({slider_flag:!this.state.slider_flag}):this.setState({slider_flag:!0}),this.setState({selected_index:e}),this.setState({selectedCard_mealData:this.state.products[e]}),this.setState({modalIsOpen:!0}),this.setState({firstPart_ind:(parseInt(e/t)+1)*t})},this.setMealSliderModal=()=>{this.setState({mealSlider_Flag:!0})},this.removeMealSliderModal=()=>{this.setState({mealSlider_Flag:!1})},this.onhandleLoadMore=()=>{let e=this.state.currentMealCount;e>=this.state.products.length?this.setState({currentMealCount:this.state.products.length}):this.setState({currentMealCount:e+10})},this.update=()=>{let e=1;window.innerWidth>1200?e=4:window.innerWidth>900&&window.innerWidth<1200?e=3:window.innerWidth>500&&window.innerWidth<900&&(e=2),null===this.state.products&&window.innerWidth>500&&window.innerHeight>500&&(e=4),this.setState({col_count:e})},window.addEventListener("resize",this.update),this.state={products:[],width:0,firstPart_ind:12,slider_flag:!1,selectedCard_mealData:null,selected_index:0,selectedCardID:"",mealSlider_Flag:!1,currentMealCount:12,mealList:null,col_count:1}}componentDidMount(){this.update()}render(){const e=this.state.selectedCard_mealData,t=[];let a=Math.min(this.state.products.length,this.state.currentMealCount);if(this.state.products.length>0){for(let e=0;e<Math.min(a,this.state.firstPart_ind);e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=Math.min(a,this.state.firstPart_ind));t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:Me},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(D.a,{key:e}," ",n))}e&&this.state.slider_flag&&t.push(s.a.createElement(D.a,{key:Math.min(a,this.state.firstPart_ind)},s.a.createElement("div",{className:"col-sm-12",style:{background:"#ffffff"},key:"1000001"},s.a.createElement("div",{style:{width:"95%",margin:"auto"}},s.a.createElement("div",{className:"detail-card-explain",id:e._id},s.a.createElement("div",{style:{fontSize:"18px",paddingTop:"20px",paddingBottom:"20px"}},e.intro)),s.a.createElement("div",{id:e._id+"products"},s.a.createElement(Ce,{products:e.product_slider,col_count:this.state.col_count})),s.a.createElement(Se,{value:e,mealPrep:e.instructions,ingredientsList:e.newer_ingredient_format,func_setMealFlag:this.setMealSliderModal,func_removeMealFlag:this.removeMealSliderModal})))));for(let e=Math.min(a,this.state.firstPart_ind);e<a;e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=a);t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:Me},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(D.a,{key:e+1},n))}}else console.log("Open space to code in here"),t.push(s.a.createElement("div",{id:"viewer"}," "));function n(e){return e.join("\n")}window.getHTML=n;const l=function(){var e=Object(fe.a)(Ee.a.mark((function e(){var t,a,s,l,i,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.send(new Ie.a({Bucket:"chopchowmeals",MaxKeys:1}));case 3:t=e.sent,s=(a=t).Contents.length,a&&0!==s?(console.log("suggested meals do return with length of:"),console.log(s),"https://s3.us-west-1.amazonaws.com/","https://s3.us-west-1.amazonaws.com/chopchowmeals/",l=t.Contents.map((function(e){return n(["<span>","<div>","<br/>",'<img style="width:128px;height:128px;" src="https://s3.us-west-1.amazonaws.com/chopchowmeals/'+e.Key+'"/>',"</div>","<div>","</div>","</span>"])})),i=l.length?"<p>The following photos are present.</p>":"<p>There are no photos in this album.</p>",r=["<div>",'<button onclick="listAlbums()">',"Back To albums","</button>","</div>",i,"<div>",n(l),"</div>","<div>",'<button onclick="listAlbums()">',"Back To albums","</button>","</div>"],document.getElementById("viewer").innerHTML=n(r),document.getElementsByTagName("img")[0].setAttribute("style","display:none;")):console.log("shows products do not return"),console.log(t),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",alert("There was an error listing your meals: "+e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return l(),window.listMeals=l,s.a.createElement("div",{className:"meals-Page"},s.a.createElement("div",{id:"title",className:"meal-title"}," ",s.a.createElement("b",null,"Meals")," "),s.a.createElement("div",{className:"mealPage-container"},t),s.a.createElement("section",{className:"loadmore-section"},s.a.createElement("button",{className:"btn-loadmore",onClick:()=>this.onhandleLoadMore()},"Load More")))}}var _e=xe;const Me={display:"inline-block",width:"100%",height:"100%"};var Le=a(127),Te=a(339);class De extends n.Component{constructor(e){super(e),this.storeCollection=[],this.state={store_products_fetched:!1}}componentDidMount(){console.log("Comes in product pages component will mount");fetch("https://chopchowdev.herokuapp.com/get_store_products").then(e=>e.text()).then(e=>{for(var t=JSON.parse(e),a=0;a<t.length;a++)console.log("Inner fetch loop"),console.log(t[a]),this.storeCollection.push(t[a]),console.log(t[a].store_name);this.setState({store_products_fetched:!0})}).catch(e=>{console.log(e)}),console.log("reaches end of product pages component will mount")}render(){var e=[];console.log(this.storeCollection);var t=!0,a=!1,n=void 0;try{for(var l,i=this.storeCollection.entries()[Symbol.iterator]();!(t=(l=i.next()).done);t=!0){const t=Object(Le.a)(l.value,2),a=t[0],n=t[1];var r=[];console.log(a);var o=!0,c=!1,m=void 0;try{for(var d,u=n.products.entries()[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){const e=Object(Le.a)(d.value,2),t=e[0],a=e[1];console.log("Inner for loop"),console.log(t),console.log(a.product_name);var h=n.store_name+a.product_name;r.push(s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 mealContainer",key:h},s.a.createElement("div",null,s.a.createElement("div",{style:Oe},s.a.createElement(Te.a,{trigger:s.a.createElement("div",{id:a.id,style:Oe},s.a.createElement("img",{src:a.product_image,className:"images",style:{width:"100%"},alt:a.id}),s.a.createElement("div",{id:"textbox"},s.a.createElement("p",{className:"alignleft"},a.product_name),s.a.createElement("p",{className:"alignright",style:{color:"green"}},"$",a.product_price))),modal:!0,closeOnDocumentClick:!0,contentStyle:Pe},s.a.createElement("div",null,a.product_name,s.a.createElement("br",null),"Availability"),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("b",null,s.a.createElement("img",{src:a.product_image,alt:"info",style:{width:"100%",height:"100%",align:"center"}}))),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("b",null,"Availabile",s.a.createElement("br",null),"Variations:",s.a.createElement("br",null),"Price:")))),s.a.createElement("span",null,"View Product"),"\xa0|\xa0",s.a.createElement("span",null,"Update Product"),"\xa0|\xa0",s.a.createElement("span",null,"Add To Cart.."),s.a.createElement("hr",null))))))}}catch(p){c=!0,m=p}finally{try{o||null==u.return||u.return()}finally{if(c)throw m}}e.push(s.a.createElement("div",{key:n.store_name},s.a.createElement("hr",null),s.a.createElement("img",{src:n.store_image,className:"images",style:{width:"10%"},alt:n.id}),s.a.createElement("b",null,n.store_name),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row "},r)),s.a.createElement("hr",null)))}}catch(p){a=!0,n=p}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return s.a.createElement("div",null,s.a.createElement("div",{id:"title"},s.a.createElement("b",null,"Our Products")),e)}}const Oe={display:"inline-block",width:"100%",height:"100%"},Pe={maxWidth:"100vw",maxHeight:"100vh",overflow:"scroll"};var Ae=De,Fe=(a(469),a(687)),Ue=a(706);class Re extends s.a.Component{constructor(e){super(e),this.handleChange=({target:{value:e,name:t}})=>this.setState({[t]:e}),this.handleClose=()=>this.setState({dialogue_open_flag:!1}),this.state={email:"",password:"",messageErr:!1,messageSuccess:!1,dialogue_open_flag:!0}}componentWillReceiveProps(e){const t=e.openFlag;this.setState({dialogue_open_flag:t}),e.authUser&&e.customer_id&&this.props.history.push("/grocery")}render(){const e=this.state,t=e.email,a=e.password;return s.a.createElement(T.a,null,s.a.createElement(J.a,{show:this.state.dialogue_open_flag,onHide:this.handleClose,className:"text-center custom-card1",backdrop:"static",size:"lg",centered:!0},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{className:"text-center"},"Log In to View your Grocery List")),s.a.createElement(J.a.Body,null,s.a.createElement(D.a,null,s.a.createElement(O.a,{md:5},s.a.createElement(Fe.a,{className:"fb-btn mb-3 px-3 py-2"},"Login In with Facebook"),s.a.createElement(Fe.a,{className:"google-btn px-3 py-2"},"Login In with Google")),s.a.createElement(O.a,{md:1,className:"or"},"or"),s.a.createElement(O.a,{md:6,className:"d-block right-panel"},s.a.createElement(Ue.a,null,s.a.createElement(Ue.a.Control,{type:"text",name:"email",value:t,placeholder:"Your Email or Username",onChange:this.handleChange,className:"login__form__input1",autoComplete:"username"}),s.a.createElement(Ue.a.Control,{type:"password",name:"password",value:a,placeholder:"Your password",onChange:this.handleChange,className:"login__form__input",autoComplete:"current-password"}),s.a.createElement(Ue.a.Label,{className:"lbl_text text-left",column:!0,md:12},s.a.createElement("a",{className:"forget",href:"/forgotpass"},"Forgot Password?")),s.a.createElement(Fe.a,{variant:"primary",className:"mb-1 float-left login-button",onClick:e=>{e.preventDefault(),this.props.userSignIn({email:this.state.email,password:this.state.password})}},"Login"),s.a.createElement(Ue.a.Label,{className:"lbl_text mt-4 text-right pb-0",column:!0,md:12},"Don't have an account? ",s.a.createElement("a",{className:"signup",href:"/signup"},"Sign Up")),s.a.createElement(Ue.a.Label,{className:"lbl_text text-right pt-0",column:!0,md:12},"or ",s.a.createElement("a",{className:"continue",href:"/v2"},"continue as guest"))))))))}}const je={userSignIn:({email:e,password:t})=>a=>{a({type:"fetch_start"}),a({type:"user_token_set",payload:null}),a({type:"user_data",payload:null}),de.post("/login",{email:e,password:t}).then(({data:e})=>{console.log(" ___ userSignIn RESPONSE ___ ",e),localStorage.setItem("userToken",e.token),localStorage.setItem("userRole",e.role),de.defaults.headers.common.Authorization="Bearer "+e.token,a({type:"fetch_success"}),a({type:"user_token_set",payload:e.token}),a({type:"user_role_set",payload:e.role}),console.log(" ___ userSignIn customerID ",e.customerID)}).catch(e=>{console.error("xxx userSignIn Request ERROR xxx",e),a({type:"fetch_error",payload:"Error during user sign in request"})})}};var Be=Object(r.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),je)(Object(c.g)(Re));a(470),a(471);function We(e){const t=e.title;return s.a.createElement("h2",{className:"pageTitle"},t)}var Ge=a(688),ze=a(714),Ve=a(340);class He extends s.a.Component{constructor(...e){super(...e),this.gotoViewPage=(e,t)=>{const a="/product-detail/".concat(e,"/").concat(t);this.props.history.push(a)}}render(){const e=this.props.state,t=e.product_img,a=e.product_name,n=e.productID,l=e.customerId;return s.a.createElement("div",{style:{position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",backgroundColor:"rgba(255,255,255,0.6)",zIndex:"9999"}},s.a.createElement("div",{style:{display:"flex",height:"100%"}},s.a.createElement("div",{className:"product-detail-modal"},s.a.createElement("div",{className:"product-detail-panel"},s.a.createElement("div",{className:"close-btn",style:{fontSize:"12px",textAlign:"right"},onClick:this.props.onCloseClicked},s.a.createElement("i",{className:"fa fa-remove"})),s.a.createElement(D.a,null,s.a.createElement(O.a,{md:6,style:{textAlign:"center"}},s.a.createElement("img",{src:t,width:"100%",className:"product-img",alt:""})),s.a.createElement(O.a,{md:6},s.a.createElement("div",{className:"detail-info-panel",style:{marginLeft:"10px",marginRight:"20px"}},s.a.createElement("div",{className:"product-name"},a),s.a.createElement("div",{className:"product-name-descript"},"Description Lorem Ipsum Dolor Sit Amet"),s.a.createElement("div",{className:"product-size-panel"},s.a.createElement("div",{className:"product-info"},s.a.createElement("div",{className:"product-size-item"},"32 oz tub (Medium)-$9.99"),s.a.createElement("div",{className:"product-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"product-count"}))),s.a.createElement("div",{className:"product-size-panel"},s.a.createElement("div",{className:"product-info"},s.a.createElement("div",{className:"product-size-item"},"32 oz tub (Medium)-$9.99"),s.a.createElement("div",{className:"product-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"product-count"}))),s.a.createElement("div",{className:"product-price-panel"},s.a.createElement("div",{className:"price-item"},"Delivery (select one):"),s.a.createElement("div",{className:"price-value"},s.a.createElement("a",{href:"/"},"Next Day Delivery")," - $10.00"))))),s.a.createElement(D.a,{className:"btn-panel"},s.a.createElement(O.a,{md:6,style:{textAlign:"center"}},s.a.createElement("button",{className:"product-btn",onClick:()=>this.gotoViewPage(l,n)},"View Item")),s.a.createElement(O.a,{md:6,style:{textAlign:"center"}},s.a.createElement("button",{className:"product-btn"},"Add To Card")))))))}}var qe=Object(c.g)(He);a(619);class Je extends s.a.Component{constructor(...e){super(...e),this._isMounted=!1,this.products=[],this.productNamesForTypeahead=new Map,this.state={customerList:null,Authentication:!1,customerId:null,email:"",password:"",messageErr:!1,messageSuccess:!1,messageErrCreate:!1,showAlert:!1,messageAlert:"",variant:"",productID:"",deletedItemId:null,selectedProduct:null,idsItems:null,deletedItemsId:null,lasIdListState:null,valueProductName:"",valueProductImage:"",valueProductPrice:"",valueProductSize:"",valuePricePerOunce:"",errormsg:"",typeAheadAdded:!1,product_img:null,product_name:"",product_modal_flg:!1},this.handleChange=({target:{value:e,name:t}})=>this.setState({[t]:e}),this.handleProductClick=(e,t,a,n)=>{n?this.setState({product_img:"/images/products/".concat(e),product_name:t,product_modal_flg:!0,productID:a}):this.setState({product_img:e,product_name:t,product_modal_flg:!0,productID:a})},this.onCloseClicked=()=>{this.setState({product_modal_flg:!1})},this.getCustomerList=e=>{var t="/getCustomerGroceryList/".concat(e);de(t).then(({data:e})=>{this.setState({customerList:e.data})}).catch(()=>{this.setState({messageAlert:"Authentication Error while fetching your grocery list...",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.handleShowDeleteItem=(e,t)=>{const a=this.state,n=a.customerId,s=a.deletedItemId;if(void 0!==this.state.customerId&&-1!==t){this.setState({deletedItemId:t});var l="./api/remove-item/".concat(t,"/").concat(n);fetch(l,{method:"DELETE"}).then(e=>e.json()).then(e=>{this.setState({messageAlert:"deleted successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),this.setState(e=>({customerList:e.customerList.filter(e=>e.id!==s)})),console.log("Deletse item"),this.componentDidMount()}).catch(()=>{this.setState({messageAlert:"Internal Server Error while deleting item",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})}else{this.setState(t=>({customerList:t.customerList.filter(t=>t.product_name!==e)}));let t=this.state.customerList,a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({customerList:t}))}},this.handleDeleteList=()=>{console.log("Comes in deletes list");const e=this.state.customerId;if(void 0!==e){var t="https://chopchowdev.herokuapp.com/api/remove-list/".concat(e);fetch(t,{method:"DELETE"}).then(e=>(console.log("delete response is: "),console.log(e),console.log(e.json),this.setState({messageAlert:"deleted successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),this.setState({customerList:[]}),this.componentDidMount(),console.log("deletes list"),e.json())).catch(()=>{console.log("caught an error while deleting list"),this.setState({messageAlert:"Internal Server Error while deleting list",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})}else this.setState({customerList:[]})},this.handleClickTypeahead=e=>{var t=this.props.productNames.findIndex(t=>t===e[0]);this.setState({selectedProduct:e}),this.productNamesForTypeahead.get(e);var a=this.productNamesForTypeahead.get(e[0]);console.log("productID is: "+a),console.log(e);let n=e.length;if(0!==n){if(!isNaN(a)&&null!=this.state.customerId){console.log("Comes in if");var s="./api/addTypeaheadDataToCustomerGroceryList/".concat(a,"/").concat(this.state.customerId);fetch(s,{method:"POST"}).then(e=>{e&&(console.log("Comes in handleClickTypeahead's then on client side"),this.componentDidMount())})}if(-1!==t){var l={id:t,product_name:e[n-1],product_image:"chopchow_default_instruction.png",size:"N/A"};console.log(l)}else{console.log("Comes in else, means it soes not have a product id for this product"),console.log(t),console.log(e);l={id:-1,product_name:e[0].label,product_image:"butter.jpg",size:"N/A"}}if(null==this.state.customerList)this.setState({customerList:[l]});else{let e=this.state.customerList;e.push(l),this.setState({customerList:e})}this.setState({messageAlert:"product added successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),e=[]}else console.log("sees that selected is empty")}}componentDidMount(){if(this._isMounted=!0,this._isMounted){const e=this.props,t=e.authUser,a=e.customer_id;this.setState({Authentication:t}),this.setState({customerId:a})}this.props.customerId&&this.getCustomerList(this.props.customer_id)}componentWillReceiveProps(e){const t=e.authUser,a=e.customer_id;this.setState({Authentication:t}),null!==t&&(this.setState({customerId:a}),this.getCustomerList(a))}render(){const e=this.state,t=e.showAlert,a=e.variant,n=e.messageAlert,l=e.customerList;let i=this.props.productNames;if(null!=l)for(let s=0;s<this.state.customerList.length;s++){let e=l[s].product_name;i=i.filter(t=>t!==e)}const r=s.a.createRef();return console.log("Authentication, ",this.state.Authentication),console.log("customerId, ",this.state.customerId),console.log("customerList, ",this.state.customerList),console.log("Props:",this.props),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve.Typeahead,{allowNew:!0,multiple:!0,options:i,placeholder:"Add products to your grocery list here..",id:"typeahead",onChange:e=>{this.handleClickTypeahead(e),r.current.clear()},ref:r}),s.a.createElement(Ge.a,{show:t,key:1,variant:a},n),s.a.createElement("h2",null,"Your Grocery Cart"),this.state.messageVisible?s.a.createElement("div",null,"you can not add in this item because it is already in customers grocery list"):null,s.a.createElement(s.a.Fragment,null,s.a.createElement(We,{title:" Your Grocery List"}),s.a.createElement("div",null,s.a.createElement(Fe.a,{className:"yourlist__buttonDeleteList",variant:"danger",onClick:e=>{e.stopPropagation(),this.handleDeleteList()}},"Delete List Items"),s.a.createElement("br",null),s.a.createElement(T.a,{className:"page__container",fluid:!0},l?l.map(e=>{console.log(e);let t=e.id;return console.log("customer_grocery_product_item:",e.product_image),s.a.createElement(D.a,{display:"inline-flex",key:e.product_name},s.a.createElement(O.a,{key:e.product_name+"images"},e.product_image.startsWith("https://")?s.a.createElement("img",{src:e.product_image,alt:"product_img ",className:"card-img",onClick:()=>this.handleProductClick(e.product_image,e.product_name,t,!1)}):s.a.createElement("img",{src:"/images/products/".concat(e.product_image),alt:"product_img ",className:"card-img",onClick:()=>this.handleProductClick(e.product_image,e.product_name,t,!0)})),s.a.createElement(O.a,{key:e.product_name+"details"},s.a.createElement(ze.a.Title,{className:"grocery_item_card-header"},"Product Name :"," ",e.product_name),s.a.createElement(ze.a.Text,null,"Product Price :"," ",e.product_price,s.a.createElement("br",null),"Product Size : ",e.size)),s.a.createElement(O.a,null,s.a.createElement(Fe.a,{onClick:e=>{e.stopPropagation(),this.handleAddItemToCart(t)}}," ","  Add To Cart")),s.a.createElement(O.a,null,s.a.createElement("i",{className:"fa fa-remove",onClick:t=>{t.stopPropagation(),this.handleShowDeleteItem(e.product_name,e.productID)}})))}):s.a.createElement("div",null," Your grocery cart looks empty.")))),this.state.product_modal_flg&&s.a.createElement(qe,{state:this.state,onCloseClicked:this.onCloseClicked}))}}var Qe=Object(r.c)(({auth:e})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id}),()=>({}))(Object(c.g)(Je)),Ke=(a(620),a(689)),Ye=a(108);class $e extends s.a.Component{constructor(...e){super(...e),this.state={email:"",phone:"",username:"",password:"",messageErr:!1,messageSuccess:!1,showModal:!0,emailNotification:!1},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;"emailNotification"===t?this.setState({emailNotification:e.currentTarget.checked}):this.setState({[t]:a})},this.handleClose=e=>{Object(Ye.setTimeout)(()=>{this.props.history.push("/grocery")},e||0)},this.formSubmit=e=>{e.preventDefault();let t=this.state.email;if(""!==t&&/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/.test(t)){var a=t.split("@"),n=Object(Le.a)(a,2),s=n[0],l=n[1].split(".");t.length<256&&s.length<64&&l.some((function(e){return e.length<63}))?(this.setState({messageErr:""}),this.submitForm()):this.setState({messageErr:"Please enter a valid email."})}else this.state.phone.length>=10&&this.state.phone.length<=30&&this.state.username&&this.state.password?(this.setState({messageErr:""}),this.submitForm()):this.setState({messageErr:"Please enter a valid phone number or email."})},this.submitForm=()=>{console.log("state,",this.state);fetch("https://chopchowdev.herokuapp.com/api/signupuser",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)}).then(e=>{400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Check username or password ..."}):401===e.status?this.setState({messageErr:"You are unauthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"You are signed up! "}),this.handleClose(5e3))})}}render(){return s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal registerme",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Sign Up"),s.a.createElement("span",{style:{fontSize:"11pt"}},"Already have an account?",s.a.createElement(o.b,{className:"link-guest-word",to:"/login"},"Login")))),s.a.createElement(J.a.Body,null,s.a.createElement(T.a,null,s.a.createElement(D.a,{className:"justify-content-md-center"},s.a.createElement(O.a,{xs:!0,lg:!0},s.a.createElement(Ue.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Ue.a.Group,null,s.a.createElement(Ue.a.Control,{type:"email",name:"email",value:this.state.email,placeholder:"Your email",onChange:this.handleChange,autoComplete:"username"}),s.a.createElement(Ue.a.Label,null,"Or"),s.a.createElement(Ue.a.Control,{type:"tel",name:"phone",value:this.state.phone,placeholder:"Your Phone Number",onChange:this.handleChange})),s.a.createElement("hr",null),s.a.createElement(Ue.a.Group,null,s.a.createElement(Ue.a.Control,{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.handleChange,required:!0}),s.a.createElement(Ue.a.Label,null),s.a.createElement(Ue.a.Control,{type:"password",name:"password",value:this.state.password,placeholder:"Create a Password",onChange:this.handleChange,autoComplete:"new-password",required:!0})),s.a.createElement(Ue.a.Group,{controlId:"formHorizontalCheck"},s.a.createElement(Ue.a.Label,null),s.a.createElement(Ue.a.Check,{onChange:this.handleChange,name:"emailNotification",label:"Sign Up for Email Notifications"})),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Ke.a,null,s.a.createElement(Fe.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Sign Up")),s.a.createElement(o.b,{className:"",to:"/signup"},"or Sign up as driver")))))))}}a(622);class Ze extends s.a.Component{constructor(...e){super(...e),this.state={email:"",username:"",messageErr:!1,messageSuccess:!1,showModal:!0},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;this.setState({[t]:a})},this.handleClose=e=>{Object(Ye.setTimeout)(()=>{this.props.history.push("/")},e||0)},this.formSubmit=e=>{e.preventDefault(),this.state.email||this.state.username?this.submitForm():this.setState({messageErr:"Please enter correct data."})},this.submitForm=()=>{fetch("https://chopchowdev.herokuapp.com/api/forgotpass",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)}).then(e=>{console.log(e),400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Your username or email does not exist."}):401===e.status?this.setState({messageErr:"you are UnAuthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"Please check your inbox for more details! "}),this.handleClose(5e3))})}}render(){return s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Forgot Password"))),s.a.createElement(J.a.Body,null,s.a.createElement(T.a,null,s.a.createElement(D.a,{className:"justify-content-md-center"},s.a.createElement(O.a,{xs:!0,lg:!0},s.a.createElement(Ue.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Ue.a.Group,null,s.a.createElement(Ue.a.Control,{type:"text",name:"email",value:this.state.email,placeholder:"Your email",onChange:this.handleChange}),s.a.createElement(Ue.a.Label,null,"Or")),s.a.createElement(Ue.a.Group,null,s.a.createElement(Ue.a.Control,{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.handleChange}),s.a.createElement(Ue.a.Label,null)),s.a.createElement(Ue.a.Label,null,"We will sent you a link to reset your password."),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Ke.a,null,s.a.createElement(Fe.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Reset"))))))))}}a(623);class Xe extends s.a.Component{constructor(...e){super(...e),this.state={password1:"",password2:"",messageErr:!1,messageSuccess:!1,showModal:!0},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;this.setState({[t]:a})},this.handleClose=e=>{Object(Ye.setTimeout)(()=>{this.props.history.push("/grocery")},e||0)},this.formSubmit=e=>{e.preventDefault(),this.state.password1||this.state.password2?this.submitForm():this.setState({messageErr:"Please enter correct data."})},this.submitForm=()=>{let e=this.props.location.search.replace("?","").split("=")[1],t=Object.assign({},this.state,{token:e});fetch("/api/resetpass",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then(e=>{400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Check username or email ... !!"}):401===e.status?this.setState({messageErr:"you are UnAuthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"Please check your inbox for more details! "}),this.handleClose(5e3))})}}render(){let e=this.props.location.search.replace("?","").split("=");return e.length>1?(e=e[1],s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Reset Password"))),s.a.createElement(J.a.Body,null,s.a.createElement(T.a,null,s.a.createElement(D.a,{className:"justify-content-md-center"},s.a.createElement(O.a,{xs:!0,lg:!0},s.a.createElement(Ue.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Ue.a.Group,null,s.a.createElement(Ue.a.Control,{type:"hidden",name:"token",value:e}),s.a.createElement(Ue.a.Control,{type:"password",name:"password1",value:this.state.password1,placeholder:"New Password",onChange:this.handleChange})),s.a.createElement(Ue.a.Label,null),s.a.createElement(Ue.a.Group,null,s.a.createElement(Ue.a.Control,{type:"password",name:"password2",value:this.state.password2,placeholder:"Retype Password",onChange:this.handleChange}),s.a.createElement(Ue.a.Label,null)),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Ke.a,null,s.a.createElement(Fe.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Reset"))))))))):s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Something wrong with yout token please try again."))))}}var et=a(692),tt=a(46),at=a.n(tt),nt=a(710),st=a(693),lt=a(348),it=a(690),rt=a(177),ot=a(715),ct=a(694),mt=a(695),dt=a(696),ut=a(341),ht=a.n(ut);class pt extends s.a.Component{constructor(e){super(e)}render(){const e=this.props,t=(e.value,e.mealPrep,e.ingredientsList),a=e.categories,n=e.utensilsList;let l="";l=a.map(e=>e+", ");let i=t.map(e=>s.a.createElement("li",{key:e},e)),r=n.map(e=>s.a.createElement("li",{key:e},e));return console.log("categories are:"),console.log(this.props.categories),console.log("displayed categories are:"),console.log(l),s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{width:"100%"}},s.a.createElement("div",{className:"detail-firstCol col-md-5 col-sm-12"},s.a.createElement("img",{src:this.props.mealImageData,alt:"Meal Image^"}),"Meal Image^"))),l,s.a.createElement("br",null),"Prep Time: ",this.props.prepTime," | Cook Time: ",this.props.cookTime," | Serves ",this.props.serves," people",s.a.createElement("br",null),s.a.createElement("img",{alt:"Logo"})," ",this.props.mealName,s.a.createElement("br",null),"Ingredients:",s.a.createElement("br",null),s.a.createElement("ul",null,i),s.a.createElement("br",null),"Utensils Needed:",s.a.createElement("ul",null,r),s.a.createElement("div",{style:{pageBreakBefore:"always"}},s.a.createElement("div",null,this.props.instructionChunk1.title,s.a.createElement("br",null),this.props.instructionChunk1.dataName,s.a.createElement("br",null),this.props.instructionChunk1.instructionSteps,this.props.instructionChunk2.title,s.a.createElement("br",null),this.props.instructionChunk2.dataName,s.a.createElement("br",null),this.props.instructionChunk2.instructionSteps),s.a.createElement("div",null,this.props.instructionChunk3.title,s.a.createElement("br",null),this.props.instructionChunk3.dataName,s.a.createElement("br",null),this.props.instructionChunk3.instructionSteps,this.props.instructionChunk4.title,s.a.createElement("br",null),this.props.instructionChunk4.dataName,s.a.createElement("br",null),this.props.instructionChunk4.instructionSteps),s.a.createElement("div",null,this.props.instructionChunk5.title,s.a.createElement("br",null),this.props.instructionChunk5.dataName,s.a.createElement("br",null),this.props.instructionChunk5.instructionSteps,this.props.instructionChunk6.title,s.a.createElement("br",null),this.props.instructionChunk6.dataName,s.a.createElement("br",null),this.props.instructionChunk6.instructionSteps),this.props.tips,s.a.createElement("div",null,"Connect with us @chop_soul_full")))}}var gt=pt;class Et extends n.Component{constructor(e){super(e),this.state={openModal:this.props.openModal,increment:0,checked:!1,index:0}}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(J.a,{show:this.props.openModal,onHide:this.props.closeModal,dialogClassName:"modal-90w",centered:!0},s.a.createElement(J.a.Header,{closeButton:!0,style:{borderBottom:"30px",padding:"0px"}}),s.a.createElement(J.a.Body,{style:{padding:"0px"}},s.a.createElement(ht.a,{trigger:()=>s.a.createElement("a",{href:"#"},"Print/Share"),content:()=>this.componentRef}),s.a.createElement(gt,{ref:e=>this.componentRef=e,mealName:this.props.mealName,mealImage:this.props.mealImage,categories:this.props.categories,prepTime:this.props.prepTime,cookTime:this.props.cookTime,mealName:this.props.mealName,serves:this.props.serves,ingredientsList:this.props.ingredientsList,utensilsList:this.props.utensilsList,instructionChunk1:this.props.instructionChunk1,instructionChunk2:this.props.instructionChunk2,instructionChunk3:this.props.instructionChunk3,instructionChunk4:this.props.instructionChunk4,instructionChunk5:this.props.instructionChunk5,instructionChunk6:this.props.instructionChunk6,tips:this.props.tips,mealImageData:this.props.mealImageData})))))}}var ft=Et,bt=a(644);class vt extends n.Component{constructor(e){var t;super(e),t=this,this.ingredientsQuantityMeasurements=[],this.handleCloseOfMealSubmissinoDialogMessage=()=>{this.setState({booleanOfDisplayOfDialogBoxConfirmation:!1})},this.openMealDetailsModal=e=>{console.log("Comes in toggle product details div id. Index is : "+e);var t=document.getElementById("ProductAdditionalDataDisplayed");console.log(t),this.setState({openModal:!0})},this.onTextFieldChange=e=>{console.log("Comes in on text field change; "),console.log(" "+[e.target.id]+" "+e.target.value),this.setState({[e.target.id]:e.target.value})},this.onInputChange=e=>{console.log("Comes in on text field change; "),console.log(" "+[e.target.id]+" "+e.target.value),this.setState({[e.target.id]:e.target.value})},this.onUpdateMealImage=e=>{if(void 0!==e.target.files[0]){this.setState({mealImage:e.target.files[0],mealImageName:e.target.files[0].name,mealImageData:URL.createObjectURL(e.target.files[0])});var t=/(\.jpg|\.jpeg|\.png|\.)$/i;if(t.exec(e.target.files[0].name)){var a=document.getElementById("MealsMainImages");a.style.display="block",a.src=URL.createObjectURL(e.target.files[0]),console.log(e.target.files[0]),console.log(e.target.files[0].name),console.log(t.exec(e.target.files[0].name))}else alert("Invalid image type")}},this.onhandleInstructionImg=(e,t)=>{if(void 0===e.target.files[0])return;let a;switch(console.log("uploading recipeChunkImageOrVideo content looks like below: "),console.log(e.target.files[0]),t){case 1:a=this.state.instructionChunk1,a.dataName=e.target.files[0].name,this.setState({instructionChunk1:a,chunk1Content:e.target.files[0]});break;case 2:a=this.state.instructionChunk2,a.dataName=e.target.files[0].name,this.setState({instructionChunk2:a,chunk2Content:e.target.files[0]});break;case 3:a=this.state.instructionChunk3,a.dataName=e.target.files[0].name,this.setState({instructionChunk3:a,chunk3Content:e.target.files[0]});break;case 4:a=this.state.instructionChunk4,a.dataName=e.target.files[0].name,this.setState({instructionChunk4:a,chunk4Content:e.target.files[0]});break;case 5:a=this.state.instructionChunk5,a.dataName=e.target.files[0].name,this.setState({instructionChunk5:a,chunk5Content:e.target.files[0]});break;case 6:a=this.state.instructionChunk6,a.dataName=e.target.files[0].name,this.setState({instructionChunk6:a,chunk6Content:e.target.files[0]})}var n="chunk"+t+"Image",s="chunk"+t+"Video",l=document.getElementById(n),i=document.getElementById(s);/(\.jpg|\.jpeg|\.png|\.)$/i.exec(e.target.files[0].name)?(l.style.display="block",i.style.display="none",l.src=l.src=URL.createObjectURL(e.target.files[0])):/(\.mp4|\.m4v|\.)$/i.exec(e.target.files[0].name)?(i.style.display="block",l.style.display="none",i.src=URL.createObjectURL(e.target.files[0]),i.play(),console.log(e.target.files[0])):alert("Invalid file type")},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0])return;const a=this.state.instructionimagesAndVideos;a[t]=e.target.files[0],this.setState({instructionimagesAndVideos:a})},this.handleProductNameInput=(e,t)=>{if(console.log("In handleProductNameInput . \n val is: "+t),void 0!==t&&null!==t){const a=this.props.productNames.map((function(e){return e.toLowerCase()===t.toLowerCase()})).indexOf(!0);console.log("Curr Product Index If Exists In Products List is: \n"+a),this.setState({currProductIndexInDBsProductsList:a}),null!=e&&null!==e.target.value?this.setState({currentIngredient:e.target.innerHTML}):this.setState({currentIngredient:t})}else console.log("val is null or undefined")},this.deleteNewIngredientFromNewProductPopUp=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=this.state.new_product_ingredients;-1!==e&&(t.splice(e,1),a.splice(e,1),n.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a,new_product_ingredients:n}))},this.handleKitchenUtensilInputName=e=>{this.setState({suggestedUtensils:e})},this.handleCategoryDropdownChange=e=>{this.setState({suggestedCategories:e})},this.sendSuggestedMealToDB=function(){var e=Object(fe.a)(Ee.a.mark((function e(a){var n,s,l,i,r,o,c,m,d,u,h,p,g,E,f,b,v,S,C,y,I,k,N,w,x,_,M,L,T,D,O,P,A,F,U,R,j,B;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,s=n.mealName,l=n.prepTime,i=n.cookTime,r=n.mealImage,o=n.mealImageName,c=n.intro,m=n.servings,d=n.chef,u=n.new_product_ingredients,h=n.ingredientGroupList,p=n.suggestedCategories,g=n.tips,E=n.suggestedUtensils,f=n.chunk1Content,b=n.chunk2Content,v=n.chunk3Content,S=n.chunk4Content,C=n.chunk5Content,y=n.chunk6Content,""!==s){e.next=4;break}return console.log("meal label blank"),e.abrupt("return");case 4:if(null!==r&&void 0!==r){e.next=7;break}return window.alert("You didn't add suggested meal image"),e.abrupt("return");case 7:for(I=[],k=[],N=0,N=0;N<u.length;N++)w={ingredient:u[N].productName,image:u[N].productImgFile},x={quantity:h[N].quantity,measurement:h[N].measurement},t.ingredientsQuantityMeasurements.push(x);for(_=[],N=0;N<h.length;N++)w={productName:h[N].productName,quantity:h[N].quantity,measurement:h[N].measurement,productImgPath:h[N].productImgPath,properIngredientStringSyntax:h[N].properIngredientStringSyntax},I.push(w),console.log(w),M={ingredient:h[N].product,image:h[N].productImgPath,display:h[N].display},k.push(M),""!==h[N].measurement&&-1===t.props.measurements.indexOf(h[N].measurement)&&_.push(h[N].measurement);for(L=[],N=0;N<p.length;N++)-1===t.props.categories.indexOf(p[N])&&L.push(p[N]);for(T=[],N=0;N<E.length;N++)-1===t.props.kitchenUtensils.indexOf(E[N])&&T.push(E[N]);D=[],O=new bt,console.log("Meal name:"),console.log(t.state.mealName),N=0;case 22:if(!(N<6)){e.next=47;break}P="instructionChunkContent"+(N+1),console.log(t.state.instructionimagesAndVideos[N]),void 0!==t.state.instructionimagesAndVideos[N]&&(console.log("Comes in here to send individual content"),console.log(t.state.instructionimagesAndVideos[N]),O.append(P,t.state.instructionimagesAndVideos[N]),console.log(O)),A=[],e.t0=N,e.next=0===e.t0?30:1===e.t0?32:2===e.t0?34:3===e.t0?36:4===e.t0?38:5===e.t0?40:42;break;case 30:return A=t.state.instructionChunk1,e.abrupt("break",43);case 32:return A=t.state.instructionChunk2,e.abrupt("break",43);case 34:return A=t.state.instructionChunk3,e.abrupt("break",43);case 36:return A=t.state.instructionChunk4,e.abrupt("break",43);case 38:return A=t.state.instructionChunk5,e.abrupt("break",43);case 40:return A=t.state.instructionChunk6,e.abrupt("break",43);case 42:A="null";case 43:D.push(A);case 44:N++,e.next=22;break;case 47:O.append("mealContentName",t.state.mealName),console.log(O),F={mealContentName:t.state.mealName},U=JSON.stringify(F),console.log(U),(R=new bt).append("mealName",s),R.append("mealImage",r),R.append("mealImageName",o),R.append("prepTime",l),R.append("cookTime",i),R.append("intro",c),R.append("tips",JSON.stringify(g)),R.append("chef",d),R.append("servings",m),R.append("new_measurements",JSON.stringify(_)),R.append("formatted_ingredient",JSON.stringify(I)),R.append("new_product_ingredients",JSON.stringify(u)),R.append("categories",JSON.stringify(p)),R.append("newCategories",JSON.stringify(L)),R.append("kitchenUtensils",JSON.stringify(E)),R.append("newKitchenUtensils",JSON.stringify(T)),R.append("stepSlides",JSON.stringify(D)),R.append("instructionChunkContent1",f),R.append("instructionChunkContent2",b),R.append("instructionChunkContent3",v),R.append("instructionChunkContent4",S),R.append("instructionChunkContent5",C),R.append("instructionChunkContent6",y),console.log(t.state.chunk1Content),"http://localhost:5000/api/addMealSuggestion/",j={method:"POST",data:R,url:"http://localhost:5000/api/addMealSuggestion/",headers:{}},console.log("Printing Chunk Contents"),B=JSON.parse(JSON.stringify(D)),console.log(B),de(j).then(e=>{e.status>=200&&e.status<300?(t.setState({booleanOfDisplayOfDialogBoxConfirmation:!0}),console.log(e),console.log("Display Meal submitted successfully")):console.log("Something wrong happened ")}).catch(e=>{console.log(e)});case 83:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.state={mealName:"",mealImage:"",mealImageName:"",mealImageFile:"",intro:"",ingredientNames:[],ingredientGroupList:[],ingredientStrings:[],currentIngredient:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",currentProductImgSrc:null,currentProductDisplayIndex:0,currentStore:"",productImg_path:"",new_product_ingredients:[],suggested_stores:[],currProductIndexInDBsProductsList:-1,suggestedUtensils:[],cookTime:0,prepTime:0,instructionChunk6:{title:"",instructionSteps:[],dataName:""},instructionChunk1:{title:"",instructionSteps:[],dataName:""},instructionChunk2:{title:"",instructionSteps:[],dataName:""},instructionChunk3:{title:"",instructionSteps:[],dataName:""},instructionChunk4:{title:"",instructionSteps:[],dataName:""},instructionChunk5:{title:"",instructionSteps:[],dataName:""},chunk1Content:"",chunk2Content:"",chunk3Content:"",chunk4Content:"",chunk5Content:"",chunk6Content:"",instructionimagesAndVideos:[],chef:"",suggestedCategories:[],servings:0,tips:[],booleanOfDisplayOfDialogBoxConfirmation:!1,openModal:!1},this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this),this.updateChef=this.updateChef.bind(this),this.updateTip=this.updateTip.bind(this),this.handleAddInstructionStep=this.handleAddInstructionStep.bind(this),this.handleInstructionTitle=this.handleInstructionTitle.bind(this),this.handleUtensilsDropdownChange=this.handleUtensilsDropdownChange.bind(this),this.openMealDetailsModal=this.openMealDetailsModal.bind(this),this.handleProductNameInput=this.handleProductNameInput.bind(this),this.closeModal=this.closeModal.bind(this)}componentDidMount(){var e="/get-meals";de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET of ALL MEALS ");for(var a=0;a<t.data.length;a++)this.props.allMealNames.push(t.data[a].label)}else console.log("get all meal names function does not return")}).catch(e=>{console.log(e)}),console.log(this.allMealNames),e="https://chopchowdev.herokuapp.com/get-all-products",e="/get-all-categories",this.categories=this.props.categories}closeModal(){this.setState({openModal:!1})}updateChef(){var e=document.getElementById("chef").value;this.setState({chef:e})}updateTip(e){this.setState({tips:[...this.state.tips,e]})}deleteTip(e){let t=this.state.tips;var a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({tips:t}))}handleAddIngredientChip(e){this.setState({ingredientStrings:[...this.state.ingredientStrings,e]})}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleIngredientMeasurement(e,t){if(console.log("In handleIngredientMeasurement . \n val is: "+t),null!==t&&void 0!==t){const a=this.props.measurements.map((function(e){return e.toLowerCase()===t.toLowerCase()})).indexOf(!0);console.log("Curr Product Index If Exists In Products List is: \n"+a),null!=e&&null!==e.target.value?this.setState({currentIngredientMeasurement:e.target.innerHTML}):this.setState({currentIngredientMeasurement:t})}else console.log("val is null!")}handleInstructionTitle(e,t){console.log("Index is : "+t);let a,n=e.target.value;switch(console.log("Chip is : "+n),t){case 1:a=this.state.instructionChunk1,a.title=n,this.setState({instructionChunk1:a});break;case 2:a=this.state.instructionChunk2,a.title=n,this.setState({instructionChunk2:a});break;case 3:a=this.state.instructionChunk3,a.title=n,this.setState({instructionChunk3:a});break;case 4:a=this.state.instructionChunk4,a.title=n,this.setState({instructionChunk4:a});break;case 5:a=this.state.instructionChunk5,a.title=n,this.setState({instructionChunk5:a});break;case 6:a=this.state.instructionChunk6,a.title=n,this.setState({instructionChunk6:a})}}handleAddInstructionStep(e,t){var a;switch(console.log("Index is : "+t),t){case 1:(a=this.state.instructionChunk1).instructionSteps=[...this.state.instructionChunk1.instructionSteps,e],this.setState({instructionChunk1:a});break;case 2:(a=this.state.instructionChunk2).instructionSteps=[...this.state.instructionChunk2.instructionSteps,e],this.setState({instructionChunk2:a});break;case 3:(a=this.state.instructionChunk3).instructionSteps=[...this.state.instructionChunk3.instructionSteps,e],this.setState({instructionChunk3:a});break;case 4:(a=this.state.instructionChunk4).instructionSteps=[...this.state.instructionChunk4.instructionSteps,e],this.setState({instructionChunk4:a});break;case 5:console.log("Comes in here too"),(a=this.state.instructionChunk5).instructionSteps=[...this.state.instructionChunk5.instructionSteps,e],this.setState({instructionChunk5:a});break;case 6:(a=this.state.instructionChunk6).instructionSteps=[...this.state.instructionChunk6.instructionSteps,e],this.setState({instructionChunk6:a})}}handleDeleteInstructionsStep(e,t){let a,n,s;switch(console.log("In delete instruction step/chip"),console.log("Chip is "+e),console.log("Index is "+t),t){case 1:a=this.state.instructionChunk1,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,console.log("new array : \n"+a),this.setState({instructionChunk1:a}));break;case 2:a=this.state.instructionChunk2,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk2:a}));break;case 3:a=this.state.instructionChunk3,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk3:a}));break;case 4:a=this.state.instructionChunk4,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk4:a}));break;case 5:a=this.state.instructionChunk5,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk5:a}));break;case 6:a=this.state.instructionChunk6,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk6:a}))}}handleUtensilsDropdownChange(e){e.target.value?this.setState({suggestedUtensils:[...this.state.suggestedUtensils,e.target.value]}):this.setState({suggestedUtensils:[...this.state.suggestedUtensils,e.target.innerHTML]})}handleDeleteUtensilsChip(e){var t=[...this.state.suggestedUtensils],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({suggestedUtensils:t}))}handleAddCategoryChip(e){this.setState({suggestedCategories:[...this.state.suggestedCategories,e]})}handleDeleteCategoryChip(e){var t=[...this.state.suggestedCategories],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({suggestedCategories:t}))}addIngredientToMeal(e){var t;console.log("COMES IN addIngredientToMeal"),e.preventDefault();var a=document.getElementById("currentIngredient").value,n=document.getElementById("currentIngredientQuantity").value,s=document.getElementById("currentIngredientMeasurement").value;if(""===a)return void window.alert("Enter an ingredient to add to meal");t=""===n?a:""===s&&""!==n?n+" "+a:n+" "+s+" of "+a,console.log(t);var l={productName:a,productImgPath:null,quantity:n,measurement:s,properIngredientStringSyntax:t};console.log("current state of product index at Add Ingredient To Meal is : \n"+this.state.currProductIndexInDBsProductsList);const i=this.props.productNames.map((function(e){return e.toLowerCase()===a.toLowerCase()})).indexOf(!0);console.log("Curr Product Index If Exists In Products List is: \n"+i),-1!==i?(console.log("using already existing product object from db"),console.log("DOES NOT ADD to new _product_ingredients")):(console.log("ADDs to new_product_ingredients"),console.log("creating new product object"),l.productIndex=0,this.setState({new_product_ingredients:[...this.state.new_product_ingredients,l]})),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,l]}),this.setState({currentIngredient:"null",currentIngredientQuantity:"",currentIngredientMeasurement:"null"}),this.setState({currentIngredient:"",currentIngredientMeasurement:""}),this.handleAddIngredientChip(t)}render(){const e=Object(lt.a)({palette:{primary:rt.a}}),t=this.state.ingredientGroupList;return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("div",{style:{width:"85%",margin:"auto",backgroundColor:"#f4f4f4"}},s.a.createElement("div",{style:{padding:"20px",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement("div",{id:"title",style:{marginTop:"20px",marginBottom:"20px"}},s.a.createElement("b",null,"Begin Suggesting Meal:")),s.a.createElement("form",{noValidate:!0,autoComplete:"off",encType:"multipart/form-data",method:"post"},s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,null,s.a.createElement(nt.a,{id:"mealName",options:this.props.allMealNames.map(e=>e),onChange:e=>this.onInputChange(e),onInputChange:(e,t)=>this.onInputChange(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{label:"Meal Name",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.mealName}))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"prepTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"PrepTime (mins)",variant:"filled",required:!0})),s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"cookTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"CookTime (mins)",variant:"filled",required:!0}))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:12,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*,video/mp4,video/mov,video/x-m4v,video/*",id:"mealImage",name:"mealImage",type:"file",className:"mb-2 pr-4",onChange:e=>this.onUpdateMealImage(e)}),s.a.createElement("p",null,s.a.createElement("img",{id:"MealsMainImages",width:"100%",alt:"main_Meal_Image",style:{display:"none"}})))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:12},s.a.createElement(et.a,{multiline:!0,id:"intro",fullWidth:!0,onChange:this.onTextFieldChange,label:"Intro",variant:"filled",className:"mb-3 "}))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"servings",fullWidth:!0,type:"number",onChange:this.onTextFieldChange,label:"Serves",variant:"filled",className:"mb-3 ",placeholder:"1 person, 2, 4 or 10 people"})),s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"chef",value:this.state.chef,fullWidth:!0,onChange:this.updateChef,label:"Chef",variant:"filled",className:"mb-3 "}))),s.a.createElement("b",null,"Add Ingredients:"),s.a.createElement("hr",null),s.a.createElement(D.a,{className:"mb-1"},s.a.createElement(O.a,null,s.a.createElement(nt.a,{id:"currentIngredient",options:this.props.productNames.map(e=>e),value:this.state.currentIngredient,onChange:(e,t)=>this.handleProductNameInput(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{id:"currentIngredient",label:"ingredients",value:this.state.currentIngredient,variant:"filled",type:"text"})),fullWidth:!0,className:"mb-3"}))),s.a.createElement(D.a,{className:"mb-1"},s.a.createElement(O.a,{md:5},s.a.createElement(et.a,{fullWidth:!0,id:"currentIngredientQuantity",type:"number",onChange:this.onTextFieldChange,label:"Quantity",variant:"filled",placeholder:"1..",className:"mb-3",value:this.state.currentIngredientQuantity})),s.a.createElement(O.a,{md:5},s.a.createElement(nt.a,{id:"currentIngredientMeasurement",options:this.props.measurements.map(e=>e),value:this.state.currentIngredientMeasurement,onChange:this.handleIngredientMeasurement,freeSolo:!0,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{value:this.state.currentIngredientMeasurement,id:"currentIngredientMeasurement",label:"Measurements",variant:"filled",type:"text"})),className:"mb-3"})),s.a.createElement(O.a,{md:2,style:{textAlign:"center",margin:"auto"}},s.a.createElement(st.a,{variant:"contained",color:"primary",disableRipple:!0,onClick:this.addIngredientToMeal,style:{color:"white",width:"80%"},className:"mb-3"}," Add Ingredient"))),s.a.createElement(D.a,{className:"mb-2"},s.a.createElement(O.a,{md:12},s.a.createElement(at.a,{label:"IngredientsList",value:this.state.ingredientStrings,onAdd:e=>this.handleAddIngredientChip(e),placeholder:"e.g 1 Onion, 2 Cups of Water, etc",onDelete:e=>this.handleDeleteIngredientChip(e),variant:"filled",fullWidth:!0,className:"mb-2"}))),s.a.createElement(T.a,{style:{flex:"row-reverse"}},t.map((e,t)=>s.a.createElement(O.a,{md:5,key:t,name:"suggestedProductsContainer",style:{margin:"1px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},e.properIngredientStringSyntax))),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("br",null),s.a.createElement(D.a,null,s.a.createElement(O.a,null,s.a.createElement(nt.a,{multiple:!0,id:"kitchen_utenails",freeSolo:!0,options:this.props.kitchenUtensils.map(e=>e),onChange:(e,t)=>this.handleKitchenUtensilInputName(t),renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{label:"Kitchen Utensils : Add any unique cooking utensils needed to make this meal (optional)",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.suggestedUtensils}))),s.a.createElement("b",null,"Add Recipe Chunks ",s.a.createElement("sup",null,"i"),":"),s.a.createElement("hr",null),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement("p",null," Upload photos/videos for different parts of recipe steps")),s.a.createElement(D.a,null,s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"chunk1Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,1),label:"Section 1 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent1",name:"instructionChunkContent1",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,1)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk1Image",width:"100%",alt:"recipe_step1_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk1Video",style:{display:"none"},controls:!0},"Your browser does not support the video tag.")),s.a.createElement(at.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk1.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,1),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,1),variant:"filled"})),s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"chunk2Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,2),label:"Section 2 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent2",name:"instructionChunkContent2",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,2)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk2Image",width:"100%",alt:"recipe_step2_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk2Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk2VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(at.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk2.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,2),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,2),variant:"filled"}))),s.a.createElement(D.a,null,s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"chunk3Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,3),label:"Section 3 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent3",name:"instructionChunkContent3",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,3)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk3Image",width:"100%",alt:"recipe_step3_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk3Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk3VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(at.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk3.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,3),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,3),variant:"filled"})),s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"chunk4Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,4),label:"Section 4 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent4",name:"instructionChunkContent4",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,4)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk4Image",width:"100%",alt:"recipe_step4_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk4Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk4VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(at.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk4.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,4),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,4),variant:"filled"}))),s.a.createElement(D.a,null,s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"chunk5Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,5),label:"Section 5 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent5",name:"instructionChunkContent5",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,5)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk5Image",width:"100%",alt:"recipe_step5_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk5Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk5VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(at.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk5.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,5),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,5),variant:"filled"})),s.a.createElement(O.a,{md:6},s.a.createElement(et.a,{id:"chunk6Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,6),label:"Section 6 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent6",name:"instructionChunkContent6",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,6)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk6Image",width:"100%",alt:"recipe_step6_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk6Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk6VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(at.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk6.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,6),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,6),variant:"filled"}))),s.a.createElement("hr",null),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:12},s.a.createElement(nt.a,{multiple:!0,id:"tags-filled",className:"mb-2",freeSolo:!0,options:this.props.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:this.state.suggestedCategories,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),s.a.createElement(D.a,null,s.a.createElement(O.a,{md:12},s.a.createElement(at.a,{id:"tips",label:"Tips(optional): include any modifications to this meal you will like to add",className:"mb-3",fullWidth:!0,value:this.state.tips,onAdd:e=>this.updateTip(e),onDelete:(e,t)=>this.deleteTip(e,t),variant:"filled"}))),s.a.createElement("u",{onClick:this.openMealDetailsModal}," Show Preview +"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{id:"ProductAdditionalDataDisplayed"},s.a.createElement(ft,{openModal:this.state.openModal,closeModal:this.closeModal,mealName:this.state.mealName,mealImage:this.state.mealImage,categories:this.state.suggestedCategories,prepTime:this.state.prepTime,cookTime:this.state.cookTime,serves:this.state.servings,ingredientsList:this.state.ingredientStrings,utensilsList:this.state.suggestedUtensils,instructionChunk1:this.state.instructionChunk1,instructionChunk2:this.state.instructionChunk2,instructionChunk3:this.state.instructionChunk3,instructionChunk4:this.state.instructionChunk4,instructionChunk5:this.state.instructionChunk5,instructionChunk6:this.state.instructionChunk6,tips:this.state.tips,mealImageData:this.state.mealImageData})),s.a.createElement(D.a,{className:"mb-5"},s.a.createElement(O.a,{md:12},s.a.createElement(it.a,{theme:e},s.a.createElement(st.a,{variant:"contained",className:"mb-2",color:"primary",style:{color:"white",width:"100%"},onClick:()=>this.sendSuggestedMealToDB()}," Add Meal"))),s.a.createElement("u",null,"View privacy policy ",s.a.createElement("sup",null,"i")))))),s.a.createElement(ot.a,{open:this.state.booleanOfDisplayOfDialogBoxConfirmation,onClose:this.handleCloseOfMealSubmissinoDialogMessage,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},s.a.createElement(ct.a,{id:"alert-dialog-title"},"Meal Submitted Successfully!"),s.a.createElement(mt.a,null,s.a.createElement(dt.a,null,"Thanks for your submission. Your recipe may be published to our meals page upon admin review. Explore our Preview and Print option to create a hard copy of this meal."))))}}var St=vt;class Ct extends n.Component{constructor(e){var t;super(e),t=this,this.products=[],this.productsImg_path=[],this.categories=[],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb"],this.handleClose=()=>{this.setState({open:!1})},this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onTextFieldClick=e=>{void 0!==e.target.files[0]&&(this.setState({imgSrc:e.target.files[0]}),this.setState({loading_imgSrc:URL.createObjectURL(e.target.files[0])}),this.setState({img_change_flag:!0}))},this.onhandleProductImg=e=>{void 0!==e.target.files[0]&&(this.setState({productImgSrc:e.target.files[0]}),null!==e.target.files[0]&&this.setState({productImg_path:URL.createObjectURL(e.target.files[0])}))},this.onhandleInstructionImg=e=>{void 0!==e.target.files[0]&&(this.setState({instructionImgData:e.target.files[0]}),null!==e.target.files[0]&&this.setState({instructionImgPath:URL.createObjectURL(e.target.files[0])}))},this.onHandleIngredientItem=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList;-1!==e&&(t.splice(e,1),a.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))},this.onHandleInstructionItem=e=>{const t=this.state.instructionGroupList;t.splice(e,1),this.setState({instructionGroupList:t})},this.onUpdateIngredientImg=(e,t)=>{if(null===e.target.files[0]||this.state.ingredientGroupList.length<=t)return;const a=this.state.ingredientGroupList,n=a[t];var s={product:n.product,quantity:n.quantity,measurement:n.measurement,productImgData:e.target.files[0],productImgPath:URL.createObjectURL(e.target.files[0]),flag:!0};a[t]=s,this.setState({ingredientGroupList:a})},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0]||this.state.instructionGroupList.length<=t)return;const a=this.state.instructionGroupList;let n={step:a[t].step,imgdata:e.target.files[0],imgpath:URL.createObjectURL(e.target.files[0])};a[t]=n,this.setState({instructionGroupList:a})},this.handleIngredientDropdownChange=(e,t)=>{var a=this.products.indexOf(t);-1!==a&&this.setState({product_ind:a}),null!==e.target.value?this.setState({currentIngredient:t}):this.setState({currentIngredient:e.target.innerHTML})},this.handleProductName=(e,t)=>{const a=this.products.map(e=>e.toLowerCase().includes(t.toLowerCase())).find(e=>!0===e);!0!==a||null===a?(this.setState({productImgSetting_flag:!0}),this.setState({currentIngredient:t})):(this.setState({productImgSetting_flag:!1}),this.setState({currentIngredient:t}))},this.handleCategoryDropdownChange=e=>{this.setState({categoryList:e})},this.addInstructionList=()=>{if(0===this.state.instructionsChip.length)return;let e={step:this.state.instructionsChip,imgdata:this.state.instructionImgData,imgpath:this.state.instructionImgPath};this.setState({instructionGroupList:[...this.state.instructionGroupList,e]}),this.setState({instructionsChip:[],instructionImgData:null,instructionImgPath:""})},this.sendSuggestedMealToDB=function(){var e=Object(fe.a)(Ee.a.mark((function e(a){var n,s,l,i,r,o,c,m,d,u,h,p,g,E,f,b,v,S,C,y,I,k,N,w,x,_,M,L,T,D,O,P;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,s=n.productLabel,l=n.intro,i=n.servings,r=n.ingredientStrings,o=n.ingredientGroupList,c=n.instructionGroupList,m=n.imgSrc,d=n.readTime,u=n.cookTime,h=n.categoryList,""!==s){e.next=4;break}return console.log("meal label blank"),e.abrupt("return");case 4:if(0!==r.length){e.next=7;break}return window.alert("Suggested meal requires adding at least one ingredient to submit"),e.abrupt("return");case 7:if(null!==m){e.next=10;break}return window.alert("You didn't add suggested meal image"),e.abrupt("return");case 10:for(p=new FormData,g=0,E=0;E<o.length;E++)null!==o[E].productImgData&&(p.append("productImgs",o[E].productImgData),g++);if(f=null,0===g){e.next=22;break}return"/getProductImgURL/",b={method:"POST",data:p,url:"/getProductImgURL/"},e.next=19,de(b);case 19:v=e.sent,console.log("UploadedImage_URL: ",v),f=v.data.productImg_paths;case 22:for(S=[],C=[],y=-1,E=0;E<o.length;E++)I={product:o[E].product,quantity:o[E].quantity,measurement:o[E].measurement},S.push(I),k="",null!==o[E].productImgData?(y++,k=f[y]):k=o[E].productImgPath,N={ingredient:o[E].product,image:k,flag:o[E].flag},C.push(N);for(w=new FormData,x=0,E=0;E<c.length;E++)null!==c[E].imgdata&&(w.append("instructionImgs",c[E].imgdata),x++);if(_=null,0===x){e.next=37;break}return"/getInstructionImgURL/",M={method:"POST",data:w,url:"/getInstructionImgURL/"},e.next=35,de(M);case 35:v=e.sent,_=v.data.instrutionImg_paths;case 37:for(L=[],T=-1,E=0;E<c.length;E++)k=null,null!==c[E].imgdata&&(T++,k=_[T]),D={step:c[E].step,image:k},L.push(D);for(O=[],E=0;E<h.length;E++)-1===t.categories.indexOf(h[E])&&O.push(h[E]);"/addMealSuggestion/",(P=new FormData).append("productLabel",s),P.append("intro",l),P.append("servings",i),P.append("product_slider",JSON.stringify(C)),P.append("formatted_ingredient",JSON.stringify(S)),P.append("instructionsGroupList",JSON.stringify(L)),P.append("ingredientStrings",r),P.append("readTime",d),P.append("cookTime",u),P.append("categoryChips",JSON.stringify(h)),P.append("newCategories",JSON.stringify(O)),P.append("imgSrc",m),de({method:"POST",data:P,url:"/addMealSuggestion/"}).then(e=>{e.status>=200&&e.status<300?(t.setState({open:!0}),console.log(e),console.log("Display Meal submitted successfully"),window.location.href="/SuggestMeal"):console.log("Somthing happened wrong")}).catch(e=>{console.log(e)});case 58:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.state={productLabel:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",ingredientStrings:[],instructionsChip:[],categoryChips:["snacks","abc","123"],productsPopulated:!1,imgSrc:null,loading_imgSrc:"",open:!1,productImgSetting_flag:!1,productImgSrc:null,productImg_path:"",product_ind:0,categoryList:[]},this.handleIngredientDropdownChange=this.handleIngredientDropdownChange.bind(this),this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.handleIngredientQuantity=this.handleIngredientQuantity.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this)}componentDidMount(){var e="/get-all-products";de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET ALL PRODUCTS ");for(var a=0;a<t.data.length;a++)this.products.push(t.data[a].product_name),this.productsImg_path.push(t.data[a].product_image);console.log("PRINTING ALL PRODUCTS LIST"),console.log(this.products),this.setState({productsPopulated:!0})}else console.log("get all products function does not return")}).catch(e=>{console.log(e)}),e="/get-all-categories",de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET of ALL Categories ");for(var a=0;a<t.data.length;a++)this.categories.push(t.data[a].category_name);console.log("PRINTING UPDATED CATEGORIES LIST")}else console.log("get all products function does not return")}).catch(e=>{console.log(e)})}handleAddIngredientChip(e){this.setState({ingredientStrings:[...this.state.ingredientStrings,e]})}handleAddCategoryChip(e){this.setState({categoryChips:[...this.state.categoryChips,e]})}handleAddInstructionStep(e){this.setState({instructionsChip:[...this.state.instructionsChip,e]})}handleAddCategoryStep(){console.log("FFFFFFFFFFFFFF+++++++++")}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleDeleteCategoryChip(e){var t=[...this.state.categoryChips],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({categoryChips:t}))}handleDeleteInstructionsStep(e){var t=[...this.state.instructionsChip],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({instructionsChip:t}))}handleIngredientQuantity(e){console.log(e.target.value),this.setState({currentIngredientQuantity:e.target.value})}handleIngredientMeasurement(e){e.target.value?this.setState({currentIngredientMeasurement:e.target.value}):this.setState({currentIngredientMeasurement:e.target.innerHTML})}addIngredientToMeal(e){var t;if(e.preventDefault(),""!==document.getElementById("currentIngredient").value){t=0===this.state.currentIngredientQuantity?document.getElementById("currentIngredient").value:null===document.getElementById("currentIngredientMeasurement").value?this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredient").value:this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredientMeasurement").value+" of "+document.getElementById("currentIngredient").value;var a={product:this.state.currentIngredient,quantity:this.state.currentIngredientQuantity,measurement:this.state.currentIngredientMeasurement,productImgData:this.state.productImgSrc,productImgPath:null,flag:this.state.productImgSetting_flag};this.state.productImgSetting_flag?(a.productImgPath=this.state.productImg_path,a.flag=!0):(a.productImgPath=this.productsImg_path[this.state.product_ind],a.flag=!1),this.handleAddIngredientChip(t),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,a]}),this.setState({productImgSrc:null,productImg_path:""}),this.setState({currentIngredient:"",currentIngredientQuantity:"",currentIngredientMeasurement:""})}else window.alert("Enter an ingredient to add to meal")}render(){const e=Object(lt.a)({palette:{primary:rt.a}}),t=this.state,a=t.loading_imgSrc,n=t.categoryList;return s.a.createElement("div",null,s.a.createElement("div",{style:{width:"85%",margin:"auto",backgroundColor:"#f4f4f4"}},s.a.createElement("div",{style:{padding:"20px",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement("div",{id:"title",style:{marginTop:"20px",marginBottom:"20px"}},s.a.createElement("b",null,"Suggest Product")),s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(D.a,{className:"mb-1"},s.a.createElement(O.a,{md:4},s.a.createElement(nt.a,{id:"currentIngredient",options:this.products.map(e=>e),onChange:(e,t)=>this.handleIngredientDropdownChange(e,t),onInputChange:(e,t)=>this.handleProductName(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{label:"Product Name",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.currentIngredient})),s.a.createElement(O.a,{md:4,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*",id:"imgSrc",type:"file",className:"mb-2 pr-4",onChange:e=>this.onTextFieldClick(e)})),s.a.createElement(O.a,{md:4,style:{marginTop:"20px",textAlign:"center"}},s.a.createElement("img",{src:a,width:"70%",height:"auto",alt:""}))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:4},s.a.createElement(nt.a,{multiple:!0,id:"tags-filled",className:"mb-2",freeSolo:!0,options:this.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:n,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),s.a.createElement("hr",null),s.a.createElement(D.a,{className:"mb-5"},s.a.createElement(O.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(it.a,{theme:e},s.a.createElement(st.a,{variant:"contained",className:"mb-2",color:"primary",style:{color:"white"},onClick:()=>this.sendSuggestedMealToDB()}," Add Product"))))))),s.a.createElement(ot.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},s.a.createElement(ct.a,{id:"alert-dialog-title"},"Informtation"),s.a.createElement(mt.a,null,s.a.createElement(dt.a,null,"Successfully added in database"))))}}var yt=Ct,It=a(698),kt=a(349),Nt=a(699),wt=a(700),xt=a(701),_t=a(702),Mt=a(703),Lt=a(711),Tt=a(704),Dt=a(691),Ot=a(709),Pt=a(7),At=a(345),Ft=a.n(At),Ut=a(346),Rt=a.n(Ut),jt=a(344),Bt=a.n(jt),Wt=a(343),Gt=a.n(Wt),zt=a(9),Vt=a(697);const Ht=[{id:"_id",label:"id",minWidth:100},{id:"mealName",label:"MealName",minWi859dth:100},{id:"intro",label:"Intro",minWidth:100},{id:"servings",label:"Servings",minWidth:30},{id:"prepTime",label:"prepTime",minWidth:30},{id:"cookTime",label:"cookTime",minWidth:30},{id:"active",label:"Active",minWidth:150}],qt=Object(zt.a)(e=>({tooltip:{backgroundColor:"#c0dbf2",color:"#000000",boxShadow:e.shadows[1],fontSize:15,marginTop:"50px"}}))(Vt.a);class Jt extends n.Component{constructor(e){var t;super(e),t=this,this.productsImg_path=[],this.categories=[],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb"],this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onMealImageUploadButtonClick=e=>{this.setState({mealImage:e.target.files[0],mealImageName:e.target.files[0].name}),null!==this.state.mealImage&&(this.setState({loading_imgSrc:URL.createObjectURL(e.target.files[0])}),this.setState({meal_has_image:!0}))},this.onhandleProductImg=e=>{this.setState({productImgSrc:e.target.files[0]}),null!==e.target.files[0]&&this.setState({productImg_path:URL.createObjectURL(e.target.files[0])})},this.onHandleIngredientItem=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList;-1!==e&&(t.splice(e,1),a.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))},this.onUpdateIngredientImg=(e,t)=>{if(null===e.target.files[0]||this.state.ingredientGroupList.length<=t)return;const a=this.state.ingredientGroupList,n=a[t];var s={product:n.product,quantity:n.quantity,measurement:n.measurement,productImgData:e.target.files[0],productImgPath:URL.createObjectURL(e.target.files[0]),flag:!0};a[t]=s,this.setState({ingredientGroupList:a})},this.handleDeleteMealItem=e=>{var t="https://chopchowdev.herokuapp.com/api/removeSeggestItem/".concat(e._id);fetch(t).then(e=>e.json()).then(e=>(console.log("Delets item"),window.location.href="/ViewSuggestedMeals")).catch(e=>{console.log("unDelets item"),console.log(e)})},this.onUpdateInstructionImg=(e,t)=>{if(console.log("Comes in update function with:"),console.log("ind: "+t+"stepSlides length: "+this.state.stepSlides.length),null===e.target.files[0]||this.state.stepSlides.length<=t)return;const a=this.state.stepSlides,n=a[t];switch(n.dataName=e.target.files[0].name,a[t]=n,console.log("Addded img name to step slides.. PRinting stepslides below"),console.log(e.target.files[0]),console.log(e.target.files[0].name),console.log(a[t]),console.log(a),this.setState({stepSlides:a}),console.log("gets to switch case"),t){case 0:this.setState({instructionChunkContent1:e.target.files[0]});break;case 1:this.setState({instructionChunkContent2:e.target.files[0]});break;case 2:this.setState({instructionChunkContent3:e.target.files[0]});break;case 3:this.setState({instructionChunkContent4:e.target.files[0]});break;case 4:this.setState({instructionChunkContent5:e.target.files[0]});break;case 5:this.setState({instructionChunkContent6:e.target.files[0]})}console.log(this.state.stepSlides)},this.handleKitchenUtensilInputName=e=>{this.setState({suggestedUtensils:e})},this.handleCategoryDropdownChange=e=>{this.setState({categoryList:e})},this.onhandleSendData=()=>{fetch("./api/send-mealData",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state.selected)}).then(e=>{if(console.log(e),200===e.status)return window.location.href="/ViewSuggestedMeals"}).catch(e=>{console.log(e)})},this.handleChangePage=(e,t)=>{this.setState({page:t})},this.handleChangeRowsPerPage=e=>{this.setState({page:0}),this.setState({rowsPerPage:+e.target.value})},this.viewMealDetailsForUpdate=(e,t)=>{this.setupCurrentMealStates(e,t),console.log("Gets in Update meal details: data is:"),console.log(e);let a=[],n=[],s=JSON.parse(e.formatted_ingredient);console.log("Parsed ingredients"),console.log(s);for(let i=0;i<s.length;i++){var l={productName:s[i].productName,quantity:s[i].quantity,measurement:s[i].measurement,productImgData:null,properIngredientStringSyntax:s[i].properIngredientStringSyntax,flag:!1};a.push(l),n.push(s[i].properIngredientStringSyntax)}this.setState({ingredientGroupList:a}),this.setState({ingredientStrings:n})},this.setupCurrentMealStates=(e,t)=>{console.log("data is :"),console.log(e),console.log(e.stepSlides);let a=e.stepSlides;const n=[];console.log("Parsed Step Instructions: "),console.log(a);for(let d=0;d<a.length;d++){console.log("i : "+d),console.log("Length of instruction data: "+a.length);let e=a[d];console.log("instruction is: "),console.log(e),console.log("instruction steps is: "),console.log(e.instructionSteps);let t={title:e.title,instructionSteps:e.instructionSteps,dataName:e.dataName};n.push(t),console.log(t)}this.setState({selected_id:e._id,stepSlides:n,suggestMealRole:t,mealLabel:e.mealName,previousMealImageName:e.mealImageName,intro:e.intro,servings:e.servings,mealImage:e.mealImage,mealImageName:e.mealImageName,formatted_ingredient:e.formatted_ingredient,chef:e.chef}),this.setState({open:!0});const s=e.formatted_ingredient[e.formatted_ingredient.length-1];let l=JSON.parse(e.categories),i=JSON.parse(e.tips),r=JSON.parse(e.kitchenUtensils);this.setState({currentIngredientMeasurement:s.measurement,currentIngredientQuantity:s.quantity,currentIngredient:s.product}),this.setState({prepTime:e.prepTime,cookTime:e.cookTime,categoryList:l,suggestedUtensils:r,tips:i,product_slider:e.product_slider,productImgSetting_flag:!1});let o=[],c=[],m=JSON.parse(e.formatted_ingredient);for(let d=0;d<m.length;d++){const e=m[d];console.log(e),o.push(e.properIngredientStringSyntax),c.push(null)}console.log("All currently formatted ingredients are: "),console.log(o),this.setState({ingredientStrings:o}),this.setState({ingredientData:c})},this.viewMealDetailsPopup=(e,t)=>{this.setupCurrentMealStates(e,t),console.log("Trying to call image to display ");let a="https://chopchowdev.herokuapp.com/getOneMongoFileImage/"+e.mealImageName;this.setState({mealImage:a})},this.handleClose=()=>{this.setState({open:!1})},this.handleSelectAllClick=e=>{if(e.target.checked){const e=this.state.mealData_list.map(e=>e._id);this.setState({selected:e})}else this.setState({selected:[]})},this.handleClick=(e,t)=>{const a=this.state.selected,n=a.indexOf(t);let s=[];-1===n?s=s.concat(a,t):0===n?s=s.concat(a.slice(1)):n===a.length-1?s=s.concat(a.slice(0,-1)):n>0&&(s=s.concat(a.slice(0,n),a.slice(n+1))),this.setState({selected:s})},this.submitMealUpdate=Object(fe.a)(Ee.a.mark((function e(){var a,n,s,l,i,r,o,c,m,d,u,h,p,g,E,f,b,v,S,C,y,I,k,N,w,x,_,M,L,T,D,O,P,A,F,U,R,j,B,W;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.state,n=a.selected_id,s=a.mealImage,l=a.mealLabel,i=a.previousMealImageName,r=a.mealImageName,o=a.intro,c=a.servings,m=a.stepSlides,d=a.ingredientGroupList,u=a.ingredientStrings,h=a.prepTime,p=a.cookTime,g=a.categoryList,E=a.tips,f=a.new_product_ingredients,b=a.suggestedUtensils,v=a.instructionChunkContent1,S=a.instructionChunkContent2,C=a.instructionChunkContent3,y=a.instructionChunkContent4,I=a.instructionChunkContent5,k=a.instructionChunkContent6,N=new FormData,w=0,x=[],_=0;_<d.length;_++)null!==d[_].productImgData&&(N.append("productImgs",d[_].productImgData),w++),""!==d[_].measurement&&-1===t.props.measurements.indexOf(d[_].measurement)&&x.push(d[_].measurement);if(M=null,0===w){e.next=14;break}return"/getProductImgURL/",L={method:"POST",data:N,url:"/getProductImgURL/"},e.next=12,de(L);case 12:T=e.sent,M=T.data.productImg_paths;case 14:for(console.log("productImg_paths: ",M),D=[],O=[],P=-1,console.log("Creating product data"),_=0;_<d.length;_++)A={productName:d[_].productName,quantity:d[_].quantity,measurement:d[_].measurement,productImgPath:d[_].productImgPath,properIngredientStringSyntax:d[_].properIngredientStringSyntax},console.log(A),D.push(A),F="",null!==d[_].productImgData?(P++,F=M[P]):F=d[_].productImgPath,U={ingredient:d[_].product,image:F,flag:d[_].flag},O.push(U);for(R=[],_=0;_<g.length;_++)-1===t.categories.indexOf(g[_])&&R.push(g[_]);for(j=[],_=0;_<b.length;_++)-1===t.props.kitchenUtensils.indexOf(b[_])&&j.push(b[_]);return(B=new FormData).append("id",n),B.append("mealName",l),B.append("mealImageName",r),i!=r?B.append("mealImage",s):console.log("previous meal image name is same as current: "+r),console.log("Printing instruction chunk contents in state"),console.log(v),console.log(S),console.log(C),console.log(y),console.log(I),console.log(k),""!=v&&B.append("instructionChunkContent1",v),""!=S&&B.append("instructionChunkContent2",S),""!=C&&B.append("instructionChunkContent3",C),""!=y&&B.append("instructionChunkContent4",y),""!=I&&B.append("instructionChunkContent5",I),""!=k&&B.append("instructionChunkContent6",k),B.append("prepTime",h),B.append("cookTime",p),B.append("intro",o),console.log("ingredient strings submitted as formaated ingredients is:"),console.log(D),console.log(u),B.append("tips",JSON.stringify(E)),B.append("chef",t.state.chef),B.append("servings",c),B.append("formatted_ingredient",JSON.stringify(D)),B.append("new_product_ingredients",JSON.stringify(f)),B.append("new_measurements",JSON.stringify(x)),B.append("categories",JSON.stringify(g)),B.append("newCategories",JSON.stringify(R)),B.append("kitchenUtensils",JSON.stringify(b)),B.append("newKitchenUtensils",JSON.stringify(j)),B.append("stepSlides",JSON.stringify(m)),console.log(n),"/updateSuggestedMealItem",W={method:"POST",data:B,url:"/updateSuggestedMealItem"},e.next=64,de(W);case 64:(T=e.sent).status>=200&&T.status<300?console.log("Updated Meal submitted successfully"):console.log("Something happened wrong");case 66:case"end":return e.stop()}}),e)}))),this.state={mealLabel:"",previousMealImageName:"",intro:"",servings:0,currentIngredient:"control",currentIngredientMeasurement:"",currentIngredientQuantity:"",ingredientStrings:[],formatted_ingredient:[],instructionsChip:[],prepTime:"0 mins read",cookTime:"10 mins cook time",categoryChips:["snacks","abc","123"],productsPopulated:!1,meal_has_image:!1,chef:"",selected_id:"",mealData_list:[],mealImages_list:[],specificMealImage:"",page:0,rowsPerPage:10,open:!1,suggestMealRole:"",mealImage:"",mealImageName:"",loading_imgSrc:"",productImgSetting_flag:null,productImgSrc:null,productImg_path:"",product_ind:0,ingredientGroupList:[],new_product_ingredients:[],selected:[],stepSlides:[],instructionImgData:null,instructionImgPath:"",categoryList:[],tips:[],suggestedUtensils:[],instructionChunkContent1:"",instructionChunkContent2:"",instructionChunkContent3:"",instructionChunkContent4:"",instructionChunkContent5:"",instructionChunkContent6:""},this.addIngredientToMeal=this.addIngredientToMeal.bind(this)}componentDidMount(){de.get("/get-suggested-meals").then(e=>{var t=e.data;t&&0!==t.data.length?(console.log("shows products does return"),this.setState({mealData_list:t.data})):console.log("shows products do not return"),console.log(t)}).catch(e=>{console.log(e)}),this.categories=this.props.categories}handleAddIngredientChip(e){let t=this.state.ingredientStrings;t.push(e),this.setState({ingredientStrings:t})}handleIngredientQuantity(e){console.log(e.target.value),this.setState({currentIngredientQuantity:e.target.value})}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}addIngredientToMeal(e){var t;if(e.preventDefault(),console.log(this.state.currentIngredientMeasurement),""===document.getElementById("currentIngredient").value)return void window.alert("Enter an ingredient to add to meal");t=0===document.getElementById("currentIngredientQuantity").value?document.getElementById("currentIngredient").value:null===document.getElementById("currentIngredientMeasurement").value?document.getElementById("currentIngredientQuantity").value+" "+document.getElementById("currentIngredient").value:document.getElementById("currentIngredientQuantity").value+" "+document.getElementById("currentIngredientMeasurement").value+" of "+document.getElementById("currentIngredient").value;var a={productName:document.getElementById("currentIngredient").value,quantity:document.getElementById("currentIngredientQuantity").value,measurement:document.getElementById("currentIngredientMeasurement").value,productImgData:this.state.productImgSrc,productImgPath:null,flag:this.state.productImgSetting_flag,properIngredientStringSyntax:t};this.state.productImgSetting_flag?(a.productImgPath=this.state.productImg_path,a.flag=!0):(a.productImgPath=this.productsImg_path[this.state.product_ind],a.flag=!1);const n=this.props.productNames.map(e=>e.toLowerCase()===a.productName.toLowerCase()).indexOf(!0);console.log("Curr Product Index If Exists In Products List is: \n"+n),-1!==n?(console.log("using already existing product object from db"),console.log("DOES NOT ADD to new _product_ingredients")):(console.log("ADDs to new_product_ingredients"),console.log("creating new product object"),a.productIndex=0,this.setState({new_product_ingredients:[...this.state.new_product_ingredients,a]}));let s=this.state.ingredientGroupList;s.push(a),this.setState({ingredientGroupList:s}),document.getElementById("currentIngredient").value="",document.getElementById("currentIngredientQuantity").value=0,document.getElementById("currentIngredientMeasurement").value="",this.handleAddIngredientChip(t)}handleInstructionTitle(e,t){console.log("Index is : "+t);let a=e.target.value;console.log("Chip is : "+a);const n=this.state.stepSlides,s=n[t];s.title=a,n[t]=s,this.setState({stepSlides:n})}handleAddInstructionStep(e,t){console.log("Index is : "+t),console.log("Chip is : "+e);const a=this.state.stepSlides,n=a[t];n.instructionSteps=[...this.state.stepSlides[t].instructionSteps,e],a[t]=n,this.setState({stepSlides:a})}handleDeleteInstructionsStep(e,t){let a,n;console.log("In delete instruction step/chip"),console.log("Chip is "+e),console.log("Index is "+t);const s=this.state.stepSlides;let l=s[t];n=l.instructionSteps,a=n.indexOf(e),-1!==a&&(n.splice(a,1),l.instructionSteps=n,s[t]=l,console.log("new array : \n"+l),this.setState({stepSlides:s}))}handleUtensilsDropdownChange(e){e.target.value?this.setState({suggestedUtensils:[...this.state.suggestedUtensils,e.target.value]}):this.setState({suggestedUtensils:[...this.state.suggestedUtensils,e.target.innerHTML]})}handleDeleteUtensilsChip(e){var t=[...this.state.suggestedUtensils],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({suggestedUtensils:t}))}handleAddCategoryChip(e){this.setState({categoryChips:[...this.state.categoryChips,e]})}handleDeleteCategoryChip(e,t){console.log("handleDeleteCategoryChip:",t)}updateTip(e){this.setState({tips:[...this.state.tips,e]})}deleteTip(e){let t=this.state.tips;var a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({tips:t}))}render(){console.log("this.state.stepSlides: ",this.state.stepSlides),this.state.stepSlides.length>0&&console.log("first content name : ",this.state.stepSlides[0].dataName);var e=[];for(let I=0;I<this.state.stepSlides.length;I++){let t="Section"+(I+1)+"Title",a="chunk"+(I+1)+"Title";let n="";n=/(\.mp4|\.m4v|\.)$/i.exec(this.state.stepSlides[I].dataName)?s.a.createElement("video",{id:"instructionVideo"+I,controls:!0},s.a.createElement("source",{src:"https://meal-chunk-images-and-videos.s3.us-west-1.amazonaws.com/"+this.state.stepSlides[I].dataName,type:this.state.stepSlides[I].mimetype})):/(\.jpg|\.jpeg|\.png|\.)$/i.exec(this.state.stepSlides[I].dataName)?s.a.createElement("img",{id:"instructionImg"+I,src:"https://meal-chunk-images-and-videos.s3.us-west-1.amazonaws.com/"+this.state.stepSlides[I].dataName,alt:this.state.stepSlides[I].dataName,style:{width:"inherit"}}):s.a.createElement("img",{id:"instructionImg"+I,src:"images/meal_pics/chopchow_default_instruction.png",alt:"chop chow placeholder",style:{width:"inherit"}}),e.push(s.a.createElement("div",{key:I,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(D.a,null,s.a.createElement(et.a,{id:a,className:"mb-2",onChange:e=>this.handleInstructionTitle(e,I),label:t,defaultValue:this.state.stepSlides[I].title,variant:"filled"})),s.a.createElement(D.a,null,s.a.createElement(O.a,{md:4,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"mdc-list"},s.a.createElement(at.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.stepSlides[I].instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,I),onDelete:e=>this.handleDeleteInstructionsStep(e,I),variant:"filled"}))),s.a.createElement(O.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:this.state.stepSlides[I].imgpath,width:"auto",height:"150px",alt:""}),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2, ml-3",onChange:e=>this.onUpdateInstructionImg(e,I)})),s.a.createElement(O.a,{md:4,className:"mb-2"})),s.a.createElement(D.a,null,s.a.createElement("br",null),n)))}const t=this.props.classes,a=this.state,n=a.mealData_list,l=a.page,i=a.rowsPerPage,r=a.open,o=a.suggestMealRole,c=a.loading_imgSrc,m=a.categoryList,d=a.mealImage,u=this.state,h=u.mealLabel,p=u.intro,g=(u.currentIngredient,u.currentIngredientQuantity,u.currentIngredientMeasurement,u.prepTime),E=u.cookTime,f=u.servings,b=u.suggestedUtensils,v=u.chef,S=Object(lt.a)({palette:{primary:rt.a}}),C=this.state.selected.length,y=n?n.length:0;return s.a.createElement("div",{className:t.root,style:{boxShadow:"2px 2px 8px 0px #a0a0a0"}},s.a.createElement(It.a,{className:Object(Pt.default)(t.root,{[t.highlight]:C>0})},C>0?s.a.createElement(kt.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontSize:"16px",fontWeight:"600",marginRight:"20px",color:"blue"}}," ",C," selected"):s.a.createElement(kt.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"None Selected  "),C>0?s.a.createElement(st.a,{variant:"outlined",color:"primary",endIcon:s.a.createElement(Gt.a,null),onClick:this.onhandleSendData},"Send"):null),s.a.createElement(Nt.a,{className:t.container},s.a.createElement(wt.a,{stickyHeader:!0,"aria-label":"sticky table"},s.a.createElement(xt.a,null,s.a.createElement(_t.a,null,s.a.createElement(Mt.a,{padding:"checkbox"},s.a.createElement(Lt.a,{indeterminate:C>0&&C<y,checked:y>0&&C===y,onChange:this.handleSelectAllClick,inputProps:{"aria-label":"select all desserts"}})),Ht.map(e=>s.a.createElement(Mt.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,fontSize:"15x",fontWeight:"600",padding:"10px 5px"}},e.label)))),s.a.createElement(Tt.a,null,n&&n.slice(l*i,l*i+i).map((e,t)=>{const a=(e=>-1!==this.state.selected.indexOf(e))(e._id),n="enhanced-table-checkbox-".concat(t);return s.a.createElement(_t.a,{hover:!0,onClick:t=>this.handleClick(t,e._id),role:"checkbox","aria-checked":a,tabIndex:-1,key:e._id,selected:a},s.a.createElement(Mt.a,{padding:"checkbox"},s.a.createElement(Lt.a,{checked:a,inputProps:{"aria-labelledby":n}})),Ht.map(t=>{if("active"===t.id)return s.a.createElement(Mt.a,{key:t.id,style:{padding:"0px 0px"}},s.a.createElement(qt,{title:"  View  ",placement:"top"},s.a.createElement(Dt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>this.viewMealDetailsPopup(e,"moreView")},s.a.createElement(Bt.a,null))),s.a.createElement(qt,{title:"  Update  ",placement:"top"},s.a.createElement(Dt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>this.viewMealDetailsForUpdate(e,"edit")},s.a.createElement(Ft.a,{style:{color:"green"}}))),s.a.createElement(qt,{title:"  Delete  ",placement:"top"},s.a.createElement(Dt.a,{color:"secondary","aria-label":"upload picture",component:"span",onClick:()=>this.handleDeleteMealItem(e)},s.a.createElement(Rt.a,null))));{const a=e[t.id];return s.a.createElement(Mt.a,{key:t.id,style:{padding:"5px 5px"}},a)}}))})))),s.a.createElement(Ot.a,{rowsPerPageOptions:[10,25,100],component:"div",count:y,rowsPerPage:i,page:l,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),s.a.createElement(ot.a,{open:r,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"lg",fullWidth:!0},s.a.createElement(ct.a,{id:"alert-dialog-title"},"moreView"===o?"Suggest Meal":"Update Meal"),s.a.createElement(mt.a,null,s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:4},s.a.createElement(et.a,{id:"mealLabel",fullWidth:!0,onChange:this.onTextFieldChange,label:"Meal Name",required:!0,variant:"filled",className:"mb-3",value:h}),s.a.createElement(et.a,{multiline:!0,id:"intro",fullWidth:!0,onChange:this.onTextFieldChange,label:"Intro",variant:"filled",className:"mb-3",value:p})),s.a.createElement(O.a,{md:4,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*",id:"mealImage",type:"file",className:"mb-2 pr-4",onChange:e=>this.onMealImageUploadButtonClick(e)}),s.a.createElement("img",{src:d,width:"100%",alt:"meal"})),s.a.createElement(O.a,{md:4,style:{marginTop:"20px",textAlign:"center"}},s.a.createElement("img",{src:c,width:"70%",height:"auto",alt:"meal loading"}))),s.a.createElement("hr",null),s.a.createElement(D.a,{className:"mb-2"},s.a.createElement(O.a,{md:12},s.a.createElement(at.a,{label:"IngredientsList",value:this.state.ingredientStrings,onAdd:e=>this.handleAddIngredientChip(e),placeholder:"e.g 1 Onion, 2 Cups of Water, etc",onDelete:(e,t)=>this.handleDeleteIngredientChip(e,t),variant:"filled",fullWidth:!0,className:"mb-2"}))),this.state.ingredientGroupList&&this.state.ingredientGroupList.map((e,t)=>s.a.createElement("div",{key:t,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(D.a,{style:{justifyContent:"flex-end"}},s.a.createElement("i",{className:"fa fa-remove",style:{fontSize:"50%",marginTop:"0px",marginRight:"15px"},onClick:()=>this.onHandleIngredientItem(t)})),s.a.createElement(D.a,null,s.a.createElement(O.a,{md:5,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"card-ingredient-content"},s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"1. Product \u2003\u2003\xa0 :")," ",e.productName),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"2. Quantity\u2003\u2003 :")," ",e.quantity),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"3. Measurement:")," ",e.measurement),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2 ml-3 mt-3 ",onChange:e=>this.onUpdateIngredientImg(e,t)}))),s.a.createElement(O.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:e.productImgPath,width:"auto",height:"150px",alt:""})),s.a.createElement(O.a,{md:3,className:"mb-2"})))),s.a.createElement(D.a,{className:"mb-1"},s.a.createElement(O.a,{md:4},s.a.createElement(nt.a,{freeSolo:!0,id:"currentIngredient",options:this.props.productNames.map(e=>e),renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{label:"Ingredient..",variant:"filled"})),fullWidth:!0,className:"mb-3",options:this.props.productNames.map(e=>e)}),s.a.createElement(et.a,{fullWidth:!0,id:"currentIngredientQuantity",type:"number",label:"Quantity",variant:"filled",placeholder:"1..",className:"mb-3"})),s.a.createElement(O.a,{md:4},this.state.productImgSetting_flag?s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mt-3 mb-4",onChange:e=>this.onhandleProductImg(e)}):s.a.createElement("div",{style:{marginTop:"70px"}}),s.a.createElement(nt.a,{id:"currentIngredientMeasurement",options:this.measurements.map(e=>e),freeSolo:!0,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{label:"Measurement..",variant:"filled"})),className:"mb-3"})),s.a.createElement(O.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(st.a,{variant:"contained",color:"primary",disableRipple:!0,onClick:this.addIngredientToMeal,style:{color:"white"},className:"mb-3"}," Add Ingredient"))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:6,style:{textAlign:"center",margin:"auto"}},s.a.createElement(et.a,{id:"servings",fullWidth:!0,type:"number",onChange:this.onTextFieldChange,label:"Servings",variant:"filled",className:"mb-2",placeholder:"1 person, 2, 4 or 10 people",style:{marginTop:"10px"},value:f})),s.a.createElement(O.a,{md:6,style:{textAlign:"center",margin:"auto"}},s.a.createElement(et.a,{id:"chef",fullWidth:!0,onChange:this.onTextFieldChange,label:"Chef",variant:"filled",className:"mb-2",placeholder:"Author/Chef",style:{marginTop:"10px"},value:v}))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(nt.a,{multiple:!0,id:"tags-standard",className:"mb-2",freeSolo:!0,options:this.props.kitchenUtensils.map(e=>e),onChange:(e,t)=>this.handleKitchenUtensilInputName(t),value:b,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{id:"Kitchen Utensils",fullWidth:!0,label:"Utensils",variant:"filled",placeholder:"Pots, pans and/or both ?",style:{marginTop:"10px"}}))}))),s.a.createElement("hr",null),e,s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:4},s.a.createElement(et.a,{id:"prepTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"prepTime (mins)",variant:"filled",required:!0,value:g})),s.a.createElement(O.a,{md:4},s.a.createElement(et.a,{id:"cookTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"CookTime (mins)",variant:"filled",required:!0,value:E})),s.a.createElement(O.a,{md:4},s.a.createElement(nt.a,{multiple:!0,id:"tags-standard",className:"mb-2",freeSolo:!0,options:this.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:m,renderInput:e=>s.a.createElement(et.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),"moreView"!==o&&s.a.createElement(D.a,{className:"mb-5"},s.a.createElement(O.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(it.a,{theme:S},s.a.createElement(st.a,{variant:"contained",className:"mb-2",color:"primary",size:"small",style:{color:"white"},onClick:()=>this.submitMealUpdate()}," Update Meal")))),s.a.createElement(D.a,{className:"mb-3"},s.a.createElement(O.a,{md:12},s.a.createElement(at.a,{label:"Tips",className:"mb-2",fullWidth:!0,value:this.state.tips,onAdd:e=>this.updateTip(e),onDelete:(e,t)=>this.deleteTip(e,t),variant:"filled"})))))))}}var Qt=Object(zt.a)(e=>({button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},root:{width:"95%",margin:"auto",marginTop:"20px"},container:{maxHeight:440}}))(Jt),Kt=a(228),Yt=a.n(Kt),$t=a(347),Zt=a.n($t);class Xt extends s.a.Component{constructor(){super(),this.handleOnClickItems=(e,t)=>{"suggest"===e&&"admin"===t?this.props.history.push("/ViewSuggestedMeals"):this.setState({open:!0})},this.handleClose=()=>{this.setState({open:!1})},this.state={open:!1}}render(){const e=window.localStorage.getItem("userRole");return console.log("yyy:",e),s.a.createElement(T.a,{className:"admin-page"},s.a.createElement(D.a,null,s.a.createElement(O.a,{md:12,className:"admin-title-region"},s.a.createElement("div",{className:"admin-title"},s.a.createElement("div",{style:{width:"100%"}},"Admin Dashboard"))),s.a.createElement(O.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card"},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"INVENTORY")),s.a.createElement("img",{src:Yt.a,className:"admin-item-img",alt:""}))),s.a.createElement(O.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card"},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"ORDERS")),s.a.createElement("img",{src:Yt.a,className:"admin-item-img",alt:""}))),s.a.createElement(O.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card",id:"suggest_admin",onClick:()=>this.handleOnClickItems("suggest",e)},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"MEAL SUGGESTIONS/SUPPORT")),s.a.createElement("img",{src:Zt.a,className:"admin-item-img",alt:""})))),s.a.createElement(D.a,{className:"admin-items-section"}),s.a.createElement(ot.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0},s.a.createElement(ct.a,{id:"alert-dialog-title"},"Informtation"),s.a.createElement(mt.a,null,s.a.createElement(dt.a,null,"Only admin user can open"))))}}var ea=Object(r.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),()=>({}))(Object(c.g)(Xt));a(645).config();class ta extends n.Component{constructor(e){super(e),this.allMealNames=[],this.productNames=["Spinach","Brown Beans","Ijebu Garri","Honey Beans","Kale","Water","Squash Potatoes","Oregano","Cashews","Palm Oil","Pineapple","Onions","Flour","Butter","Sugar","Hawaiian Bread","Avocados","Tomatoes","Beef","Green Pepper","Garlic","Ginger","Vegetable Oil","Lemon","Rosemary Powder"],this.productImageLink=[],this.categories=["Baking","Cooking","Home","Ethiopian","Quick-Meal"],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","g","kg","lb","qt","gallon","dash/pinch","Leaves","cloves","cubes","Large","medium","small"],this.kitchenUtensils=["Baking Sheet","Colander","Cooking Oil","Cutting Board","Fridge","Knife Set","Mixing Bowls","Pot","Pan","Peeler","Thermometer","Wire Mesh","Zester"],this.availableLocations=["African Carribean Market","Abule","Scotch Bonnet Restaurant","Ralphs","Target","Walmart","Vons"],this.groceryList=[],this.locationAddressComponent=[],this.handleLogout=this.handleLogout.bind(this),this.state={suggestMealPopOver:!1,isAuthenticated:!1,customerId:null}}componentWillReceiveProps(e){e.token&&(de.defaults.headers.common.Authorization="Bearer "+e.token),e.token&&!e.authUser&&this.props.getUser()}componentDidMount(){console.log("Comes in app.js's component did mount");var e=window.localStorage.getItem("userToken");"null"!==e&&""!==e&&e&&(de.defaults.headers.common.Authorization="Bearer "+e,this.props.getUser())}handleLogout(){window.localStorage.setItem("userToken",null);fetch("/api/logout",{method:"GET",credentials:"same-origin",headers:{"Content-type":"application/json"}}).then(e=>{e.json().then(e=>{"success"===e.data&&(console.log("comes to turn off authentication state"),this.setState({isAuthenticated:!1}))})}).catch(e=>{console.log("fails to authenticate app page"),console.log(e)}),this.setState({isAuthenticated:!1}),window.location.reload(!1)}render(){const e=this.props.customer_id;var t=window.localStorage.getItem("userRole");return s.a.createElement("div",null,s.a.createElement(L,null),s.a.createElement(c.d,null,s.a.createElement(c.b,{exact:!0,path:"/login",render:()=>s.a.createElement(Be,{openFlag:!0})}),s.a.createElement(c.b,{exact:!0,path:"/admin",render:a=>void 0!==e&&"admin"===t?s.a.createElement(ea,a):s.a.createElement(c.a,{to:{pathname:"#"}})}),s.a.createElement(c.b,{exact:!0,path:"/signup",render:e=>s.a.createElement($e,e)}),s.a.createElement(c.b,{exact:!0,path:"/resetpass",render:e=>s.a.createElement(Xe,e)}),s.a.createElement(c.b,{exact:!0,path:"/forgotpass",render:e=>s.a.createElement(Ze,e)}),s.a.createElement(c.b,{exact:!0,path:"/",render:e=>s.a.createElement(q,e)}),s.a.createElement(c.b,{path:"/home",render:e=>s.a.createElement(q,e)}),s.a.createElement(c.b,{path:"/v2",render:()=>s.a.createElement(he,null)}),s.a.createElement(c.b,{path:"/v3",render:()=>s.a.createElement(_e,null)}),s.a.createElement(c.b,{exact:!0,path:"/grocery",render:()=>void 0!==e||"null"!==e?s.a.createElement(Qe,{productNames:this.productNames}):s.a.createElement(c.a,{to:{pathname:"#"}})}),s.a.createElement(c.b,{path:"/products",render:e=>s.a.createElement(Ae,null)}),s.a.createElement(c.b,{exact:!0,path:"/SuggestProduct",render:t=>(console.log("Customer Id:",e),s.a.createElement(yt,null))}),s.a.createElement(c.b,{exact:!0,path:"/SuggestMeal",render:t=>(console.log("Customer Id:",e),s.a.createElement(St,{productNames:this.productNames,allMealNames:this.allMealNames,measurements:this.measurements,kitchenUtensils:this.kitchenUtensils,categories:this.categories}))}),s.a.createElement(c.b,{exact:!0,path:"/ViewSuggestedMeals",render:e=>s.a.createElement(Qt,{kitchenUtensils:this.kitchenUtensils,categories:this.categories,productNames:this.productNames,measurements:this.measurements})})),s.a.createElement(P,null))}}const aa={setInitUrl:e=>({type:"init_url",payload:e}),getUser:()=>e=>{e({type:"fetch_start"}),de.get("/authenticate-app-page").then(({data:t})=>{console.log(" ___ getUser RESPONSE ___ ",t),e({type:"fetch_success"}),e({type:"user_data",payload:t.username}),e({type:"customer_id",payload:t.data})}).catch(t=>{console.error("xxx getUser Request ERROR xxx",t),e({type:"fetch_error",payload:"Error during get me request with this token"}),e({type:"signout_user_success"})})}};var na=Object(r.c)(({auth:e})=>{const t=e.authUser,a=e.token;return{authUser:t,role:e.role,token:a,customer_id:e.customer_id}},aa)(ta);const sa=function(e){var t;return Object(m.e)((t=C,Object(m.c)({router:Object(d.a)(t),auth:p,commonData:E})),e,k(Object(m.a)(...I)))}();var la=()=>s.a.createElement(r.a,{store:sa},s.a.createElement(o.a,{history:C},s.a.createElement(c.d,null,s.a.createElement(c.b,{path:"/",render:e=>s.a.createElement(na,e)}))));a(648);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(o.a,null,s.a.createElement(la,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[367,1,2]]]);
//# sourceMappingURL=main.0e0b7c97.chunk.js.map