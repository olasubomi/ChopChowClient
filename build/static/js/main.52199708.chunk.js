(this.webpackJsonpchop_chow_sd=this.webpackJsonpchop_chow_sd||[]).push([[0],{153:function(e,t,a){e.exports=a.p+"static/media/CC_Logo_no_bg.23a343fa.png"},192:function(e,t,a){},229:function(e,t,a){e.exports=a.p+"static/media/ola_ola_palm_oil.70ad3e22.jpg"},251:function(e,t,a){},327:function(e,t,a){e.exports=a.p+"static/media/food_prep.920586b2.jpg"},328:function(e,t,a){e.exports=a.p+"static/media/grocery_bag.6702032b.jpg"},348:function(e,t,a){e.exports=a.p+"static/media/logo2.8340d35f.png"},367:function(e,t,a){e.exports=a(647)},372:function(e,t,a){},378:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},457:function(e,t){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},618:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},647:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(15),l=a.n(i),r=(a(372),a(40)),o=a(22),c=a(28),d=a(77),m=a(222),u=a(59);const h={token:JSON.parse(localStorage.getItem("token")),initURL:"",authUser:null};var p=(e=h,t)=>{switch(t.type){case"init_url":return Object(u.a)({},e,{initURL:t.payload});case"signout_user_success":return Object(u.a)({},e,{token:null,authUser:null,initURL:""});case"user_data":return Object(u.a)({},e,{authUser:t.payload});case"user_token_set":return Object(u.a)({},e,{token:t.payload});case"user_role_set":return Object(u.a)({},e,{role:t.payload});case"customer_id":return Object(u.a)({},e,{customer_id:t.payload});default:return e}};const g={loading:!1,status:!1,message:"",error:""};var E=(e=g,t)=>{switch(t.type){case"fetch_start":return Object(u.a)({},e,{loading:!0,error:"",message:""});case"fetch_success":return Object(u.a)({},e,{status:!0,loading:!1,message:t.payload||"",error:""});case"fetch_error":return Object(u.a)({},e,{status:!1,loading:!1,message:"",error:t.payload||""});default:return e}},f=a(43),v=a(243),b=a(228),S=a(325);const y=Object(f.a)(),C=Object(v.a)(y);let I=[b.a,C,Object(S.createLogger)()];I=[b.a,C];const N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d;var _=a(153),k=a.n(_),w=(a(378),a(26)),x=a.n(w);class L extends n.Component{constructor(e){super(e),this.CustomToggle=s.a.forwardRef(({children:e,onClick:t},a)=>s.a.createElement("a",{href:"/",ref:a,onClick:e=>{e.preventDefault(),t(e)}},e,"\u25bc")),this.updateLogInStatus=this.updateLogInStatus.bind(this),this.handleLogout=this.handleLogout.bind(this),this.state={suggestMealPopOver:!1,base_index:0,topNav_className:"w3-bar w3-dark-grey w3-green topnav",isAuthenticated:!1,customerId:null,username:null}}updateLogInStatus(e,t){console.log("updates log in status before"),this.setState({isAuthenticated:!0}),this.setState({customerId:e}),this.setState({username:t}),console.log("updates log in status after"),console.log("customerID is:"+e)}handleLogout(e){if("6"===e){window.localStorage.setItem("userToken",null),window.localStorage.setItem("userRole",null);fetch("https://chopchowdev.herokuapp.com/api/logout",{method:"GET",credentials:"same-origin",headers:{"Content-type":"application/json"}}).then(e=>{e.json().then(e=>{console.log("logout response is:"),console.log(e),console.log("should print body"),console.log(e.data),"success"===e.data&&(console.log("comes to turn off authentication state"),this.setState({isAuthenticated:!1}))})}).catch(e=>{console.log("fails to authenticate app page"),console.log(e)}),this.setState({isAuthenticated:!1}),window.location.reload(!1)}else"4"===e&&this.props.history.push("/SuggestMeal")}handleDashborad(){this.props.history.push("/admin")}render(){const e=this.props.authUser;function t(){var e=document.getElementById("mobileNavbar");console.log(e),"mobileNavbar"===e.className?e.className+=" visible":e.className="mobileNavbar"}var a,n;return this.props.status?(a=s.a.createElement("li",{className:"nav-item"},s.a.createElement(x.a,{alignRight:!0},s.a.createElement(x.a.Toggle,{as:this.CustomToggle,id:"dropdown-custom-components"},e),s.a.createElement(x.a.Menu,null,s.a.createElement(x.a.Item,{eventKey:"1",onSelect:(e,t)=>this.handleDashborad()},"Profile"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"2",onSelect:(e,t)=>this.handleDashborad()}," Dashboard/orders"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"3",onSelect:(e,t)=>this.handleDashborad()},"Support"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"4",onSelect:(e,t)=>this.handleLogout(e)},"Suggest Meal"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"5",onSelect:(e,t)=>this.handleDashborad()},"Switch to driver mode"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"6",onSelect:(e,t)=>this.handleLogout(e)},"Log out")))),n=s.a.createElement("li",{className:"nav-item"},s.a.createElement(x.a,null,s.a.createElement(x.a.Toggle,{className:"user-item",as:this.CustomToggle,id:"dropdown-custom-components"},e),s.a.createElement(x.a.Menu,null,s.a.createElement(x.a.Item,{eventKey:"1",onSelect:(e,t)=>this.handleDashborad()},"Profile"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"2",onSelect:(e,t)=>this.handleDashborad()}," Dashboard/orders"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"3",onSelect:(e,t)=>this.handleDashborad()},"Support"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"4",onSelect:(e,t)=>this.handleLogout(e)},"Suggest Meal"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"5",onSelect:(e,t)=>this.handleDashborad()},"Switch to driver mode"),s.a.createElement(x.a.Divider,null),s.a.createElement(x.a.Item,{eventKey:"6",onSelect:(e,t)=>this.handleLogout(e)},"Log out"))))):(a=s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/login",className:"nav-link px-2"},"Log In / Register ")),n=s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/login",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Log In / Register"))),s.a.createElement("div",{className:"header-wraper"},s.a.createElement("nav",{className:"navbar navbar-expand-md fixed-top-sm justify-content-start flex-nowrap navbar-light",style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #fd7e14"}},s.a.createElement("div",{className:"header-panel w-100"},s.a.createElement("div",{className:"header-left "},s.a.createElement(o.b,{to:"/",className:"logo_tag navbar-brand "},s.a.createElement("img",{src:k.a,width:"60px",alt:""})),s.a.createElement("div",{className:" form-inline navbar-first",style:{padding:"14px 16px"}},s.a.createElement("div",{className:"input-group "},s.a.createElement("input",{className:"form-control ",placeholder:"Search meal or category"}),s.a.createElement("span",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",style:{backgroundColor:"#fd7e14",borderColor:"#fd7e14"}},s.a.createElement("i",{className:"fa fa-search",style:{color:"#FFFFFF"}})))))),s.a.createElement("div",{className:"header-right navbar-first"},s.a.createElement("ul",{className:"navbar-nav flex-row"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/grocery",className:"nav-link px-3"},"Grocery List")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/SuggestMeal",className:"nav-link px-3"},"Suggest Meal")),a))),s.a.createElement(o.b,{to:"#",className:"icon navbar-toggle",onClick:()=>{console.log("Comes thru here"),t()}},s.a.createElement("i",{className:"fa fa-bars",style:{color:"#AAAAAA",right:"1%"}}))),s.a.createElement("div",{className:"mobileNavbar",id:"mobileNavbar",style:{display:"none"}},s.a.createElement("div",{className:"mobileNavbar-menu"},s.a.createElement("span",{className:"input-group-append",style:{marginTop:"23px",marginRight:"15px",justifyContent:"flex-end"}},s.a.createElement(o.b,{to:"#",className:"icon navbar-toggle",onClick:()=>{console.log("Comes thru here"),t()}},s.a.createElement("i",{className:"fa fa-bars",style:{color:"white",marginLeft:"10px",padding:"10px 17px"}}))),s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{style:{padding:"5px 16px",borderBottom:"1px solid #FFFFFF"}},s.a.createElement("div",{className:"search_bar"},s.a.createElement("form",null,s.a.createElement("input",{className:"form-control",placeholder:"Search meal or category",style:{backgroundColor:"#fd7e14",border:"1px solid #FFFFFF"}}),s.a.createElement("span",{className:"search_bar__icon"},s.a.createElement("div",{className:"btn btn-outline-secondary",style:{backgroundColor:"#FFFFFF",borderColor:"#fd7e14"}},s.a.createElement("i",{className:"fa fa-search ",style:{color:"#fd7e14"}})))))),n,s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/grocery",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Grocery List")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px",borderBottom:"1px solid #FFFFFF"}},s.a.createElement(o.b,{to:"/SuggestMeal",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Suggest Meal")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Home")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2",style:{color:"#FFFFFF"}}," Stores ")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Receipes"))))),s.a.createElement("nav",{className:"navbar navbar-expand-md  navbar-light navbar-second",style:{backgroundColor:"#EEEEEE"}},s.a.createElement("div",{className:"navbar-collapse collapse pt-2 pt-md-0",id:"navbar2"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item active",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/home",className:"nav-link px-2"}," Home ")),s.a.createElement("li",{className:"nav-item",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"}," Stores ")),s.a.createElement("li",{className:"nav-item",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2"}," Receipes "))))))}}var T=Object(r.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),()=>({}))(Object(c.g)(L)),O=a(680),M=a(681),D=a(326);a(393);var P=()=>s.a.createElement(O.a,{className:"footer-wraper"},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100%"}}),s.a.createElement(D.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Services")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Recipes")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"GroceryList")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Food Products")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Kitchen Products")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Household Products"))),s.a.createElement(D.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Resources")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Login/ My Account")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Sign Up")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Supplier Home")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Shipping + Returns")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"FAQ + Support")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Contact"))),s.a.createElement(D.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Company")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," About Us")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Careers")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Partner")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Terms of Service")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Privacy Policy"))),s.a.createElement(D.a,{md:3,className:"footer-colmun",style:{textAlign:"center"}},s.a.createElement("img",{src:k.a,width:"100px",alt:""}),s.a.createElement("div",{className:"logo-text"},"Adding convenience to home made mealsTM"),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement("i",{className:"fa fa-facebook-square m-2","aria-hidden":"true",style:{fontSize:"30px"}}),s.a.createElement("i",{className:"fa fa-instagram m-2","aria-hidden":"true",style:{fontSize:"30px"}})),s.a.createElement("div",{className:""}," \xa9 ",(new Date).getFullYear()," Copyright:"," ",s.a.createElement("a",{href:"https://www.awokorpenterprises.com"}," ChopChowSD "))))),A=a(327),F=a.n(A);a(394);class R extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement("div",{style:{height:"510px",verticalAlign:"top",backgroundImage:"url(".concat(F.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundSize:"cover"}},s.a.createElement("div",{className:"banner_spacing"}),s.a.createElement("p",{className:"banner_text"},s.a.createElement("b",null,"WELL-ESTABLISHED",s.a.createElement("br",null),"LOCAL AND",s.a.createElement("br",null),"INTERNATIONAL",s.a.createElement("br",null),"FOOD SUPPLIERS",s.a.createElement("br",null),s.a.createElement("u",null,s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"},"LEARN MORE"))))))}}var U=R,j=a(328),G=a.n(j);a(395);class W extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement("div",{style:{height:"510px",verticalAlign:"top",backgroundImage:"url(".concat(G.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundSize:"cover"}},s.a.createElement("div",{className:"banner2_spacing"}),s.a.createElement("div",{className:"banner2container"},s.a.createElement("p",{className:"banner2_text"},s.a.createElement("b",null,"HOME COOK",s.a.createElement("br",null),"INTERNATIONAL FOODS",s.a.createElement("br",null),s.a.createElement("button",{className:"banner2_button"},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"},"SEE RECIPES")))))))}}var B=W;a(396);class H extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"homepage_button",onClick:"./v2"},s.a.createElement(o.b,{to:"/SuggestMeal",className:"nav-link px-2"},"Suggest A Meal"))))}}var z=H;class V extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement(U,null),s.a.createElement("br",null),s.a.createElement(z,null),s.a.createElement("br",null),s.a.createElement(B,null))}}var q=V,Q=a(707),K=a(711),J=(a(85),a(251),a(682)),Y=a(684),$=a(71),Z=a.n($);class X extends n.Component{constructor(e){super(e),this.state={modalIsOpen:!1,increment:0,checked:!1,base_index:0,index:0},this.handleSelect=this.handleSelect.bind(this),this.updateInstructionsDisplayBaseIndex=this.updateInstructionsDisplayBaseIndex.bind(this)}handleSelect(e){this.setState({index:e+1})}updateInstructionsDisplayBaseIndex(e){console.log(e.target.innerText);var t=e.target.innerText.slice(6,7),a=Number(t);this.setState({base_index:3*a})}render(){const e=this.props.instructionData;var t,a=[],n=1;for(t=0;t<e.length;t++){const i=e[t].step;0!==t&&(n+=e[t-1].step.length),a.push(s.a.createElement(K.a.Item,{key:t,style:{height:"300px"},className:"instruction_slider_page"},s.a.createElement(J.a,{style:{maxHeight:200,overflow:"auto"},className:"mealPrepChunk"},s.a.createElement(Y.a,null,s.a.createElement("div",{className:"ml-2"},i.map((e,t)=>s.a.createElement("div",{key:t},t+n,". ",e,s.a.createElement("p",null)))),s.a.createElement("p",null),s.a.createElement("img",{className:"img-responsive imageHeighgt",src:null!==e[t].image?e[t].image:Z.a,alt:"First slide",style:{height:"auto",width:"80%",marginLeft:"10%"}})))))}return s.a.createElement("div",null,s.a.createElement("b",null,"Instructions"),s.a.createElement("br",null),s.a.createElement(K.a,{className:"instruction-slider",onSelect:this.handleSelect,interval:null},a))}}var ee=X,te=a(68);a(192);const ae=[1,2];class ne extends n.Component{constructor(e){super(e),this.decrease=()=>{this.state.increment>0&&this.setState(e=>({increment:e.increment-1}))},this.onClick=(e,t)=>{this.setState({checked:!this.state.checked})},this.increase=()=>{this.setState({increment:this.state.increment+1})},this.state={modalIsOpen:!1,increment:0,checked:!1,index:0},this.openModal=this.openModal.bind(this),this.handleSelect=this.handleSelect.bind(this),this.closeModal=this.closeModal.bind(this)}openModal(){this.props.func_setMealFlag(),this.setState({modalIsOpen:!0})}closeModal(){this.setState({modalIsOpen:!1}),this.props.func_removeMealFlag()}handleSelect(e,t){this.setState({index:e})}render(){const e=this.props,t=e.value,a=e.mealPrep,n=e.ingredientsList;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.a,{show:this.state.modalIsOpen,onHide:this.closeModal,dialogClassName:"modal-90w",centered:!0},s.a.createElement(Q.a.Header,{closeButton:!0,style:{borderBottom:"30px",padding:"0px"}}),s.a.createElement(Q.a.Body,{style:{padding:"0px"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{width:"100%"}},s.a.createElement("div",{className:"detail-firstCol col-md-5 col-sm-12"},s.a.createElement(te.Carousel,{showThumbs:!1,infiniteLoop:!1,style:{width:"96%"}},ae.map(e=>s.a.createElement("img",{style:{height:"250px"},alt:"pp",key:e,src:t.mealImage}))),s.a.createElement("br",null),s.a.createElement("div",{className:"col-md-12 col-xs-12"},s.a.createElement("h3",null," ",t.label),s.a.createElement("div",null,t.readTime," mins read | ",t.cookTime," mins to prepare"),s.a.createElement("div",null,s.a.createElement("button",{style:{backgroundColor:"grey",color:"white"}},"Compare items")),s.a.createElement("br",null))),s.a.createElement("div",{className:"col-md-6 col-xs-12"},s.a.createElement("div",{className:"row col-md-6 col-xs-12",style:{width:"100%"}}," Meal Quantity \xa0",s.a.createElement("div",{className:"def-number-input number-input",style:{backgroundColor:"lightgrey"}},s.a.createElement("button",{onClick:this.decrease,className:"minus"}),s.a.createElement("input",{className:"quantity",name:"quantity",value:this.state.increment,onChange:()=>console.log("change"),type:"number"}),s.a.createElement("button",{onClick:this.increase,className:"plus"}))),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-md-6 col-sm-12"},s.a.createElement("b",null,"Ingredients")),s.a.createElement("div",{className:"row ingredient-section"},n&&n.map(e=>s.a.createElement("div",{className:"col-md-6 col-sm-12",key:t.label+e.product},s.a.createElement("input",{type:"checkbox",value:""})," "+e.product," ",s.a.createElement("br",null)))),s.a.createElement("button",{className:"btn-addToCard",style:{marginBottom:"20px"}},"Add to Cart"),s.a.createElement(ee,{instructionData:a,value:t})))))),s.a.createElement("div",{id:t.name},s.a.createElement("button",{className:"detail-step-btn",style:{backgroundColor:"orange"},key:t.id+t.label,onClick:this.openModal},"See Full Recipe")))}}var se=ne;class ie extends n.Component{constructor(){super()}render(){let e=this.props.col_count;return s.a.createElement(te.Carousel,{className:"withScroll_slider",showThumbs:!1,infiniteLoop:!1,selectedItem:parseInt(this.props.products.length/2),centerMode:!0,centerSlidePercentage:100/(1.4*e)},this.props.products.map((e,t)=>s.a.createElement("div",{key:t},s.a.createElement("img",{src:""!==e.image?e.image:Z.a,alt:e.ingredient,height:"200px",width:"auto"}),s.a.createElement("p",{style:{fontSize:"20px"}},e.ingredient))))}}var le=a(334),re=a.n(le);console.error("______ process.env.NODE_ENV ____","production");let oe="https://chopchowdev.herokuapp.com/api/";oe="https://chopchowdev.herokuapp.com/api/";let ce=re.a.create({baseURL:oe,headers:{"Content-Type":"application/json"}});const de=JSON.parse(localStorage.getItem("token"));console.error("__ token __",de),ce.defaults.headers.common.Authorization="Bearer "+de;var me=ce;class ue extends n.Component{constructor(e){super(e),this.onClickMealCard=(e,t)=>{e===this.state.selected_index?this.setState({slider_flag:!this.state.slider_flag}):this.setState({slider_flag:!0}),this.setState({selected_index:e}),this.setState({selectedCard_mealData:this.state.products[e]}),this.setState({modalIsOpen:!0}),this.setState({firstPart_ind:(parseInt(e/t)+1)*t})},this.setMealSliderModal=()=>{this.setState({mealSlider_Flag:!0})},this.removeMealSliderModal=()=>{this.setState({mealSlider_Flag:!1})},this.onhandleLoadMore=()=>{let e=this.state.currentMealCount;e>=this.state.products.length?this.setState({currentMealCount:this.state.products.length}):this.setState({currentMealCount:e+10})},this.update=()=>{let e=1;window.innerWidth>1200?e=4:window.innerWidth>900&&window.innerWidth<1200?e=3:window.innerWidth>500&&window.innerWidth<900&&(e=2),null===this.state.products&&window.innerWidth>500&&window.innerHeight>500&&(e=4),this.setState({col_count:e})},window.addEventListener("resize",this.update),this.state={products:[],width:0,firstPart_ind:12,slider_flag:!1,selectedCard_mealData:null,selected_index:0,selectedCardID:"",mealSlider_Flag:!1,currentMealCount:12,mealList:null,col_count:1}}componentDidMount(){this.update(),console.log("Comes in meal pages component did mount");me.get("/get-meals").then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("shows products does return"),console.log(t.data.length);let e=[];for(var a=0;a<t.data.length;a++)e.push(t.data[a]);this.setState({products:e})}else console.log("shows products do not return")}).catch(e=>{console.log(e)})}render(){const e=this.state.selectedCard_mealData,t=[];let a=Math.min(this.state.products.length,this.state.currentMealCount);if(this.state.products.length>0){for(let e=0;e<Math.min(a,this.state.firstPart_ind);e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=Math.min(a,this.state.firstPart_ind));t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:pe},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(M.a,{key:e}," ",n))}e&&this.state.slider_flag&&t.push(s.a.createElement(M.a,{key:Math.min(a,this.state.firstPart_ind)},s.a.createElement("div",{className:"col-sm-12",style:{background:"#ffffff"},key:"1000001"},s.a.createElement("div",{style:{width:"95%",margin:"auto"}},s.a.createElement("div",{className:"detail-card-explain",id:e._id},s.a.createElement("div",{style:{fontSize:"18px",paddingTop:"20px",paddingBottom:"20px"}},e.intro)),s.a.createElement("div",{id:e._id+"products"},s.a.createElement(ie,{products:e.product_slider,col_count:this.state.col_count})),s.a.createElement(se,{value:e,mealPrep:e.instructions,ingredientsList:e.newer_ingredient_format,func_setMealFlag:this.setMealSliderModal,func_removeMealFlag:this.removeMealSliderModal})))));for(let e=Math.min(a,this.state.firstPart_ind);e<a;e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=a);t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:pe},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(M.a,{key:e+1},n))}}return s.a.createElement("div",{className:"meals-Page"},s.a.createElement("div",{id:"title",className:"meal-title"}," ",s.a.createElement("b",null,"Meals")," "),s.a.createElement("div",{className:"mealPage-container"},t),s.a.createElement("section",{className:"loadmore-section"},s.a.createElement("button",{className:"btn-loadmore",onClick:()=>this.onhandleLoadMore()},"Load More")))}}var he=ue;const pe={display:"inline-block",width:"100%",height:"100%"};var ge=a(52),Ee=a.n(ge),fe=a(74);const ve=[1,2];class be extends n.Component{constructor(e){super(e),this.decrease=()=>{this.state.increment>0&&this.setState(e=>({increment:e.increment-1}))},this.onClick=(e,t)=>{this.setState({checked:!this.state.checked})},this.increase=()=>{this.setState({increment:this.state.increment+1})},this.state={modalIsOpen:!1,increment:0,checked:!1,index:0},this.openModal=this.openModal.bind(this),this.handleSelect=this.handleSelect.bind(this),this.closeModal=this.closeModal.bind(this)}openModal(){this.props.func_setMealFlag(),this.setState({modalIsOpen:!0})}closeModal(){this.setState({modalIsOpen:!1}),this.props.func_removeMealFlag()}handleSelect(e,t){this.setState({index:e})}render(){const e=this.props,t=e.value,a=e.mealPrep,n=e.ingredientsList;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Q.a,{show:this.state.modalIsOpen,onHide:this.closeModal,dialogClassName:"modal-90w",centered:!0},s.a.createElement(Q.a.Header,{closeButton:!0,style:{borderBottom:"30px",padding:"0px"}}),s.a.createElement(Q.a.Body,{style:{padding:"0px"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{width:"100%"}},s.a.createElement("div",{className:"detail-firstCol col-md-5 col-sm-12"},s.a.createElement(te.Carousel,{showThumbs:!1,infiniteLoop:!1,style:{width:"96%"}},ve.map(e=>s.a.createElement("img",{style:{height:"250px"},alt:"pp",key:e,src:t.mealImage}))),s.a.createElement("br",null),s.a.createElement("div",{className:"col-md-12 col-xs-12"},s.a.createElement("h3",null," ",t.label),s.a.createElement("div",null,t.readTime," mins read | ",t.cookTime," mins to prepare"),s.a.createElement("div",null,s.a.createElement("button",{style:{backgroundColor:"grey",color:"white"}},"Compare items")),s.a.createElement("br",null))),s.a.createElement("div",{className:"col-md-6 col-xs-12"},s.a.createElement("div",{className:"row col-md-6 col-xs-12",style:{width:"100%"}}," Meal Quantity \xa0",s.a.createElement("div",{className:"def-number-input number-input",style:{backgroundColor:"lightgrey"}},s.a.createElement("button",{onClick:this.decrease,className:"minus"}),s.a.createElement("input",{className:"quantity",name:"quantity",value:this.state.increment,onChange:()=>console.log("change"),type:"number"}),s.a.createElement("button",{onClick:this.increase,className:"plus"}))),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-md-6 col-sm-12"},s.a.createElement("b",null,"Ingredients")),s.a.createElement("div",{className:"row ingredient-section"},n&&n.map(e=>s.a.createElement("div",{className:"col-md-6 col-sm-12",key:t.label+e.product},s.a.createElement("input",{type:"checkbox",value:""})," "+e.product," ",s.a.createElement("br",null)))),s.a.createElement("button",{className:"btn-addToCard",style:{marginBottom:"20px"}},"Add to Cart"),s.a.createElement(ee,{instructionData:a,value:t})))))),s.a.createElement("div",{id:t.name},s.a.createElement("button",{className:"detail-step-btn",style:{backgroundColor:"orange"},key:t.id+t.label,onClick:this.openModal},"See Full Recipe")))}}var Se=be;class ye extends n.Component{constructor(){super()}render(){let e=this.props.col_count;return s.a.createElement(te.Carousel,{className:"withScroll_slider",showThumbs:!1,infiniteLoop:!1,selectedItem:parseInt(this.props.products.length/2),centerMode:!0,centerSlidePercentage:100/(1.4*e)},this.props.products.map((e,t)=>s.a.createElement("div",{key:t},s.a.createElement("img",{src:""!==e.image?e.image:Z.a,alt:e.ingredient,height:"200px",width:"auto"}),s.a.createElement("p",{style:{fontSize:"20px"}},e.ingredient))))}}var Ce=a(704),Ie=a(706);const Ne=a(213).CognitoIdentityClient,_e=a(648).fromCognitoIdentityPool,ke=new Ce.a({region:"us-west-1",credentials:_e({client:new Ne({region:"us-west-1"}),identityPoolId:"us-west-1:4aa53863-5b7b-484c-8474-b95bc4710bbf"})});class we extends n.Component{constructor(e){super(e),this.onClickMealCard=(e,t)=>{e===this.state.selected_index?this.setState({slider_flag:!this.state.slider_flag}):this.setState({slider_flag:!0}),this.setState({selected_index:e}),this.setState({selectedCard_mealData:this.state.products[e]}),this.setState({modalIsOpen:!0}),this.setState({firstPart_ind:(parseInt(e/t)+1)*t})},this.setMealSliderModal=()=>{this.setState({mealSlider_Flag:!0})},this.removeMealSliderModal=()=>{this.setState({mealSlider_Flag:!1})},this.onhandleLoadMore=()=>{let e=this.state.currentMealCount;e>=this.state.products.length?this.setState({currentMealCount:this.state.products.length}):this.setState({currentMealCount:e+10})},this.update=()=>{let e=1;window.innerWidth>1200?e=4:window.innerWidth>900&&window.innerWidth<1200?e=3:window.innerWidth>500&&window.innerWidth<900&&(e=2),null===this.state.products&&window.innerWidth>500&&window.innerHeight>500&&(e=4),this.setState({col_count:e})},window.addEventListener("resize",this.update),this.state={products:[],width:0,firstPart_ind:12,slider_flag:!1,selectedCard_mealData:null,selected_index:0,selectedCardID:"",mealSlider_Flag:!1,currentMealCount:12,mealList:null,col_count:1}}componentDidMount(){this.update()}render(){const e=this.state.selectedCard_mealData,t=[];let a=Math.min(this.state.products.length,this.state.currentMealCount);if(this.state.products.length>0){for(let e=0;e<Math.min(a,this.state.firstPart_ind);e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=Math.min(a,this.state.firstPart_ind));t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:Le},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(M.a,{key:e}," ",n))}e&&this.state.slider_flag&&t.push(s.a.createElement(M.a,{key:Math.min(a,this.state.firstPart_ind)},s.a.createElement("div",{className:"col-sm-12",style:{background:"#ffffff"},key:"1000001"},s.a.createElement("div",{style:{width:"95%",margin:"auto"}},s.a.createElement("div",{className:"detail-card-explain",id:e._id},s.a.createElement("div",{style:{fontSize:"18px",paddingTop:"20px",paddingBottom:"20px"}},e.intro)),s.a.createElement("div",{id:e._id+"products"},s.a.createElement(ye,{products:e.product_slider,col_count:this.state.col_count})),s.a.createElement(Se,{value:e,mealPrep:e.instructions,ingredientsList:e.newer_ingredient_format,func_setMealFlag:this.setMealSliderModal,func_removeMealFlag:this.removeMealSliderModal})))));for(let e=Math.min(a,this.state.firstPart_ind);e<a;e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=a);t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:Le},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(M.a,{key:e+1},n))}}else console.log("Open space to code in here"),t.push(s.a.createElement("div",{id:"viewer"}," "));function n(e){return e.join("\n")}window.getHTML=n;const i=function(){var e=Object(fe.a)(Ee.a.mark((function e(){var t,a,s,i,l,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.send(new Ie.a({Bucket:"chopchowmeals",MaxKeys:1}));case 3:t=e.sent,s=(a=t).Contents.length,a&&0!==s?(console.log("suggested meals do return with length of:"),console.log(s),[],"https://s3.us-west-1.amazonaws.com/","https://s3.us-west-1.amazonaws.com/chopchowmeals/",i=t.Contents.map((function(e){return n(["<span>","<div>","<br/>",'<img style="width:128px;height:128px;" src="https://s3.us-west-1.amazonaws.com/chopchowmeals/'+e.Key+'"/>',"</div>","<div>","</div>","</span>"])})),l=i.length?"<p>The following photos are present.</p>":"<p>There are no photos in this album.</p>",r=["<div>",'<button onclick="listAlbums()">',"Back To albums","</button>","</div>",l,"<div>",n(i),"</div>","<div>",'<button onclick="listAlbums()">',"Back To albums","</button>","</div>"],document.getElementById("viewer").innerHTML=n(r),document.getElementsByTagName("img")[0].setAttribute("style","display:none;")):console.log("shows products do not return"),console.log(t),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",alert("There was an error listing your meals: "+e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return i(),window.listMeals=i,s.a.createElement("div",{className:"meals-Page"},s.a.createElement("div",{id:"title",className:"meal-title"}," ",s.a.createElement("b",null,"Meals")," "),s.a.createElement("div",{className:"mealPage-container"},t),s.a.createElement("section",{className:"loadmore-section"},s.a.createElement("button",{className:"btn-loadmore",onClick:()=>this.onhandleLoadMore()},"Load More")))}}var xe=we;const Le={display:"inline-block",width:"100%",height:"100%"};var Te=a(127),Oe=a(341);class Me extends n.Component{constructor(e){super(e),this.storeCollection=[],this.state={store_products_fetched:!1}}componentDidMount(){console.log("Comes in product pages component will mount");fetch("https://chopchowdev.herokuapp.com/get_store_products").then(e=>e.text()).then(e=>{for(var t=JSON.parse(e),a=0;a<t.length;a++)console.log("Inner fetch loop"),console.log(t[a]),this.storeCollection.push(t[a]),console.log(t[a].store_name);this.setState({store_products_fetched:!0})}).catch(e=>{console.log(e)}),console.log("reaches end of product pages component will mount")}render(){var e=[];console.log(this.storeCollection);var t=!0,a=!1,n=void 0;try{for(var i,l=this.storeCollection.entries()[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){const t=Object(Te.a)(i.value,2),a=t[0],n=t[1];var r=[];console.log(a);var o=!0,c=!1,d=void 0;try{for(var m,u=n.products.entries()[Symbol.iterator]();!(o=(m=u.next()).done);o=!0){const e=Object(Te.a)(m.value,2),t=e[0],a=e[1];console.log("Inner for loop"),console.log(t),console.log(a.product_name);var h=n.store_name+a.product_name;r.push(s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 mealContainer",key:h},s.a.createElement("div",null,s.a.createElement("div",{style:De},s.a.createElement(Oe.a,{trigger:s.a.createElement("div",{id:a.id,style:De},s.a.createElement("img",{src:a.product_image,className:"images",style:{width:"100%"},alt:a.id}),s.a.createElement("div",{id:"textbox"},s.a.createElement("p",{className:"alignleft"},a.product_name),s.a.createElement("p",{className:"alignright",style:{color:"green"}},"$",a.product_price))),modal:!0,closeOnDocumentClick:!0,contentStyle:Pe},s.a.createElement("div",null,a.product_name,s.a.createElement("br",null),"Availability"),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("b",null,s.a.createElement("img",{src:a.product_image,alt:"info",style:{width:"100%",height:"100%",align:"center"}}))),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("b",null,"Availabile",s.a.createElement("br",null),"Variations:",s.a.createElement("br",null),"Price:")))),s.a.createElement("span",null,"View Product"),"\xa0|\xa0",s.a.createElement("span",null,"Update Product"),"\xa0|\xa0",s.a.createElement("span",null,"Add To Cart.."),s.a.createElement("hr",null))))))}}catch(p){c=!0,d=p}finally{try{o||null==u.return||u.return()}finally{if(c)throw d}}e.push(s.a.createElement("div",{key:n.store_name},s.a.createElement("hr",null),s.a.createElement("img",{src:n.store_image,className:"images",style:{width:"10%"},alt:n.id}),s.a.createElement("b",null,n.store_name),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row "},r)),s.a.createElement("hr",null)))}}catch(p){a=!0,n=p}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return s.a.createElement("div",null,s.a.createElement("div",{id:"title"},s.a.createElement("b",null,"Our Products")),e)}}const De={display:"inline-block",width:"100%",height:"100%"},Pe={maxWidth:"100vw",maxHeight:"100vh",overflow:"scroll"};var Ae=Me,Fe=(a(468),a(685)),Re=a(705);class Ue extends s.a.Component{constructor(e){super(e),this.handleChange=({target:{value:e,name:t}})=>this.setState({[t]:e}),this.handleClose=()=>this.setState({dialogue_open_flag:!1}),this.state={email:"",password:"",messageErr:!1,messageSuccess:!1,dialogue_open_flag:!0}}componentWillReceiveProps(e){const t=e.openFlag;this.setState({dialogue_open_flag:t}),e.authUser&&e.customer_id&&this.props.history.push("/grocery")}render(){const e=this.state,t=e.email,a=e.password;return s.a.createElement(O.a,null,s.a.createElement(Q.a,{show:this.state.dialogue_open_flag,onHide:this.handleClose,className:"text-center custom-card1",backdrop:"static",size:"lg",centered:!0},s.a.createElement(Q.a.Header,{closeButton:!0},s.a.createElement(Q.a.Title,{className:"text-center"},"Log In to View your Grocery List")),s.a.createElement(Q.a.Body,null,s.a.createElement(M.a,null,s.a.createElement(D.a,{md:5},s.a.createElement(Fe.a,{className:"fb-btn mb-3 px-3 py-2"},"Login In with Facebook"),s.a.createElement(Fe.a,{className:"google-btn px-3 py-2"},"Login In with Google")),s.a.createElement(D.a,{md:1,className:"or"},"or"),s.a.createElement(D.a,{md:6,className:"d-block right-panel"},s.a.createElement(Re.a,null,s.a.createElement(Re.a.Control,{type:"text",name:"email",value:t,placeholder:"Your Email or Username",onChange:this.handleChange,className:"login__form__input1",autoComplete:"username"}),s.a.createElement(Re.a.Control,{type:"password",name:"password",value:a,placeholder:"Your password",onChange:this.handleChange,className:"login__form__input",autoComplete:"current-password"}),s.a.createElement(Re.a.Label,{className:"lbl_text text-left",column:!0,md:12},s.a.createElement("a",{className:"forget",href:"/forgotpass"},"Forgot Password?")),s.a.createElement(Fe.a,{variant:"primary",className:"mb-1 float-left login-button",onClick:e=>{e.preventDefault(),this.props.userSignIn({email:this.state.email,password:this.state.password})}},"Login"),s.a.createElement(Re.a.Label,{className:"lbl_text mt-4 text-right pb-0",column:!0,md:12},"Don't have an account? ",s.a.createElement("a",{className:"signup",href:"/signup"},"Sign Up")),s.a.createElement(Re.a.Label,{className:"lbl_text text-right pt-0",column:!0,md:12},"or ",s.a.createElement("a",{className:"continue",href:"/v2"},"continue as guest"))))))))}}const je={userSignIn:({email:e,password:t})=>a=>{a({type:"fetch_start"}),a({type:"user_token_set",payload:null}),a({type:"user_data",payload:null}),me.post("/login",{email:e,password:t}).then(({data:e})=>{console.log(" ___ userSignIn RESPONSE ___ ",e),localStorage.setItem("userToken",e.token),localStorage.setItem("userRole",e.role),me.defaults.headers.common.Authorization="Bearer "+e.token,a({type:"fetch_success"}),a({type:"user_token_set",payload:e.token}),a({type:"user_role_set",payload:e.role}),console.log(" ___ userSignIn customerID ",e.customerID)}).catch(e=>{console.error("xxx userSignIn Request ERROR xxx",e),a({type:"fetch_error",payload:"Error during user sign in request"})})}};var Ge=Object(r.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),je)(Object(c.g)(Ue));a(469),a(470);function We(e){const t=e.title;return s.a.createElement("h2",{className:"pageTitle"},t)}var Be=a(687),He=a(686),ze=a(713),Ve=a(342);class qe extends s.a.Component{constructor(...e){super(...e),this.gotoViewPage=(e,t)=>{const a="/product-detail/".concat(e,"/").concat(t);this.props.history.push(a)}}render(){const e=this.props.state,t=e.product_img,a=e.product_name,n=e.productID,i=e.customerId;return s.a.createElement("div",{style:{position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",backgroundColor:"rgba(255,255,255,0.6)",zIndex:"9999"}},s.a.createElement("div",{style:{display:"flex",height:"100%"}},s.a.createElement("div",{className:"product-detail-modal"},s.a.createElement("div",{className:"product-detail-panel"},s.a.createElement("div",{className:"close-btn",style:{fontSize:"12px",textAlign:"right"},onClick:this.props.onCloseClicked},s.a.createElement("i",{className:"fa fa-remove"})),s.a.createElement(M.a,null,s.a.createElement(D.a,{md:6,style:{textAlign:"center"}},s.a.createElement("img",{src:t,width:"100%",className:"product-img",alt:""})),s.a.createElement(D.a,{md:6},s.a.createElement("div",{className:"detail-info-panel",style:{marginLeft:"10px",marginRight:"20px"}},s.a.createElement("div",{className:"product-name"},a),s.a.createElement("div",{className:"product-name-descript"},"Description Lorem Ipsum Dolor Sit Amet"),s.a.createElement("div",{className:"product-size-panel"},s.a.createElement("div",{className:"product-info"},s.a.createElement("div",{className:"product-size-item"},"32 oz tub (Medium)-$9.99"),s.a.createElement("div",{className:"product-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"product-count"}))),s.a.createElement("div",{className:"product-size-panel"},s.a.createElement("div",{className:"product-info"},s.a.createElement("div",{className:"product-size-item"},"32 oz tub (Medium)-$9.99"),s.a.createElement("div",{className:"product-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"product-count"}))),s.a.createElement("div",{className:"product-price-panel"},s.a.createElement("div",{className:"price-item"},"Delivery (select one):"),s.a.createElement("div",{className:"price-value"},s.a.createElement("a",{href:"/"},"Next Day Delivery")," - $10.00"))))),s.a.createElement(M.a,{className:"btn-panel"},s.a.createElement(D.a,{md:6,style:{textAlign:"center"}},s.a.createElement("button",{className:"product-btn",onClick:()=>this.gotoViewPage(i,n)},"View Item")),s.a.createElement(D.a,{md:6,style:{textAlign:"center"}},s.a.createElement("button",{className:"product-btn"},"Add To Card")))))))}}var Qe=Object(c.g)(qe);class Ke extends s.a.Component{constructor(...e){super(...e),this._isMounted=!1,this.products=[],this.productNamesForTypeahead=new Map,this.state={customerList:null,Authentication:!1,customerId:null,email:"",password:"",messageErr:!1,messageSuccess:!1,messageErrCreate:!1,showAlert:!1,messageAlert:"",variant:"",productID:"",deletedItemId:null,selectedProduct:null,idsItems:null,deletedItemsId:null,lasIdListState:null,valueProductName:"",valueProductImage:"",valueProductPrice:"",valueProductSize:"",valuePricePerOunce:"",errormsg:"",typeAheadAdded:!1,product_img:null,product_name:"",product_modal_flg:!1},this.handleChange=({target:{value:e,name:t}})=>this.setState({[t]:e}),this.handleProductClick=(e,t,a,n)=>{n?this.setState({product_img:"/images/products/".concat(e),product_name:t,product_modal_flg:!0,productID:a}):this.setState({product_img:e,product_name:t,product_modal_flg:!0,productID:a})},this.onCloseClicked=()=>{this.setState({product_modal_flg:!1})},this.getCustomerList=e=>{var t="/getCustomerGroceryList/".concat(e);me(t).then(({data:e})=>{this.setState({customerList:e.data})}).catch(()=>{this.setState({messageAlert:"Authentication Error while fetching your grocery list...",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.handleShowDeleteItem=e=>{this.setState({deletedItemId:e});const t=this.state,a=t.customerId,n=t.deletedItemId;var s="./api/remove-item/".concat(e,"/").concat(a);fetch(s,{method:"DELETE"}).then(e=>e.json()).then(e=>{this.setState({messageAlert:"deleted successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),this.setState(e=>({customerList:e.customerList.filter(e=>e.id!==n)})),console.log("Delets item"),this.componentDidMount()}).catch(()=>{this.setState({messageAlert:"Internal Server Error while deleting item",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.handleDeleteList=()=>{console.log("Comes in deletes list");const e=this.state.customerId;var t="https://chopchowdev.herokuapp.com/api/remove-list/".concat(e);fetch(t,{method:"DELETE"}).then(e=>(console.log("delete response is: "),console.log(e),console.log(e.json),this.setState({messageAlert:"deleted successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),this.setState({customerList:[]}),this.componentDidMount(),console.log("deletes list"),e.json())).catch(()=>{console.log("caught an error while deleting list"),this.setState({messageAlert:"Internal Server Error while deleting list",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.handleClickTypeahead=e=>{this.setState({selectedProduct:e}),this.productNamesForTypeahead.get(e);var t=this.productNamesForTypeahead.get(e[0]);if(console.log("productID is: "+t),console.log("customer id is: "+this.state.customerId),!isNaN(t)){var a="./api/addTypeaheadDataToCustomerGroceryList/".concat(t,"/").concat(this.state.customerId);fetch(a,{method:"POST"}).then(e=>{e&&(this.setState({messageAlert:"product added successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),console.log("Comes in handleClickTypeahead's then on client side"),this.componentDidMount())})}}}componentDidMount(){if(this._isMounted=!0,this._isMounted){const e=this.props,t=e.authUser,a=e.customer_id;this.setState({Authentication:t}),this.setState({customerId:a}),this.getCustomerList(a)}}componentWillReceiveProps(e){const t=e.authUser,a=e.customer_id;this.setState({Authentication:t}),null!==t&&(this.setState({customerId:a}),this.getCustomerList(a))}render(){const e=this.state,t=e.showAlert,a=e.variant,n=e.messageAlert,i=e.customerList;return console.log("Authentication, ",this.state.Authentication),console.log("customerId, ",this.state.customerId),console.log("customerList, ",this.state.customerList),console.log("Props:",this.props),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve.Typeahead,{options:Array.from(this.productNamesForTypeahead.keys()),placeholder:"Add products to your grocery list here..",id:"typeahead",onChange:e=>{this.handleClickTypeahead(e)}}),s.a.createElement(He.a,{show:t,key:1,variant:a},n),s.a.createElement("h2",null,"Your Grocery Cart"),this.state.messageVisible?s.a.createElement("div",null,"you can not add in this item because it is already in customers grocery list"):null,this.state.Authentication?s.a.createElement(s.a.Fragment,null,s.a.createElement(We,{title:" Your Grocery List"}),s.a.createElement("div",null,s.a.createElement(Fe.a,{className:"yourlist__buttonDeleteList",variant:"danger",onClick:e=>{e.stopPropagation(),this.handleDeleteList()}},"Delete List Items"),s.a.createElement("br",null),s.a.createElement(O.a,{className:"page__container",fluid:!0},i?i.map(e=>{let t=e.id;return console.log("customer_grocery_product_item:",e.product_image),s.a.createElement(M.a,{display:"inline-flex",key:e.id},s.a.createElement(D.a,{key:e.id},e.product_image.startsWith("https://")?s.a.createElement("img",{src:e.product_image,alt:"product_img ",className:"card-img",onClick:()=>this.handleProductClick(e.product_image,e.product_name,t,!1)}):s.a.createElement("img",{src:"/images/products/".concat(e.product_image),alt:"product_img ",className:"card-img",onClick:()=>this.handleProductClick(e.product_image,e.product_name,t,!0)})),s.a.createElement(D.a,null,s.a.createElement(ze.a.Title,{className:"grocery_item_card-header"},"Product Name :"," ",e.product_name),s.a.createElement(ze.a.Text,null,"Product Price :"," ",e&&e.product_price,s.a.createElement("br",null),"Product Size : ",e.sizes)),s.a.createElement(D.a,null,s.a.createElement(Fe.a,{onClick:e=>{e.stopPropagation(),this.handleAddItemToCart(t)}}," ","  Add To Cart")),s.a.createElement(D.a,null,s.a.createElement("i",{className:"fa fa-remove",onClick:t=>{t.stopPropagation(),this.handleShowDeleteItem(e.id)}})))}):s.a.createElement("div",null," Your grocery cart looks empty.",s.a.createElement(Be.a,{animation:"border",variant:"info"}))))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,"Log into to view your saved grocery list.")),this.state.product_modal_flg&&s.a.createElement(Qe,{state:this.state,onCloseClicked:this.onCloseClicked}))}}var Je=Object(r.c)(({auth:e})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id}),()=>({}))(Object(c.g)(Ke)),Ye=(a(618),a(688)),$e=a(108);class Ze extends s.a.Component{constructor(...e){super(...e),this.state={email:"",phone:"",username:"",password:"",messageErr:!1,messageSuccess:!1,showModal:!0,emailNotification:!1},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;"emailNotification"===t?this.setState({emailNotification:e.currentTarget.checked}):this.setState({[t]:a})},this.handleClose=e=>{Object($e.setTimeout)(()=>{this.props.history.push("/grocery")},e||0)},this.formSubmit=e=>{e.preventDefault();let t=this.state.email;if(""!==t&&/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/.test(t)){var a=t.split("@"),n=Object(Te.a)(a,2),s=n[0],i=n[1].split(".");t.length<256&&s.length<64&&i.some((function(e){return e.length<63}))?(this.setState({messageErr:""}),this.submitForm()):this.setState({messageErr:"Please enter a valid email."})}else this.state.phone.length>=10&&this.state.phone.length<=30&&this.state.username&&this.state.password?(this.setState({messageErr:""}),this.submitForm()):this.setState({messageErr:"Please enter a valid phone number or email."})},this.submitForm=()=>{console.log("state,",this.state);fetch("https://chopchowdev.herokuapp.com/api/signupuser",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)}).then(e=>{400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Check username or password ..."}):401===e.status?this.setState({messageErr:"You are unauthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"You are signed up! "}),this.handleClose(5e3))})}}render(){return s.a.createElement(Q.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal registerme",backdrop:"static"},s.a.createElement(Q.a.Header,{closeButton:!0},s.a.createElement(Q.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Sign Up"),s.a.createElement("span",{style:{fontSize:"11pt"}},"Already have an account?",s.a.createElement(o.b,{className:"link-guest-word",to:"/login"},"Login")))),s.a.createElement(Q.a.Body,null,s.a.createElement(O.a,null,s.a.createElement(M.a,{className:"justify-content-md-center"},s.a.createElement(D.a,{xs:!0,lg:!0},s.a.createElement(Re.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Re.a.Group,null,s.a.createElement(Re.a.Control,{type:"email",name:"email",value:this.state.email,placeholder:"Your email",onChange:this.handleChange,autoComplete:"username"}),s.a.createElement(Re.a.Label,null,"Or"),s.a.createElement(Re.a.Control,{type:"tel",name:"phone",value:this.state.phone,placeholder:"Your Phone Number",onChange:this.handleChange})),s.a.createElement("hr",null),s.a.createElement(Re.a.Group,null,s.a.createElement(Re.a.Control,{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.handleChange,required:!0}),s.a.createElement(Re.a.Label,null),s.a.createElement(Re.a.Control,{type:"password",name:"password",value:this.state.password,placeholder:"Create a Password",onChange:this.handleChange,autoComplete:"new-password",required:!0})),s.a.createElement(Re.a.Group,{controlId:"formHorizontalCheck"},s.a.createElement(Re.a.Label,null),s.a.createElement(Re.a.Check,{onChange:this.handleChange,name:"emailNotification",label:"Sign Up for Email Notifications"})),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Ye.a,null,s.a.createElement(Fe.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Sign Up")),s.a.createElement(o.b,{className:"",to:"/signup"},"or Sign up as driver")))))))}}a(620);class Xe extends s.a.Component{constructor(...e){super(...e),this.state={email:"",username:"",messageErr:!1,messageSuccess:!1,showModal:!0},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;this.setState({[t]:a})},this.handleClose=e=>{Object($e.setTimeout)(()=>{this.props.history.push("/")},e||0)},this.formSubmit=e=>{e.preventDefault(),this.state.email||this.state.username?this.submitForm():this.setState({messageErr:"Please enter correct data."})},this.submitForm=()=>{fetch("https://chopchowdev.herokuapp.com/api/forgotpass",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)}).then(e=>{console.log(e),400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Your username or email does not exist."}):401===e.status?this.setState({messageErr:"you are UnAuthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"Please check your inbox for more details! "}),this.handleClose(5e3))})}}render(){return s.a.createElement(Q.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(Q.a.Header,{closeButton:!0},s.a.createElement(Q.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Forgot Password"))),s.a.createElement(Q.a.Body,null,s.a.createElement(O.a,null,s.a.createElement(M.a,{className:"justify-content-md-center"},s.a.createElement(D.a,{xs:!0,lg:!0},s.a.createElement(Re.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Re.a.Group,null,s.a.createElement(Re.a.Control,{type:"text",name:"email",value:this.state.email,placeholder:"Your email",onChange:this.handleChange}),s.a.createElement(Re.a.Label,null,"Or")),s.a.createElement(Re.a.Group,null,s.a.createElement(Re.a.Control,{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.handleChange}),s.a.createElement(Re.a.Label,null)),s.a.createElement(Re.a.Label,null,"We will sent you a link to reset your password."),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Ye.a,null,s.a.createElement(Fe.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Reset"))))))))}}a(621);class et extends s.a.Component{constructor(...e){super(...e),this.state={password1:"",password2:"",messageErr:!1,messageSuccess:!1,showModal:!0},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;this.setState({[t]:a})},this.handleClose=e=>{Object($e.setTimeout)(()=>{this.props.history.push("/grocery")},e||0)},this.formSubmit=e=>{e.preventDefault(),this.state.password1||this.state.password2?this.submitForm():this.setState({messageErr:"Please enter correct data."})},this.submitForm=()=>{let e=this.props.location.search.replace("?","").split("=")[1],t=Object.assign({},this.state,{token:e});fetch("/api/resetpass",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then(e=>{400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Check username or email ... !!"}):401===e.status?this.setState({messageErr:"you are UnAuthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"Please check your inbox for more details! "}),this.handleClose(5e3))})}}render(){let e=this.props.location.search.replace("?","").split("=");return e.length>1?(e=e[1],s.a.createElement(Q.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(Q.a.Header,{closeButton:!0},s.a.createElement(Q.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Reset Password"))),s.a.createElement(Q.a.Body,null,s.a.createElement(O.a,null,s.a.createElement(M.a,{className:"justify-content-md-center"},s.a.createElement(D.a,{xs:!0,lg:!0},s.a.createElement(Re.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Re.a.Group,null,s.a.createElement(Re.a.Control,{type:"hidden",name:"token",value:e}),s.a.createElement(Re.a.Control,{type:"password",name:"password1",value:this.state.password1,placeholder:"New Password",onChange:this.handleChange})),s.a.createElement(Re.a.Label,null),s.a.createElement(Re.a.Group,null,s.a.createElement(Re.a.Control,{type:"password",name:"password2",value:this.state.password2,placeholder:"Retype Password",onChange:this.handleChange}),s.a.createElement(Re.a.Label,null)),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Ye.a,null,s.a.createElement(Fe.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Reset"))))))))):s.a.createElement(Q.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(Q.a.Header,{closeButton:!0},s.a.createElement(Q.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Something wrong with yout token please try again."))))}}var tt=a(691),at=a(46),nt=a.n(at),st=a(709),it=a(692),lt=a(349),rt=a(689),ot=a(178),ct=a(714),dt=a(693),mt=a(694),ut=a(695);n.Component;n.Component;n.Component;var ht=a(642);class pt extends n.Component{constructor(e){var t;super(e),t=this,this.ingredientsQuantityMeasurements=[],this.handleClose=()=>{this.setState({booleanOfDisplayOfDialogBoxConfirmation:!1})},this.openProductDetailsModal=e=>{console.log("Comes in toggle product details div id. Index is : "+e);var t=document.getElementById("ProductAdditionalDataDisplayed");console.log(t),"block"===t.style.display?t.style.display="none":t.style.display="block"},this.onTextFieldChange=e=>{console.log("Comes in on text field change; "),console.log(" "+[e.target.id]+" "+e.target.value),this.setState({[e.target.id]:e.target.value})},this.onInputChange=e=>{console.log("Comes in on text field change; "),console.log(" "+[e.target.id]+" "+e.target.value),this.setState({[e.target.id]:e.target.value})},this.onUpdateMealImage=e=>{if(void 0!==e.target.files[0]){this.setState({mealImage:e.target.files[0],mealImageName:e.target.files[0].name});var t=/(\.jpg|\.jpeg|\.png|\.)$/i;if(t.exec(e.target.files[0].name)){var a=document.getElementById("MealsMainImages");a.style.display="block",a.src=URL.createObjectURL(e.target.files[0]),console.log(e.target.files[0]),console.log(e.target.files[0].name),console.log(t.exec(e.target.files[0].name))}else alert("Invalid image type")}},this.onhandleInstructionImg=(e,t)=>{if(void 0!==e.target.files[0]){switch(console.log("uploading recipeChunkImageOrVideo content looks like below: "),console.log(e.target.files[0]),t){case 1:this.setState({chunk1Content:e.target.files[0]});break;case 2:this.setState({chunk2Content:e.target.files[0]});break;case 3:this.setState({chunk3Content:e.target.files[0]});break;case 4:this.setState({chunk4Content:e.target.files[0]});break;case 5:this.setState({chunk5Content:e.target.files[0]});break;case 6:this.setState({chunk6Content:e.target.files[0]})}var a="chunk"+t+"Image",n="chunk"+t+"Video",s=document.getElementById(a),i=document.getElementById(n);/(\.jpg|\.jpeg|\.png|\.)$/i.exec(e.target.files[0].name)?(s.style.display="block",i.style.display="none",s.src=s.src=URL.createObjectURL(e.target.files[0])):/(\.mp4|\.m4v|\.)$/i.exec(e.target.files[0].name)?(i.style.display="block",s.style.display="none",i.src=URL.createObjectURL(e.target.files[0]),i.play(),console.log(e.target.files[0])):alert("Invalid file type")}},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0])return;const a=this.state.instructionimagesAndVideos;a[t]=e.target.files[0],this.setState({instructionimagesAndVideos:a})},this.handleProductNameInput=(e,t)=>{if(console.log("In handleProductNameInput . \n val is: "+t),void 0!==t&&null!==t){const a=this.props.productNames.map((function(e){return e.toLowerCase()===t.toLowerCase()})).indexOf(!0);console.log("Curr Product Index If Exists In Products List is: \n"+a),this.setState({currProductIndexInDBsProductsList:a}),null!=e&&null!==e.target.value?this.setState({currentIngredient:e.target.innerHTML}):this.setState({currentIngredient:t})}else console.log("val is null or undefined")},this.deleteNewIngredientFromNewProductPopUp=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=this.state.new_product_ingredients;-1!==e&&(t.splice(e,1),a.splice(e,1),n.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a,new_product_ingredients:n}))},this.handleKitchenUtensilInputName=e=>{this.setState({suggestedUtensils:e})},this.handleCategoryDropdownChange=e=>{this.setState({suggestedCategories:e})},this.sendSuggestedMealToDB=function(){var e=Object(fe.a)(Ee.a.mark((function e(a){var n,s,i,l,r,o,c,d,m,u,h,p,g,E,f,v,b,S,y,C,I,N,_,k,w,x,L,T,O,M,D,P,A;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,s=n.mealName,i=n.prepTime,l=n.cookTime,r=n.mealImage,o=n.mealImageName,c=n.intro,d=n.servings,m=n.chef,u=n.new_product_ingredients,n.ingredientStrings,h=n.ingredientGroupList,p=n.suggestedCategories,g=n.tips,E=n.suggestedUtensils,""!==s){e.next=4;break}return console.log("meal label blank"),e.abrupt("return");case 4:if(null!==r&&void 0!==r){e.next=7;break}return window.alert("You didn't add suggested meal image"),e.abrupt("return");case 7:for(f=[],v=[],[],b=0,b=0;b<u.length;b++)S={ingredient:u[b].productName,image:u[b].productImgFile},y={quantity:h[b].quantity,measurement:h[b].measurement},t.ingredientsQuantityMeasurements.push(y);for(C=[],b=0;b<h.length;b++)S={productName:h[b].productName,quantity:h[b].quantity,measurement:h[b].measurement,productImgPath:h[b].productImgPath,properIngredientStringSyntax:h[b].properIngredientStringSyntax},f.push(S),console.log(S),I={ingredient:h[b].product,image:h[b].productImgPath,display:h[b].display},v.push(I),""!==h[b].measurement&&-1===t.props.measurements.indexOf(h[b].measurement)&&C.push(h[b].measurement);for(N=[],b=0;b<p.length;b++)-1===t.props.categories.indexOf(p[b])&&N.push(p[b]);for(_=[],b=0;b<E.length;b++)-1===t.props.kitchenUtensils.indexOf(E[b])&&_.push(E[b]);k=[],w=new ht,console.log("Meal name:"),console.log(t.state.mealName),b=0;case 23:if(!(b<6)){e.next=48;break}x="instructionChunkContent"+(b+1),console.log(t.state.instructionimagesAndVideos[b]),void 0!==t.state.instructionimagesAndVideos[b]&&(console.log("Comes in here to send individual content"),console.log(t.state.instructionimagesAndVideos[b]),w.append(x,t.state.instructionimagesAndVideos[b]),console.log(w)),L=[],e.t0=b,e.next=1===e.t0?31:2===e.t0?33:3===e.t0?35:4===e.t0?37:5===e.t0?39:6===e.t0?41:43;break;case 31:return L=t.state.instructionChunk1,e.abrupt("break",44);case 33:return L=t.state.instructionChunk2,e.abrupt("break",44);case 35:return L=t.state.instructionChunk3,e.abrupt("break",44);case 37:return L=t.state.instructionChunk4,e.abrupt("break",44);case 39:return L=t.state.instructionChunk5,e.abrupt("break",44);case 41:return L=t.state.instructionChunk6,e.abrupt("break",44);case 43:L="null";case 44:0!=b&&(T={step:b,instructionChunk:L},k.push(T));case 45:b++,e.next=23;break;case 48:w.append("mealContentName",t.state.mealName),console.log(w),O={mealContentName:t.state.mealName},M=JSON.stringify(O),console.log(M),D=new ht,new ht,D.append("mealName",s),D.append("mealImage",r),D.append("mealImageName",o),D.append("prepTime",i),D.append("cookTime",l),D.append("intro",c),D.append("mealTip",g),D.append("chef",m),D.append("servings",d),D.append("ingredientsQuantityMeasurements",JSON.stringify(t.ingredientsQuantityMeasurements)),D.append("new_measurements",JSON.stringify(C)),D.append("formatted_ingredient",JSON.stringify(f)),D.append("new_product_ingredients",JSON.stringify(u)),D.append("categoryChips",JSON.stringify(p)),D.append("newCategories",JSON.stringify(N)),D.append("kitchenUtensils",JSON.stringify(E)),D.append("newKitchenUtensils",JSON.stringify(_)),D.append("instructionsGroupList",JSON.stringify(k)),console.log(t.state.chunk1Content),D.append("instructionData1Name",t.state.chunk1Content.filename),D.append("instructionData2Name",t.state.chunk2Content.filename),D.append("instructionData3Name",t.state.chunk3Content.filename),D.append("instructionData4Name",t.state.chunk4Content.filename),D.append("instructionData5Name",t.state.chunk5Content.filename),D.append("instructionData6Name",t.state.chunk6Content.filename),D.append("instructionChunkContent1",t.state.chunk1Content),D.append("instructionChunkContent2",t.state.chunk2Content),D.append("instructionChunkContent3",t.state.chunk3Content),D.append("instructionChunkContent4",t.state.chunk4Content),D.append("instructionChunkContent5",t.state.chunk5Content),D.append("instructionChunkContent6",t.state.chunk6Content),"/addMealSuggestion/",P={method:"POST",data:D,url:"/addMealSuggestion/",headers:{}},console.log("Printing Chunk Contents"),A=JSON.parse(JSON.stringify(k)),console.log(A),me(P).then(e=>{e.status>=200&&e.status<300?(t.setState({booleanOfDisplayOfDialogBoxConfirmation:!0}),console.log(e),console.log("Display Meal submitted successfully")):console.log("Something wrong happened ")}).catch(e=>{console.log(e)});case 92:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.state={mealName:"",mealImage:"",mealImageName:"",intro:"",ingredientNames:[],ingredientGroupList:[],ingredientStrings:[],currentIngredient:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",currentProductImgSrc:null,currentProductDisplayIndex:0,currentStore:"",productImg_path:"",new_product_ingredients:[],suggested_stores:[],currProductIndexInDBsProductsList:-1,suggestedUtensils:[],cookTime:0,prepTime:0,stepSlides:[],instructionChunk6:{title:"",instructionSteps:[],dataName:""},instructionChunk1:{title:"",instructionSteps:[],dataName:""},instructionChunk2:{title:"",instructionSteps:[],dataName:""},instructionChunk3:{title:"",instructionSteps:[],dataName:""},instructionChunk4:{title:"",instructionSteps:[],dataName:""},instructionChunk5:{title:"",instructionSteps:[],dataName:""},chunk1Content:"",chunk2Content:"",chunk3Content:"",chunk4Content:"",chunk5Content:"",chunk6Content:"",instructionimagesAndVideos:[],chef:"",suggestedCategories:[],servings:0,tips:[],booleanOfDisplayOfDialogBoxConfirmation:!1},this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this),this.updateChef=this.updateChef.bind(this),this.updateTip=this.updateTip.bind(this),this.handleAddInstructionStep=this.handleAddInstructionStep.bind(this),this.handleInstructionTitle=this.handleInstructionTitle.bind(this),this.handleUtensilsDropdownChange=this.handleUtensilsDropdownChange.bind(this),this.handleProductNameInput=this.handleProductNameInput.bind(this)}componentDidMount(){var e="/get-meals";me.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET of ALL MEALS ");for(var a=0;a<t.data.length;a++)this.props.allMealNames.push(t.data[a].label)}else console.log("get all meal names function does not return")}).catch(e=>{console.log(e)}),console.log(this.allMealNames),e="https://chopchowdev.herokuapp.com/get-all-products",e="/get-all-categories",me.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET of ALL Categories ");for(var a=0;a<t.data.length;a++)this.props.categories.push(t.data[a].category_name);console.log("PRINTING UPDATED CATEGORIES LIST")}else console.log("get all products function does not return")}).catch(e=>{console.log(e)})}updateChef(){var e=document.getElementById("chef").value;this.setState({chef:e})}updateTip(e){this.state.tips;this.setState({tips:[...this.state.tips,e]})}deleteTip(e){let t=this.state.tips;var a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({tips:t}))}handleAddIngredientChip(e){this.setState({ingredientStrings:[...this.state.ingredientStrings,e]})}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleIngredientMeasurement(e,t){if(console.log("In handleIngredientMeasurement . \n val is: "+t),null!==t&&void 0!==t){const a=this.props.measurements.map((function(e){return e.toLowerCase()===t.toLowerCase()})).indexOf(!0);console.log("Curr Product Index If Exists In Products List is: \n"+a),null!=e&&null!==e.target.value?this.setState({currentIngredientMeasurement:e.target.innerHTML}):this.setState({currentIngredientMeasurement:t})}else console.log("val is null!")}handleInstructionTitle(e,t){console.log("Index is : "+t);let a,n=e.target.value;switch(console.log("Chip is : "+n),t){case 1:a=this.state.instructionChunk1,a.title=n,this.setState({instructionChunk1:a});break;case 2:a=this.state.instructionChunk2,a.title=n,this.setState({instructionChunk2:a});break;case 3:a=this.state.instructionChunk3,a.title=n,this.setState({instructionChunk3:a});break;case 4:a=this.state.instructionChunk4,a.title=n,this.setState({instructionChunk4:a});break;case 5:a=this.state.instructionChunk5,a.title=n,this.setState({instructionChunk5:a});break;case 6:a=this.state.instructionChunk6,a.title=n,this.setState({instructionChunk6:a})}}handleAddInstructionStep(e,t){var a;switch(console.log("Index is : "+t),t){case 1:(a=this.state.instructionChunk1).instructionSteps=[...this.state.instructionChunk1.instructionSteps,e],this.setState({instructionChunk1:a});break;case 2:(a=this.state.instructionChunk2).instructionSteps=[...this.state.instructionChunk2.instructionSteps,e],this.setState({instructionChunk2:a});break;case 3:(a=this.state.instructionChunk3).instructionSteps=[...this.state.instructionChunk3.instructionSteps,e],this.setState({instructionChunk3:a});break;case 4:(a=this.state.instructionChunk4).instructionSteps=[...this.state.instructionChunk4.instructionSteps,e],this.setState({instructionChunk4:a});break;case 5:console.log("Comes in here too"),(a=this.state.instructionChunk5).instructionSteps=[...this.state.instructionChunk5.instructionSteps,e],this.setState({instructionChunk5:a});break;case 6:(a=this.state.instructionChunk6).instructionSteps=[...this.state.instructionChunk6.instructionSteps,e],this.setState({instructionChunk6:a})}}handleDeleteInstructionsStep(e,t){let a,n,s;switch(console.log("In delete instruction step/chip"),console.log("Chip is "+e),console.log("Index is "+t),t){case 1:a=this.state.instructionChunk1,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,console.log("new array : \n"+a),this.setState({instructionChunk1:a}));break;case 2:a=this.state.instructionChunk2,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk2:a}));break;case 3:a=this.state.instructionChunk3,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk3:a}));break;case 4:a=this.state.instructionChunk4,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk4:a}));break;case 5:a=this.state.instructionChunk5,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk5:a}));break;case 6:a=this.state.instructionChunk6,s=a.instructionSteps,n=s.indexOf(e),-1!==n&&(s.splice(n,1),a.instructionSteps=s,this.setState({instructionChunk6:a}))}}handleUtensilsDropdownChange(e){e.target.value?this.setState({suggestedUtensils:[...this.state.suggestedUtensils,e.target.value]}):this.setState({suggestedUtensils:[...this.state.suggestedUtensils,e.target.innerHTML]})}handleDeleteUtensilsChip(e){var t=[...this.state.suggestedUtensils],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({suggestedUtensils:t}))}handleAddCategoryChip(e){this.setState({suggestedCategories:[...this.state.suggestedCategories,e]})}handleDeleteCategoryChip(e){var t=[...this.state.suggestedCategories],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({suggestedCategories:t}))}addIngredientToMeal(e){var t;console.log("COMES IN addIngredientToMeal"),e.preventDefault();var a=document.getElementById("currentIngredient").value,n=document.getElementById("currentIngredientQuantity").value,s=document.getElementById("currentIngredientMeasurement").value;if(""===a)return void window.alert("Enter an ingredient to add to meal");t=""===n?a:""===s&&""!==n?n+" "+a:n+" "+s+" of "+a,console.log(t);var i={productName:a,productImgPath:null,quantity:n,measurement:s,properIngredientStringSyntax:t};console.log("current state of product index at Add Ingredient To Meal is : \n"+this.state.currProductIndexInDBsProductsList);const l=this.props.productNames.map((function(e){return e.toLowerCase()===a.toLowerCase()})).indexOf(!0);console.log("Curr Product Index If Exists In Products List is: \n"+l),-1!==l?(console.log("using already existing product object from db"),console.log("DOES NOT ADD to new _product_ingredients")):(console.log("ADDs to new_product_ingredients"),console.log("creating new product object"),i.productIndex=0,this.setState({new_product_ingredients:[...this.state.new_product_ingredients,i]})),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,i]}),this.setState({currentIngredient:"null",currentIngredientQuantity:"",currentIngredientMeasurement:"null"}),this.setState({currentIngredient:"",currentIngredientMeasurement:""}),this.handleAddIngredientChip(t)}render(){const e=Object(lt.a)({palette:{primary:ot.a}}),t=(Object(lt.a)({palette:{primary:ot.a}}),this.state),a=(t.categoryList,t.availableLocations,t.suggested_stores,t.new_product_ingredients,t.ingredientGroupList);return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("div",{style:{width:"85%",margin:"auto",backgroundColor:"#f4f4f4"}},s.a.createElement("div",{style:{padding:"20px",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement("div",{id:"title",style:{marginTop:"20px",marginBottom:"20px"}},s.a.createElement("b",null,"Begin Suggesting Meal:")),s.a.createElement("form",{noValidate:!0,autoComplete:"off",encType:"multipart/form-data",method:"post"},s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,null,s.a.createElement(st.a,{id:"mealName",options:this.props.allMealNames.map(e=>e),onChange:e=>this.onInputChange(e),onInputChange:(e,t)=>this.onInputChange(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{label:"Meal Name",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.mealName}))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"prepTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"PrepTime (mins)",variant:"filled",required:!0})),s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"cookTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"CookTime (mins)",variant:"filled",required:!0}))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:12,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*,video/mp4,video/mov,video/x-m4v,video/*",id:"mealImage",name:"mealImage",type:"file",className:"mb-2 pr-4",onChange:e=>this.onUpdateMealImage(e)}),s.a.createElement("p",null,s.a.createElement("img",{id:"MealsMainImages",width:"100%",alt:"main_Meal_Image",style:{display:"none"}})))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:12},s.a.createElement(tt.a,{multiline:!0,id:"intro",fullWidth:!0,onChange:this.onTextFieldChange,label:"Intro",variant:"filled",className:"mb-3 "}))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"servings",fullWidth:!0,type:"number",onChange:this.onTextFieldChange,label:"Serves",variant:"filled",className:"mb-3 ",placeholder:"1 person, 2, 4 or 10 people"})),s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"chef",value:this.state.chef,fullWidth:!0,onChange:this.updateChef,label:"Chef",variant:"filled",className:"mb-3 "}))),s.a.createElement("b",null,"Add Ingredients:"),s.a.createElement("hr",null),s.a.createElement(M.a,{className:"mb-1"},s.a.createElement(D.a,null,s.a.createElement(st.a,{id:"currentIngredient",options:this.props.productNames.map(e=>e),value:this.state.currentIngredient,onChange:(e,t)=>this.handleProductNameInput(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{id:"currentIngredient",label:"ingredients",value:this.state.currentIngredient,variant:"filled",type:"text"})),fullWidth:!0,className:"mb-3"}))),s.a.createElement(M.a,{className:"mb-1"},s.a.createElement(D.a,{md:5},s.a.createElement(tt.a,{fullWidth:!0,id:"currentIngredientQuantity",type:"number",onChange:this.onTextFieldChange,label:"Quantity",variant:"filled",placeholder:"1..",className:"mb-3",value:this.state.currentIngredientQuantity})),s.a.createElement(D.a,{md:5},s.a.createElement(st.a,{id:"currentIngredientMeasurement",options:this.props.measurements.map(e=>e),value:this.state.currentIngredientMeasurement,onChange:this.handleIngredientMeasurement,freeSolo:!0,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{value:this.state.currentIngredientMeasurement,id:"currentIngredientMeasurement",label:"Measurements",variant:"filled",type:"text"})),className:"mb-3"})),s.a.createElement(D.a,{md:2,style:{textAlign:"center",margin:"auto"}},s.a.createElement(it.a,{variant:"contained",color:"primary",disableRipple:!0,onClick:this.addIngredientToMeal,style:{color:"white",width:"80%"},className:"mb-3"}," Add Ingredient"))),s.a.createElement(M.a,{className:"mb-2"},s.a.createElement(D.a,{md:12},s.a.createElement(nt.a,{label:"IngredientsList",value:this.state.ingredientStrings,onAdd:e=>this.handleAddIngredientChip(e),placeholder:"e.g 1 Onion, 2 Cups of Water, etc",onDelete:e=>this.handleDeleteIngredientChip(e),variant:"filled",fullWidth:!0,className:"mb-2"}))),s.a.createElement(O.a,{style:{flex:"row-reverse"}},a.map((e,t)=>s.a.createElement(D.a,{md:5,key:t,name:"suggestedProductsContainer",style:{margin:"1px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},e.properIngredientStringSyntax))),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("br",null),s.a.createElement(M.a,null,s.a.createElement(D.a,null,s.a.createElement(st.a,{multiple:!0,id:"kitchen_utenails",freeSolo:!0,options:this.props.kitchenUtensils.map(e=>e),onChange:(e,t)=>this.handleKitchenUtensilInputName(t),renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{label:"Kitchen Utensils : Add any unique cooking utensils needed to make this meal (optional)",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.suggestedUtensils}))),s.a.createElement("b",null,"Add Recipe Chunks ",s.a.createElement("sup",null,"i"),":"),s.a.createElement("hr",null),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement("p",null," Upload photos/videos for different parts of recipe steps")),s.a.createElement(M.a,null,s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"chunk1Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,1),label:"Section 1 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent1",name:"instructionChunkContent1",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,1)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk1Image",width:"100%",alt:"recipe_step1_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk1Video",style:{display:"none"},controls:!0},"Your browser does not support the video tag.")),s.a.createElement(nt.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk1.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,1),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,1),variant:"filled"})),s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"chunk2Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,2),label:"Section 2 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent2",name:"instructionChunkContent2",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,2)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk2Image",width:"100%",alt:"recipe_step2_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk2Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk2VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(nt.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk2.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,2),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,2),variant:"filled"}))),s.a.createElement(M.a,null,s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"chunk3Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,3),label:"Section 3 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent3",name:"instructionChunkContent3",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,3)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk3Image",width:"100%",alt:"recipe_step3_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk3Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk3VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(nt.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk3.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,3),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,3),variant:"filled"})),s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"chunk4Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,4),label:"Section 4 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent4",name:"instructionChunkContent4",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,4)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk4Image",width:"100%",alt:"recipe_step4_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk4Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk4VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(nt.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk4.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,4),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,4),variant:"filled"}))),s.a.createElement(M.a,null,s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"chunk5Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,5),label:"Section 5 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent5",name:"instructionChunkContent5",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,5)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk5Image",width:"100%",alt:"recipe_step5_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk5Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk5VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(nt.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk5.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,5),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,5),variant:"filled"})),s.a.createElement(D.a,{md:6},s.a.createElement(tt.a,{id:"chunk6Title",className:"mb-2",onChange:e=>this.handleInstructionTitle(e,6),label:"Section 6 Title",variant:"filled"}),s.a.createElement("br",null),s.a.createElement("input",{accept:"image/*,video/mp4,video/x-m4v,video/*",id:"instructionChunkContent6",name:"instructionChunkContent6",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e,6)}),s.a.createElement("p",null,s.a.createElement("img",{id:"chunk6Image",width:"100%",alt:"recipe_step6_image_or_video",style:{display:"none"}}),s.a.createElement("video",{width:"100%",id:"chunk6Video",style:{display:"none"},controls:!0},s.a.createElement("source",{type:"video/mp4",id:"chunk6VideoSource"}),"Your browser does not support the video tag.")),s.a.createElement(nt.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionChunk6.instructionSteps,onAdd:e=>this.handleAddInstructionStep(e,6),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,6),variant:"filled"}))),s.a.createElement("hr",null),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:12},s.a.createElement(st.a,{multiple:!0,id:"tags-filled",className:"mb-2",freeSolo:!0,options:this.props.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:this.state.suggestedCategories,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),s.a.createElement(M.a,null,s.a.createElement(D.a,{md:12},s.a.createElement(nt.a,{id:"tips",label:"Tips(optional): include any modifications to this meal you will like to add",className:"mb-3",fullWidth:!0,value:this.state.tips,onAdd:e=>this.updateTip(e),onDelete:(e,t)=>this.deleteTip(e,t),variant:"filled"}))),s.a.createElement("u",{onClick:this.openProductDetailsModal}," Show Preview +"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{id:"ProductAdditionalDataDisplayed"}),s.a.createElement(M.a,{className:"mb-5"},s.a.createElement(D.a,{md:12},s.a.createElement(rt.a,{theme:e},s.a.createElement(it.a,{variant:"contained",className:"mb-2",color:"primary",style:{color:"white",width:"100%"},onClick:()=>this.sendSuggestedMealToDB()}," Add Meal"))),s.a.createElement(tt.a,null,"View privacy policy ",s.a.createElement("sup",null,"i")))))),s.a.createElement(ct.a,{open:this.state.booleanOfDisplayOfDialogBoxConfirmation,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},s.a.createElement(dt.a,{id:"alert-dialog-title"},"Information"),s.a.createElement(mt.a,null,s.a.createElement(ut.a,null,"Successfully added to database"))))}}var gt=pt;class Et extends n.Component{constructor(e){var t;super(e),t=this,this.products=[],this.productsImg_path=[],this.categories=[],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb"],this.handleClose=()=>{this.setState({open:!1})},this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onTextFieldClick=e=>{void 0!==e.target.files[0]&&(this.setState({imgSrc:e.target.files[0]}),this.setState({loading_imgSrc:URL.createObjectURL(e.target.files[0])}),this.setState({img_change_flag:!0}))},this.onhandleProductImg=e=>{void 0!==e.target.files[0]&&(this.setState({productImgSrc:e.target.files[0]}),null!==e.target.files[0]&&this.setState({productImg_path:URL.createObjectURL(e.target.files[0])}))},this.onhandleInstructionImg=e=>{void 0!==e.target.files[0]&&(this.setState({instructionImgData:e.target.files[0]}),null!==e.target.files[0]&&this.setState({instructionImgPath:URL.createObjectURL(e.target.files[0])}))},this.onHandleIngredientItem=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList;-1!==e&&(t.splice(e,1),a.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))},this.onHandleInstructionItem=e=>{const t=this.state.instructionGroupList;t.splice(e,1),this.setState({instructionGroupList:t})},this.onUpdateIngredientImg=(e,t)=>{if(null===e.target.files[0]||this.state.ingredientGroupList.length<=t)return;const a=this.state.ingredientGroupList,n=a[t];var s={product:n.product,quantity:n.quantity,measurement:n.measurement,productImgData:e.target.files[0],productImgPath:URL.createObjectURL(e.target.files[0]),flag:!0};a[t]=s,this.setState({ingredientGroupList:a})},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0]||this.state.instructionGroupList.length<=t)return;const a=this.state.instructionGroupList;let n={step:a[t].step,imgdata:e.target.files[0],imgpath:URL.createObjectURL(e.target.files[0])};a[t]=n,this.setState({instructionGroupList:a})},this.handleIngredientDropdownChange=(e,t)=>{var a=this.products.indexOf(t);-1!==a&&this.setState({product_ind:a}),null!==e.target.value?this.setState({currentIngredient:t}):this.setState({currentIngredient:e.target.innerHTML})},this.handleProductName=(e,t)=>{const a=this.products.map(e=>e.toLowerCase().includes(t.toLowerCase())).find(e=>!0===e);!0!==a||null===a?(this.setState({productImgSetting_flag:!0}),this.setState({currentIngredient:t})):(this.setState({productImgSetting_flag:!1}),this.setState({currentIngredient:t}))},this.handleCategoryDropdownChange=e=>{this.setState({categoryList:e})},this.addInstructionList=()=>{if(0===this.state.instructionsChip.length)return;let e={step:this.state.instructionsChip,imgdata:this.state.instructionImgData,imgpath:this.state.instructionImgPath};this.setState({instructionGroupList:[...this.state.instructionGroupList,e]}),this.setState({instructionsChip:[],instructionImgData:null,instructionImgPath:""})},this.sendSuggestedMealToDB=function(){var e=Object(fe.a)(Ee.a.mark((function e(a){var n,s,i,l,r,o,c,d,m,u,h,p,g,E,f,v,b,S,y,C,I,N,_,k,w,x,L,T,O,M,D,P;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,s=n.productLabel,i=n.intro,l=n.servings,r=n.ingredientStrings,o=n.ingredientGroupList,c=n.instructionGroupList,d=n.imgSrc,m=n.readTime,u=n.cookTime,h=n.categoryList,""!==s){e.next=4;break}return console.log("meal label blank"),e.abrupt("return");case 4:if(0!==r.length){e.next=7;break}return window.alert("Suggested meal requires adding at least one ingredient to submit"),e.abrupt("return");case 7:if(null!==d){e.next=10;break}return window.alert("You didn't add suggested meal image"),e.abrupt("return");case 10:for(p=new FormData,g=0,E=0;E<o.length;E++)null!==o[E].productImgData&&(p.append("productImgs",o[E].productImgData),g++);if(f=null,0===g){e.next=22;break}return"/getProductImgURL/",v={method:"POST",data:p,url:"/getProductImgURL/"},e.next=19,me(v);case 19:b=e.sent,console.log("UploadedImage_URL: ",b),f=b.data.productImg_paths;case 22:for(S=[],y=[],C=-1,E=0;E<o.length;E++)I={product:o[E].product,quantity:o[E].quantity,measurement:o[E].measurement},S.push(I),N="",null!==o[E].productImgData?(C++,N=f[C]):N=o[E].productImgPath,_={ingredient:o[E].product,image:N,flag:o[E].flag},y.push(_);for(k=new FormData,w=0,E=0;E<c.length;E++)null!==c[E].imgdata&&(k.append("instructionImgs",c[E].imgdata),w++);if(x=null,0===w){e.next=37;break}return"/getInstructionImgURL/",L={method:"POST",data:k,url:"/getInstructionImgURL/"},e.next=35,me(L);case 35:b=e.sent,x=b.data.instrutionImg_paths;case 37:for(T=[],O=-1,E=0;E<c.length;E++)N=null,null!==c[E].imgdata&&(O++,N=x[O]),M={step:c[E].step,image:N},T.push(M);for(D=[],E=0;E<h.length;E++)-1===t.categories.indexOf(h[E])&&D.push(h[E]);"/addMealSuggestion/",(P=new FormData).append("productLabel",s),P.append("intro",i),P.append("servings",l),P.append("product_slider",JSON.stringify(y)),P.append("formatted_ingredient",JSON.stringify(S)),P.append("instructionsGroupList",JSON.stringify(T)),P.append("ingredientStrings",r),P.append("readTime",m),P.append("cookTime",u),P.append("categoryChips",JSON.stringify(h)),P.append("newCategories",JSON.stringify(D)),P.append("imgSrc",d),me({method:"POST",data:P,url:"/addMealSuggestion/"}).then(e=>{e.status>=200&&e.status<300?(t.setState({open:!0}),console.log(e),console.log("Display Meal submitted successfully"),window.location.href="/SuggestMeal"):console.log("Somthing happened wrong")}).catch(e=>{console.log(e)});case 58:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.state={productLabel:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",ingredientStrings:[],instructionsChip:[],categoryChips:["snacks","abc","123"],productsPopulated:!1,imgSrc:null,loading_imgSrc:"",open:!1,productImgSetting_flag:!1,productImgSrc:null,productImg_path:"",product_ind:0,categoryList:[]},this.handleIngredientDropdownChange=this.handleIngredientDropdownChange.bind(this),this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.handleIngredientQuantity=this.handleIngredientQuantity.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this)}componentDidMount(){var e="/get-all-products";me.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET ALL PRODUCTS ");for(var a=0;a<t.data.length;a++)this.products.push(t.data[a].product_name),this.productsImg_path.push(t.data[a].product_image);console.log("PRINTING ALL PRODUCTS LIST"),console.log(this.products),this.setState({productsPopulated:!0})}else console.log("get all products function does not return")}).catch(e=>{console.log(e)}),e="/get-all-categories",me.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET of ALL Categories ");for(var a=0;a<t.data.length;a++)this.categories.push(t.data[a].category_name);console.log("PRINTING UPDATED CATEGORIES LIST")}else console.log("get all products function does not return")}).catch(e=>{console.log(e)})}handleAddIngredientChip(e){this.setState({ingredientStrings:[...this.state.ingredientStrings,e]})}handleAddCategoryChip(e){this.setState({categoryChips:[...this.state.categoryChips,e]})}handleAddInstructionStep(e){this.setState({instructionsChip:[...this.state.instructionsChip,e]})}handleAddCategoryStep(){console.log("FFFFFFFFFFFFFF+++++++++")}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleDeleteCategoryChip(e){var t=[...this.state.categoryChips],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({categoryChips:t}))}handleDeleteInstructionsStep(e){var t=[...this.state.instructionsChip],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({instructionsChip:t}))}handleIngredientQuantity(e){console.log(e.target.value),this.setState({currentIngredientQuantity:e.target.value})}handleIngredientMeasurement(e){e.target.value?this.setState({currentIngredientMeasurement:e.target.value}):this.setState({currentIngredientMeasurement:e.target.innerHTML})}addIngredientToMeal(e){var t;if(e.preventDefault(),""!==document.getElementById("currentIngredient").value){t=0===this.state.currentIngredientQuantity?document.getElementById("currentIngredient").value:null===document.getElementById("currentIngredientMeasurement").value?this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredient").value:this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredientMeasurement").value+" of "+document.getElementById("currentIngredient").value;var a={product:this.state.currentIngredient,quantity:this.state.currentIngredientQuantity,measurement:this.state.currentIngredientMeasurement,productImgData:this.state.productImgSrc,productImgPath:null,flag:this.state.productImgSetting_flag};this.state.productImgSetting_flag?(a.productImgPath=this.state.productImg_path,a.flag=!0):(a.productImgPath=this.productsImg_path[this.state.product_ind],a.flag=!1),this.handleAddIngredientChip(t),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,a]}),this.setState({productImgSrc:null,productImg_path:""}),this.setState({currentIngredient:"",currentIngredientQuantity:"",currentIngredientMeasurement:""})}else window.alert("Enter an ingredient to add to meal")}render(){const e=Object(lt.a)({palette:{primary:ot.a}}),t=this.state,a=t.loading_imgSrc,n=t.categoryList;return s.a.createElement("div",null,s.a.createElement("div",{style:{width:"85%",margin:"auto",backgroundColor:"#f4f4f4"}},s.a.createElement("div",{style:{padding:"20px",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement("div",{id:"title",style:{marginTop:"20px",marginBottom:"20px"}},s.a.createElement("b",null,"Suggest Product")),s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(M.a,{className:"mb-1"},s.a.createElement(D.a,{md:4},s.a.createElement(st.a,{id:"currentIngredient",options:this.products.map(e=>e),onChange:(e,t)=>this.handleIngredientDropdownChange(e,t),onInputChange:(e,t)=>this.handleProductName(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{label:"Product Name",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.currentIngredient})),s.a.createElement(D.a,{md:4,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*",id:"imgSrc",type:"file",className:"mb-2 pr-4",onChange:e=>this.onTextFieldClick(e)})),s.a.createElement(D.a,{md:4,style:{marginTop:"20px",textAlign:"center"}},s.a.createElement("img",{src:a,width:"70%",height:"auto",alt:""}))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:4},s.a.createElement(st.a,{multiple:!0,id:"tags-filled",className:"mb-2",freeSolo:!0,options:this.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:n,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),s.a.createElement("hr",null),s.a.createElement(M.a,{className:"mb-5"},s.a.createElement(D.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(rt.a,{theme:e},s.a.createElement(it.a,{variant:"contained",className:"mb-2",color:"primary",style:{color:"white"},onClick:()=>this.sendSuggestedMealToDB()}," Add Product"))))))),s.a.createElement(ct.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},s.a.createElement(dt.a,{id:"alert-dialog-title"},"Informtation"),s.a.createElement(mt.a,null,s.a.createElement(ut.a,null,"Successfully added in database"))))}}var ft=Et,vt=a(697),bt=a(350),St=a(698),yt=a(699),Ct=a(700),It=a(701),Nt=a(702),_t=a(710),kt=a(703),wt=a(690),xt=a(708),Lt=a(7),Tt=a(346),Ot=a.n(Tt),Mt=a(347),Dt=a.n(Mt),Pt=a(345),At=a.n(Pt),Ft=a(344),Rt=a.n(Ft),Ut=a(9),jt=a(696);const Gt=[{id:"_id",label:"id",minWidth:100},{id:"mealName",label:"MealName",minWi859dth:100},{id:"intro",label:"Intro",minWidth:100},{id:"servings",label:"Servings",minWidth:30},{id:"prepTime",label:"prepTime",minWidth:30},{id:"cookTime",label:"cookTime",minWidth:30},{id:"active",label:"Active",minWidth:150}],Wt=Object(Ut.a)(e=>({tooltip:{backgroundColor:"#c0dbf2",color:"#000000",boxShadow:e.shadows[1],fontSize:15,marginTop:"50px"}}))(jt.a);class Bt extends n.Component{constructor(e){var t;super(e),t=this,this.products=[],this.productsImg_path=[],this.categories=[],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb"],this.addInstructionList=()=>{if(0===this.state.instructionsChip.length)return;let e={step:this.state.instructionsChip,imgdata:this.state.instructionImgData,image:this.state.instructionImgPath};this.setState({instructionGroupList:[...this.state.instructionGroupList,e]}),this.setState({instructionsChip:[],instructionImgData:null,instructionImgPath:""})},this.updateSuggestItem=(e,t)=>{const a=e.instructions,n=[];for(let c=0;c<a.length;c++){let e={step:a[c].step,imgdata:-1,image:a[c].image};n.push(e)}this.setState({categoryList:e.categories}),this.setState({selected_id:e._id,instructionGroupList:n,suggestMealRole:t,mealLabel:e.label,intro:e.intro,servings:e.servings,loading_imgSrc:e.mealImage,formatted_ingredient:e.formatted_ingredient}),this.setState({open:!0}),this.setState({imgSrc:e.mealImage,prepTime:e.prepTime,cookTime:e.cookTime,product_slider:e.product_slider,productImgSetting_flag:!1});let s=[],i=[],l=JSON.parse(e.formatted_ingredient);console.log("Parsed ingredients"),console.log(l);for(let c=0;c<l.length;c++){var r={product:e.parsed_ingredients[c].product,quantity:e.parsed_ingredients[c].quantity,measurement:e.parsed_ingredients[c].measurement,productImgData:null,flag:!1};s.push(r);const t=e.parsed_ingredients[c];var o;o=0===t.quantity?t.product:null===t.measurement?t.quantity+" "+t.product:t.quantity+" "+t.measurement+" of "+t.product,i.push(o)}this.setState({ingredientGroupList:s}),this.setState({ingredientStrings:i})},this.onhandleInstructionImg=e=>{this.setState({instructionImgData:e.target.files[0]}),null!==e.target.files[0]&&this.setState({instructionImgPath:URL.createObjectURL(e.target.files[0])})},this.handleUpdateSubmit=Object(fe.a)(Ee.a.mark((function e(){var a,n,s,i,l,r,o,c,d,m,u,h,p,g,E,f,v,b,S,y,C,I,N,_,k,w,x,L,T,O,M,D,P,A;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.state,n=a.mealLabel,s=a.intro,i=a.servings,l=a.instructionGroupList,r=a.ingredientGroupList,o=a.ingredientStrings,c=a.imgSrc,d=a.prepTime,m=a.cookTime,u=a.selected_id,h=a.categoryList,p=new FormData,g=0,E=0;E<r.length;E++)null!==r[E].productImgData&&(p.append("productImgs",r[E].productImgData),g++);if(f=null,0===g){e.next=13;break}return"/getProductImgURL/",v={method:"POST",data:p,url:"/getProductImgURL/"},e.next=11,me(v);case 11:b=e.sent,f=b.data.productImg_paths;case 13:for(console.log("productImg_paths: ",f),S=[],y=[],C=-1,E=0;E<r.length;E++)I={product:r[E].product,quantity:r[E].quantity,measurement:r[E].measurement},S.push(I),N="",null!==r[E].productImgData?(C++,N=f[C]):N=r[E].productImgPath,_={ingredient:r[E].product,image:N,flag:r[E].flag},y.push(_);for(k=new FormData,w=0,E=0;E<l.length;E++)null!==l[E].imgdata&&-1!==l[E].imgdata&&(k.append("instructionImgs",l[E].imgdata),w++);if(x=null,0===w){e.next=29;break}return"/getInstructionImgURL/",L={method:"POST",data:k,url:"/getInstructionImgURL/"},e.next=27,me(L);case 27:b=e.sent,x=b.data.instrutionImg_paths;case 29:for(T=[],O=-1,E=0;E<l.length;E++)N=null,null!==l[E].imgdata&&-1!==l[E].imgdata?(O++,N=x[O]):-1===l[E].imgdata&&(N=l[E].image),M={step:l[E].step,image:N},T.push(M);for(D=[],E=0;E<h.length;E++)-1===t.categories.indexOf(h[E])&&D.push(h[E]);return(P=new FormData).append("id",u),P.append("mealLabel",n),P.append("intro",s),P.append("servings",i),P.append("product_slider",JSON.stringify(y)),P.append("formatted_ingredient",JSON.stringify(S)),P.append("instructionsGroupList",JSON.stringify(T)),P.append("ingredientStrings",o),P.append("prepTime",d),P.append("cookTime",m),P.append("categoryChips",JSON.stringify(h)),P.append("newCategories",JSON.stringify(D)),P.append("imgSrc",c),t.state.img_change_flag?(P.append("img_change_flag","true"),P.append("imgSrc",c)):P.set("img_change_flag","false"),"/updateSuggestItem",A={method:"POST",data:P,url:"/updateSuggestItem"},e.next=53,me(A);case 53:if(!((b=e.sent).status>=200&&b.status<300)){e.next=59;break}return console.log("Updated Meal submitted successfully"),e.abrupt("return",window.location.href="/ViewSuggestedMeals");case 59:console.log("Somthing happened wrong");case 60:case"end":return e.stop()}}),e)}))),this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onTextFieldClick=e=>{this.setState({imgSrc:e.target.files[0]}),null!==this.state.imgSrc&&(this.setState({loading_imgSrc:URL.createObjectURL(e.target.files[0])}),this.setState({img_change_flag:!0}))},this.onhandleProductImg=e=>{this.setState({productImgSrc:e.target.files[0]}),null!==e.target.files[0]&&this.setState({productImg_path:URL.createObjectURL(e.target.files[0])})},this.onHandleIngredientItem=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList;-1!==e&&(t.splice(e,1),a.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))},this.onHandleInstructionItem=e=>{const t=this.state.instructionGroupList;t.splice(e,1),this.setState({instructionGroupList:t})},this.onUpdateIngredientImg=(e,t)=>{if(null===e.target.files[0]||this.state.ingredientGroupList.length<=t)return;const a=this.state.ingredientGroupList,n=a[t];var s={product:n.product,quantity:n.quantity,measurement:n.measurement,productImgData:e.target.files[0],productImgPath:URL.createObjectURL(e.target.files[0]),flag:!0};a[t]=s,this.setState({ingredientGroupList:a})},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0]||this.state.instructionGroupList.length<=t)return;const a=this.state.instructionGroupList;let n={step:a[t].step,imgdata:e.target.files[0],image:URL.createObjectURL(e.target.files[0])};a[t]=n,this.setState({instructionGroupList:a})},this.handleIngredientDropdownChange=(e,t)=>{var a=this.products.indexOf(t);-1!==a&&this.setState({product_ind:a}),e.target.value?this.setState({currentIngredient:e.target.value}):this.setState({currentIngredient:e.target.innerHTML})},this.handleProductName=(e,t)=>{const a=this.products.map(e=>e.toLowerCase().includes(t.toLowerCase())).find(e=>!0===e);!0!==a||null===a?(this.setState({productImgSetting_flag:!0}),this.setState({currentIngredient:t})):(this.setState({productImgSetting_flag:!1}),this.setState({currentIngredient:t}))},this.handleCategoryDropdownChange=e=>{this.setState({categoryList:e})},this.onhandleSendData=()=>{fetch("./api/send-mealData",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state.selected)}).then(e=>{if(console.log(e),200===e.status)return window.location.href="/ViewSuggestedMeals"}).catch(e=>{console.log(e)})},this.handleChangePage=(e,t)=>{this.setState({page:t})},this.handleChangeRowsPerPage=e=>{this.setState({page:0}),this.setState({rowsPerPage:+e.target.value})},this.handleDeleteMealItem=e=>{var t="https://chopchowdev.herokuapp.com/api/removeSeggestItem/".concat(e._id);fetch(t).then(e=>e.json()).then(e=>(console.log("Delets item"),window.location.href="/ViewSuggestedMeals")).catch(e=>{console.log("unDelets item"),console.log(e)})},this.handleClickOpen=(e,t)=>{console.log("data is :"),console.log(e);let a=e.stepSlides;const n=[];console.log("Parsed Step Instructions: "),console.log(a),console.log("Trying to call image to display ");let s="https://chopchowdev.herokuapp.com/getOneMongoFileImage/"+e.mealImageName;this.setState({imgSrc:s}),console.log("Length of instruction data: "+a.length);for(let d=0;d<a.length;d++){console.log("i : "+d);let e=a[d].instructionChunk,t={step:e.instructionSteps,title:e.title,dataName:e.dataName};n.push(t)}this.setState({selected_id:e._id,instructionGroupList:n,suggestMealRole:t,mealLabel:e.mealName,intro:e.intro,servings:e.servings,loading_imgSrc:e.mealImage,formatted_ingredient:e.formatted_ingredient,tips:e.tips}),this.setState({open:!0});const i=e.formatted_ingredient[e.formatted_ingredient.length-1];let l=JSON.parse(e.categories);this.setState({currentIngredientMeasurement:i.measurement,currentIngredientQuantity:i.quantity,currentIngredient:i.product}),this.setState({prepTime:e.prepTime,cookTime:e.cookTime,categoryList:l,product_slider:e.product_slider,productImgSetting_flag:!1});let r=[],o=[],c=JSON.parse(e.formatted_ingredient);for(let d=0;d<c.length;d++){const e=c[d];r.push(e.properIngredientStringSyntax),o.push(null)}this.setState({ingredientStrings:r}),this.setState({ingredientData:o})},this.handleClose=()=>{this.setState({open:!1})},this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.handleSelectAllClick=e=>{if(e.target.checked){const e=this.state.mealData_list.map(e=>e._id);this.setState({selected:e})}else this.setState({selected:[]})},this.handleClick=(e,t)=>{const a=this.state.selected,n=a.indexOf(t);let s=[];-1===n?s=s.concat(a,t):0===n?s=s.concat(a.slice(1)):n===a.length-1?s=s.concat(a.slice(0,-1)):n>0&&(s=s.concat(a.slice(0,n),a.slice(n+1))),this.setState({selected:s})},this.state={mealLabel:"",intro:"",servings:0,currentIngredient:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",ingredientStrings:[],formatted_ingredient:[],instructionsChip:[],prepTime:"0 mins read",cookTime:"10 mins cook time",categoryChips:["snacks","abc","123"],productsPopulated:!1,img_change_flag:!1,selected_id:"",mealData_list:[],mealImages_list:[],specificMealImage:"",page:0,rowsPerPage:10,open:!1,suggestMealRole:"",imgSrc:"",loading_imgSrc:"",productImgSetting_flag:null,productImgSrc:null,productImg_path:"",product_ind:0,ingredientGroupList:[],selected:[],instructionGroupList:[],instructionImgData:null,instructionImgPath:"",categoryList:[],tips:""},this.handleIngredientDropdownChange=this.handleIngredientDropdownChange.bind(this),this.handleProductName=this.handleProductName.bind(this),this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.handleIngredientQuantity=this.handleIngredientQuantity.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this)}componentDidMount(){console.log("app Env files: production"),console.log("app Env var of region: "+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_S3_REGION);Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_S3_REGION,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CHOPCHOWAPP_USER_AWS_KEY,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CHOPCHOWAPP_USER_AWS_SECRET;me.get("/get-suggested-meals").then(e=>{var t=e.data;t&&0!==t.data.length?(console.log("shows products does return"),this.setState({mealData_list:t.data})):console.log("shows products do not return"),console.log(t)}).catch(e=>{console.log(e)});me.get("/get-all-categories").then(e=>{var t=e.data;if(console.log(t),t&&0!==t.data.length){console.log("returns GET of ALL Categories ");for(var a=0;a<t.data.length;a++)this.categories.push(t.data[a].category_name);console.log("PRINTING UPDATED CATEGORIES LIST")}else console.log("get all products function does not return")}).catch(e=>{console.log(e)})}handleAddIngredientChip(e){let t=this.state.ingredientStrings;t.push(e),this.setState({ingredientStrings:t})}handleAddCategoryChip(e){this.setState({categoryChips:[...this.state.categoryChips,e]})}handleAddInstructionStep(e){this.setState({instructionsChip:[...this.state.instructionsChip,e]})}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleDeleteCategoryChip(e,t){console.log("handleDeleteCategoryChip:",t)}handleDeleteInstructionsStep(e){console.log("removing chop input");var t=[...this.state.instructionsChip],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({instructionsChip:t}))}handleIngredientQuantity(e){console.log(e.target.value),this.setState({currentIngredientQuantity:e.target.value})}handleIngredientMeasurement(e){e.target.value?this.setState({currentIngredientMeasurement:e.target.value}):this.setState({currentIngredientMeasurement:e.target.innerHTML})}addIngredientToMeal(e){var t;if(e.preventDefault(),console.log(this.state.currentIngredientMeasurement),""!==document.getElementById("currentIngredient").value){t=0===this.state.currentIngredientQuantity?document.getElementById("currentIngredient").value:null===document.getElementById("currentIngredientMeasurement").value?this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredient").value:this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredientMeasurement").value+" of "+document.getElementById("currentIngredient").value;var a={product:this.state.currentIngredient,quantity:this.state.currentIngredientQuantity,measurement:this.state.currentIngredientMeasurement,productImgData:this.state.productImgSrc,productImgPath:null,flag:this.state.productImgSetting_flag};this.state.productImgSetting_flag?(a.productImgPath=this.state.productImg_path,a.flag=!0):(a.productImgPath=this.productsImg_path[this.state.product_ind],a.flag=!1),this.handleAddIngredientChip(t),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,a]}),this.setState({productImgSrc:null,productImg_path:""})}else window.alert("Enter an ingredient to add to meal")}render(){console.log("this.state.instructionGroupList: ",this.state.instructionGroupList);var e=[],t=1;for(let _=0;_<this.state.instructionGroupList.length;_++){0!==_&&(t+=this.state.instructionGroupList[_-1].step.length);let a="";a=/(\.mp4|\.m4v|\.)$/i.exec(this.state.instructionGroupList[_].dataName)?s.a.createElement("video",{id:"instructionVideo"+_,controls:!0},s.a.createElement("source",{src:"https://meal-chunk-images-and-videos.s3.us-west-1.amazonaws.com/"+this.state.instructionGroupList[_].dataName,type:this.state.instructionGroupList[_].mimetype})):/(\.jpg|\.jpeg|\.png|\.)$/i.exec(this.state.instructionGroupList[_].dataName)?s.a.createElement("img",{id:"instructionImg"+_,src:"https://meal-chunk-images-and-videos.s3.us-west-1.amazonaws.com/"+this.state.instructionGroupList[_].dataName,alt:this.state.instructionGroupList[_].dataName}):s.a.createElement("img",{id:"instructionImg"+_,src:"public/images/meal_pics/chopchow_default_instruction.png",alt:"chop chop image"}),e.push(s.a.createElement("div",{key:_,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(M.a,{style:{justifyContent:"flex-end"}},s.a.createElement("i",{className:"fa fa-remove",style:{fontSize:"50%",marginTop:"0px",marginRight:"15px"},onClick:()=>this.onHandleInstructionItem(_)})),s.a.createElement(M.a,null,s.a.createElement(D.a,{md:4,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"mdc-list"},this.state.instructionGroupList[_].step.map((e,a)=>s.a.createElement("div",{className:"mdc-list-item",key:a},s.a.createElement("span",{className:"mdc-list-item__text"},a+t,".",s.a.createElement("span",{className:"mdc-list-item__text"}," ",e)))))),s.a.createElement(D.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:this.state.instructionGroupList[_].imgpath,width:"auto",height:"150px",alt:""}),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2, ml-3",value:this.state.mealImage,onChange:e=>this.onUpdateInstructionImg(e,_)})),s.a.createElement(D.a,{md:4,className:"mb-2"})),s.a.createElement(M.a,null,s.a.createElement("br",null),a)))}const a=this.props.classes,n=this.state,i=n.mealData_list,l=n.page,r=n.rowsPerPage,o=n.open,c=n.suggestMealRole,d=n.loading_imgSrc,m=n.categoryList,u=n.imgSrc,h=this.state,p=h.mealLabel,g=h.intro,E=h.currentIngredient,f=h.currentIngredientQuantity,v=h.currentIngredientMeasurement,b=h.prepTime,S=h.cookTime,y=h.servings,C=Object(lt.a)({palette:{primary:ot.a}}),I=this.state.selected.length,N=i?i.length:0;return s.a.createElement("div",{className:a.root,style:{boxShadow:"2px 2px 8px 0px #a0a0a0"}},s.a.createElement(vt.a,{className:Object(Lt.default)(a.root,{[a.highlight]:I>0})},I>0?s.a.createElement(bt.a,{className:a.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontSize:"16px",fontWeight:"600",marginRight:"20px",color:"blue"}}," ",I," selected"):s.a.createElement(bt.a,{className:a.title,variant:"h6",id:"tableTitle",component:"div"},"None Selected  "),I>0?s.a.createElement(it.a,{variant:"outlined",color:"primary",endIcon:s.a.createElement(Rt.a,null),onClick:this.onhandleSendData},"Send"):null),s.a.createElement(St.a,{className:a.container},s.a.createElement(yt.a,{stickyHeader:!0,"aria-label":"sticky table"},s.a.createElement(Ct.a,null,s.a.createElement(It.a,null,s.a.createElement(Nt.a,{padding:"checkbox"},s.a.createElement(_t.a,{indeterminate:I>0&&I<N,checked:N>0&&I===N,onChange:this.handleSelectAllClick,inputProps:{"aria-label":"select all desserts"}})),Gt.map(e=>s.a.createElement(Nt.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,fontSize:"15x",fontWeight:"600",padding:"10px 5px"}},e.label)))),s.a.createElement(kt.a,null,i&&i.slice(l*r,l*r+r).map((e,t)=>{const a=(e=>-1!==this.state.selected.indexOf(e))(e._id),n="enhanced-table-checkbox-".concat(t);return s.a.createElement(It.a,{hover:!0,onClick:t=>this.handleClick(t,e._id),role:"checkbox","aria-checked":a,tabIndex:-1,key:e._id,selected:a},s.a.createElement(Nt.a,{padding:"checkbox"},s.a.createElement(_t.a,{checked:a,inputProps:{"aria-labelledby":n}})),Gt.map(t=>{if("active"===t.id)return s.a.createElement(Nt.a,{key:t.id,style:{padding:"0px 0px"}},s.a.createElement(Wt,{title:"  View  ",placement:"top"},s.a.createElement(wt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>this.handleClickOpen(e,"moreView")},s.a.createElement(At.a,null))),s.a.createElement(Wt,{title:"  Update  ",placement:"top"},s.a.createElement(wt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>this.updateSuggestItem(e,"edit")},s.a.createElement(Ot.a,{style:{color:"green"}}))),s.a.createElement(Wt,{title:"  Delete  ",placement:"top"},s.a.createElement(wt.a,{color:"secondary","aria-label":"upload picture",component:"span",onClick:()=>this.handleDeleteMealItem(e)},s.a.createElement(Dt.a,null))));{const a=e[t.id];return s.a.createElement(Nt.a,{key:t.id,style:{padding:"5px 5px"}},a)}}))})))),s.a.createElement(xt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:N,rowsPerPage:r,page:l,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),s.a.createElement(ct.a,{open:o,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"lg",fullWidth:!0},s.a.createElement(dt.a,{id:"alert-dialog-title"},"moreView"===c?"Suggest Meal":"Update Meal"),s.a.createElement(mt.a,null,s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:4},s.a.createElement(tt.a,{id:"mealLabel",fullWidth:!0,onChange:this.onTextFieldChange,label:"Meal Name",required:!0,variant:"filled",className:"mb-3",value:p}),s.a.createElement(tt.a,{multiline:!0,id:"intro",fullWidth:!0,onChange:this.onTextFieldChange,label:"Intro",variant:"filled",className:"mb-3",value:g})),s.a.createElement(D.a,{md:4,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*",id:"imgSrc",type:"file",className:"mb-2 pr-4",onChange:e=>this.onTextFieldClick(e)}),s.a.createElement("img",{src:u,width:"100%"})),s.a.createElement(D.a,{md:4,style:{marginTop:"20px",textAlign:"center"}},s.a.createElement("img",{src:d,width:"70%",height:"auto",alt:""}))),s.a.createElement("hr",null),s.a.createElement(M.a,{className:"mb-2"},s.a.createElement(D.a,{md:12},s.a.createElement(nt.a,{label:"IngredientsList",value:this.state.ingredientStrings,onAdd:e=>this.handleAddIngredientChip(e),placeholder:"e.g 1 Onion, 2 Cups of Water, etc",onDelete:(e,t)=>this.handleDeleteIngredientChip(e,t),variant:"filled",fullWidth:!0,className:"mb-2"}))),this.state.ingredientGroupList&&this.state.ingredientGroupList.map((e,t)=>s.a.createElement("div",{key:t,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(M.a,{style:{justifyContent:"flex-end"}},s.a.createElement("i",{className:"fa fa-remove",style:{fontSize:"50%",marginTop:"0px",marginRight:"15px"},onClick:()=>this.onHandleIngredientItem(t)})),s.a.createElement(M.a,null,s.a.createElement(D.a,{md:5,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"card-ingredient-content"},s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"1. Product \u2003\u2003\xa0 :")," ",e.product),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"2. Quantity\u2003\u2003 :")," ",e.quantity),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"3. Measurement:")," ",e.measurement),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2 ml-3 mt-3 ",onChange:e=>this.onUpdateIngredientImg(e,t)}))),s.a.createElement(D.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:e.productImgPath,width:"auto",height:"150px",alt:""})),s.a.createElement(D.a,{md:3,className:"mb-2"})))),s.a.createElement(M.a,{className:"mb-1"},s.a.createElement(D.a,{md:4},s.a.createElement(st.a,{id:"currentIngredient",options:this.products.map(e=>e),onChange:(e,t)=>this.handleIngredientDropdownChange(e,t),onInputChange:(e,t)=>this.handleProductName(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{label:"Ingredient..",variant:"filled"})),fullWidth:!0,className:"mb-3",value:E}),s.a.createElement(tt.a,{fullWidth:!0,id:"currentIngredientQuantity",type:"number",onChange:this.onTextFieldChange,label:"Quantity",variant:"filled",placeholder:"1..",className:"mb-3",value:f})),s.a.createElement(D.a,{md:4},this.state.productImgSetting_flag?s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mt-3 mb-4",onChange:e=>this.onhandleProductImg(e)}):s.a.createElement("div",{style:{marginTop:"70px"}}),s.a.createElement(st.a,{id:"currentIngredientMeasurement",options:this.measurements.map(e=>e),value:v,onChange:this.handleIngredientMeasurement,freeSolo:!0,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{label:"Measurement..",variant:"filled"})),className:"mb-3"})),s.a.createElement(D.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(it.a,{variant:"contained",color:"primary",disableRipple:!0,onClick:this.addIngredientToMeal,style:{color:"white"},className:"mb-3"}," Add Ingredient"))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(tt.a,{id:"servings",fullWidth:!0,type:"number",onChange:this.onTextFieldChange,label:"Servings",variant:"filled",className:"mb-2",placeholder:"1 person, 2, 4 or 10 people",style:{marginTop:"10px"},value:y})),s.a.createElement(D.a,{md:4,style:{textAlign:"center",margin:"auto"}}," "),s.a.createElement(D.a,{md:4,style:{textAlign:"center",margin:"auto"}}," ")),s.a.createElement("hr",null),e,s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:12},s.a.createElement(nt.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionsChip,onAdd:e=>this.handleAddInstructionStep(e),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,t),variant:"filled"}))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:4,className:"mb-2"},s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e)})),s.a.createElement(D.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(it.a,{variant:"contained",color:"primary",disableRipple:!0,style:{color:"white",width:"300px"},className:"mb-3",onClick:this.addInstructionList}," ADD NEW INSTRUCTION SET")),s.a.createElement(D.a,{md:4}," ")),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:4},s.a.createElement(tt.a,{id:"prepTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"prepTime (mins)",variant:"filled",required:!0,value:b})),s.a.createElement(D.a,{md:4},s.a.createElement(tt.a,{id:"cookTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"CookTime (mins)",variant:"filled",required:!0,value:S})),s.a.createElement(D.a,{md:4},s.a.createElement(st.a,{multiple:!0,id:"tags-standard",className:"mb-2",freeSolo:!0,options:this.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:m,renderInput:e=>s.a.createElement(tt.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),"moreView"!==c&&s.a.createElement(M.a,{className:"mb-5"},s.a.createElement(D.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(rt.a,{theme:C},s.a.createElement(it.a,{variant:"contained",className:"mb-2",color:"primary",size:"small",style:{color:"white"},onClick:()=>this.handleUpdateSubmit()}," Update Meal")))),s.a.createElement(M.a,{className:"mb-3"},s.a.createElement(D.a,{md:12},s.a.createElement(nt.a,{label:"Tips",className:"mb-2",fullWidth:!0,value:this.state.tips,variant:"filled"})))))))}}var Ht=Object(Ut.a)(e=>({button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},root:{width:"95%",margin:"auto",marginTop:"20px"},container:{maxHeight:440}}))(Bt),zt=a(229),Vt=a.n(zt),qt=a(348),Qt=a.n(qt);class Kt extends s.a.Component{constructor(){super(),this.handleOnClickItems=(e,t)=>{"suggest"===e&&"admin"===t?this.props.history.push("/ViewSuggestedMeals"):this.setState({open:!0})},this.handleClose=()=>{this.setState({open:!1})},this.state={open:!1}}render(){const e=window.localStorage.getItem("userRole");return console.log("yyy:",e),s.a.createElement(O.a,{className:"admin-page"},s.a.createElement(M.a,null,s.a.createElement(D.a,{md:12,className:"admin-title-region"},s.a.createElement("div",{className:"admin-title"},s.a.createElement("div",{style:{width:"100%"}},"Admin Dashboard"))),s.a.createElement(D.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card"},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"INVENTORY")),s.a.createElement("img",{src:Vt.a,className:"admin-item-img",alt:""}))),s.a.createElement(D.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card"},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"ORDERS")),s.a.createElement("img",{src:Vt.a,className:"admin-item-img",alt:""}))),s.a.createElement(D.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card",id:"suggest_admin",onClick:()=>this.handleOnClickItems("suggest",e)},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"MEAL SUGGESTIONS/SUPPORT")),s.a.createElement("img",{src:Qt.a,className:"admin-item-img",alt:""})))),s.a.createElement(M.a,{className:"admin-items-section"}),s.a.createElement(ct.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0},s.a.createElement(dt.a,{id:"alert-dialog-title"},"Informtation"),s.a.createElement(mt.a,null,s.a.createElement(ut.a,null,"Only admin user can open"))))}}var Jt=Object(r.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),()=>({}))(Object(c.g)(Kt));a(643).config();class Yt extends n.Component{constructor(e){super(e),this.allMealNames=[],this.productNames=["Spinach","Brown Beans","Ijebu Garri","Honey Beans","Kale","Water","Squash Potatoes","Oregano","Cashews","Palm Oil","Pineapple","Onions","Flour","Butter","Sugar","Hawaiian Bread","Avocados","Tomatoes"],this.productImageLink=[],this.categories=["Baking","Cooking","Home","Ethiopian","Quick-Meal"],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb","qt","gallon","dash/pinch","Leaves","cloves","cubes","Large","medium","small"],this.kitchenUtensils=["Baking Sheet","Colander","Cooking Oil","Cutting Board","Fridge","Knife Set","Mixing Bowls","Pot","Pan","Peeler","Thermometer","Wire Mesh","Zester"],this.availableLocations=["African Carribean Market","Abule","Scotch Bonnet Restaurant","Ralphs","Target","Walmart","Vons"],this.groceryList=[],this.locationAddressComponent=[],this.handleLogout=this.handleLogout.bind(this),this.state={suggestMealPopOver:!1,isAuthenticated:!1,customerId:null}}componentWillReceiveProps(e){e.token&&(me.defaults.headers.common.Authorization="Bearer "+e.token),e.token&&!e.authUser&&this.props.getUser()}componentDidMount(){console.log("Comes in app.js's component did mount");var e=window.localStorage.getItem("userToken");"null"!==e&&""!==e&&e&&(me.defaults.headers.common.Authorization="Bearer "+e,this.props.getUser())}handleLogout(){window.localStorage.setItem("userToken",null);fetch("/api/logout",{method:"GET",credentials:"same-origin",headers:{"Content-type":"application/json"}}).then(e=>{e.json().then(e=>{"success"===e.data&&(console.log("comes to turn off authentication state"),this.setState({isAuthenticated:!1}))})}).catch(e=>{console.log("fails to authenticate app page"),console.log(e)}),this.setState({isAuthenticated:!1}),window.location.reload(!1)}render(){const e=this.props.customer_id;var t=window.localStorage.getItem("userRole");return s.a.createElement("div",null,s.a.createElement(T,null),s.a.createElement(c.d,null,s.a.createElement(c.b,{exact:!0,path:"/login",render:()=>s.a.createElement(Ge,{openFlag:!0})}),s.a.createElement(c.b,{exact:!0,path:"/admin",render:a=>void 0!==e&&"admin"===t?s.a.createElement(Jt,a):s.a.createElement(c.a,{to:{pathname:"#"}})}),s.a.createElement(c.b,{exact:!0,path:"/signup",render:e=>s.a.createElement(Ze,e)}),s.a.createElement(c.b,{exact:!0,path:"/resetpass",render:e=>s.a.createElement(et,e)}),s.a.createElement(c.b,{exact:!0,path:"/forgotpass",render:e=>s.a.createElement(Xe,e)}),s.a.createElement(c.b,{exact:!0,path:"/",render:e=>s.a.createElement(q,e)}),s.a.createElement(c.b,{path:"/home",render:e=>s.a.createElement(q,e)}),s.a.createElement(c.b,{path:"/v2",render:()=>s.a.createElement(he,null)}),s.a.createElement(c.b,{path:"/v3",render:()=>s.a.createElement(xe,null)}),s.a.createElement(c.b,{exact:!0,path:"/grocery",render:()=>void 0!==e||"null"!==e?s.a.createElement(Je,null):s.a.createElement(c.a,{to:{pathname:"#"}})}),s.a.createElement(c.b,{path:"/products",render:e=>s.a.createElement(Ae,null)}),s.a.createElement(c.b,{exact:!0,path:"/SuggestProduct",render:t=>(console.log("Customer Id:",e),s.a.createElement(ft,null))}),s.a.createElement(c.b,{exact:!0,path:"/SuggestMeal",render:t=>(console.log("Customer Id:",e),s.a.createElement(gt,{productNames:this.productNames,allMealNames:this.allMealNames,measurements:this.measurements,kitchenUtensils:this.kitchenUtensils,categories:this.categories}))}),s.a.createElement(c.b,{exact:!0,path:"/ViewSuggestedMeals",render:e=>s.a.createElement(Ht,null)})),s.a.createElement(P,null))}}const $t={setInitUrl:e=>({type:"init_url",payload:e}),getUser:()=>e=>{e({type:"fetch_start"}),me.get("/authenticate-app-page").then(({data:t})=>{console.log(" ___ getUser RESPONSE ___ ",t),e({type:"fetch_success"}),e({type:"user_data",payload:t.username}),e({type:"customer_id",payload:t.data})}).catch(t=>{console.error("xxx getUser Request ERROR xxx",t),e({type:"fetch_error",payload:"Error during get me request with this token"}),e({type:"signout_user_success"})})}};var Zt=Object(r.c)(({auth:e})=>{const t=e.authUser,a=e.token;return{authUser:t,role:e.role,token:a,customer_id:e.customer_id}},$t)(Yt);const Xt=function(e){var t;return Object(d.e)((t=y,Object(d.c)({router:Object(m.a)(t),auth:p,commonData:E})),e,N(Object(d.a)(...I)))}();var ea=()=>s.a.createElement(r.a,{store:Xt},s.a.createElement(o.a,{history:y},s.a.createElement(c.d,null,s.a.createElement(c.b,{path:"/",render:e=>s.a.createElement(Zt,e)}))));a(646);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(o.a,null,s.a.createElement(ea,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},71:function(e,t,a){e.exports=a.p+"static/media/no_meal_step_image.da8c3317.png"}},[[367,1,2]]]);
//# sourceMappingURL=main.52199708.chunk.js.map