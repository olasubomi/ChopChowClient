(this.webpackJsonpchop_chow_sd=this.webpackJsonpchop_chow_sd||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/no_meal_step_image.da8c3317.png"},190:function(e,t,a){e.exports=a.p+"static/media/ola_ola_palm_oil.70ad3e22.jpg"},275:function(e,t,a){e.exports=a.p+"static/media/food_prep.920586b2.jpg"},276:function(e,t,a){e.exports=a.p+"static/media/grocery_bag.6702032b.jpg"},305:function(e,t,a){e.exports=a(555)},310:function(e,t,a){},316:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},526:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){},530:function(e,t,a){},531:function(e,t,a){},553:function(e,t,a){},555:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),l=a.n(r),i=(a(310),a(29)),o=a(14),c=a(20),m=a(58),d=a(183),u=a(45);const h={token:JSON.parse(localStorage.getItem("token")),initURL:"",authUser:null};var g=(e=h,t)=>{switch(t.type){case"init_url":return Object(u.a)({},e,{initURL:t.payload});case"signout_user_success":return Object(u.a)({},e,{token:null,authUser:null,initURL:""});case"user_data":return Object(u.a)({},e,{authUser:t.payload});case"user_token_set":return Object(u.a)({},e,{token:t.payload});case"user_role_set":return Object(u.a)({},e,{role:t.payload});case"customer_id":return Object(u.a)({},e,{customer_id:t.payload});default:return e}};const p={loading:!1,status:!1,message:"",error:""};var E=(e=p,t)=>{switch(t.type){case"fetch_start":return Object(u.a)({},e,{loading:!0,error:"",message:""});case"fetch_success":return Object(u.a)({},e,{status:!0,loading:!1,message:t.payload||"",error:""});case"fetch_error":return Object(u.a)({},e,{status:!1,loading:!1,message:"",error:t.payload||""});default:return e}},f=a(32),b=a(203),v=a(189),y=a(273);const S=Object(f.a)(),I=Object(b.a)(S);let N=[v.a,I,Object(y.createLogger)()];N=[v.a,I];const C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d;var _=a(84),x=a.n(_),w=(a(316),a(18)),L=a.n(w);class k extends n.Component{constructor(e){super(e),this.CustomToggle=s.a.forwardRef(({children:e,onClick:t},a)=>s.a.createElement("a",{href:"/",ref:a,onClick:e=>{e.preventDefault(),t(e)}},e,"\u25bc")),this.updateLogInStatus=this.updateLogInStatus.bind(this),this.handleLogout=this.handleLogout.bind(this),this.state={suggestMealPopOver:!1,base_index:0,topNav_className:"w3-bar w3-dark-grey w3-green topnav",isAuthenticated:!1,customerId:null,username:null}}updateLogInStatus(e,t){console.log("updates log in status before"),this.setState({isAuthenticated:!0}),this.setState({customerId:e}),this.setState({username:t}),console.log("updates log in status after"),console.log("customerID is:"+e)}handleLogout(e){if("6"===e){window.localStorage.setItem("userToken",null),window.localStorage.setItem("userRole",null);fetch("https://chopchowdev.herokuapp.com/api/logout",{method:"GET",credentials:"same-origin",headers:{"Content-type":"application/json"}}).then(e=>{e.json().then(e=>{console.log("logout response is:"),console.log(e),console.log("should print body"),console.log(e.data),"success"===e.data&&(console.log("comes to turn off authentication state"),this.setState({isAuthenticated:!1}))})}).catch(e=>{console.log("fails to authenticate app page"),console.log(e)}),this.setState({isAuthenticated:!1}),window.location.reload(!1)}else"4"===e&&this.props.history.push("/SuggestMeal")}handleDashborad(){this.props.history.push("/admin")}render(){const e=this.props.authUser;function t(){var e=document.getElementById("mobileNavbar");console.log(e),"mobileNavbar"===e.className?e.className+=" visible":e.className="mobileNavbar"}var a,n;return this.props.status?(a=s.a.createElement("li",{className:"nav-item"},s.a.createElement(L.a,{alignRight:!0},s.a.createElement(L.a.Toggle,{as:this.CustomToggle,id:"dropdown-custom-components"},e),s.a.createElement(L.a.Menu,null,s.a.createElement(L.a.Item,{eventKey:"1",onSelect:(e,t)=>this.handleDashborad()},"Profile"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"2",onSelect:(e,t)=>this.handleDashborad()}," Dashboard/orders"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"3",onSelect:(e,t)=>this.handleDashborad()},"Support"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"4",onSelect:(e,t)=>this.handleLogout(e)},"Suggest Meal"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"5",onSelect:(e,t)=>this.handleDashborad()},"Switch to driver mode"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"6",onSelect:(e,t)=>this.handleLogout(e)},"Log out")))),n=s.a.createElement("li",{className:"nav-item"},s.a.createElement(L.a,null,s.a.createElement(L.a.Toggle,{className:"user-item",as:this.CustomToggle,id:"dropdown-custom-components"},e),s.a.createElement(L.a.Menu,null,s.a.createElement(L.a.Item,{eventKey:"1",onSelect:(e,t)=>this.handleDashborad()},"Profile"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"2",onSelect:(e,t)=>this.handleDashborad()}," Dashboard/orders"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"3",onSelect:(e,t)=>this.handleDashborad()},"Support"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"4",onSelect:(e,t)=>this.handleLogout(e)},"Suggest Meal"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"5",onSelect:(e,t)=>this.handleDashborad()},"Switch to driver mode"),s.a.createElement(L.a.Divider,null),s.a.createElement(L.a.Item,{eventKey:"6",onSelect:(e,t)=>this.handleLogout(e)},"Log out"))))):(a=s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/login",className:"nav-link px-2"},"Log In / Register ")),n=s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/login",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Log In / Register"))),s.a.createElement("div",{className:"header-wraper"},s.a.createElement("nav",{className:"navbar navbar-expand-md fixed-top-sm justify-content-start flex-nowrap navbar-light",style:{backgroundColor:"#FFFFFF",borderBottom:"1px solid #fd7e14"}},s.a.createElement("div",{className:"header-panel w-100"},s.a.createElement("div",{className:"header-left "},s.a.createElement(o.b,{to:"/",className:"logo_tag navbar-brand "},s.a.createElement("img",{src:x.a,width:"60px",alt:""})),s.a.createElement("div",{className:" form-inline navbar-first",style:{padding:"14px 16px"}},s.a.createElement("div",{className:"input-group "},s.a.createElement("input",{className:"form-control ",placeholder:"Search meal or category"}),s.a.createElement("span",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",style:{backgroundColor:"#fd7e14",borderColor:"#fd7e14"}},s.a.createElement("i",{className:"fa fa-search",style:{color:"#FFFFFF"}})))))),s.a.createElement("div",{className:"header-right navbar-first"},s.a.createElement("ul",{className:"navbar-nav flex-row"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/grocery",className:"nav-link px-3"},"Grocery List")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.b,{to:"/SuggestMeal",className:"nav-link px-3"},"Suggest Meal")),a))),s.a.createElement(o.b,{to:"#",className:"icon navbar-toggle",onClick:()=>{console.log("Comes thru here"),t()}},s.a.createElement("i",{className:"fa fa-bars",style:{color:"#AAAAAA",right:"1%"}}))),s.a.createElement("div",{className:"mobileNavbar",id:"mobileNavbar",style:{display:"none"}},s.a.createElement("div",{className:"mobileNavbar-menu"},s.a.createElement("span",{className:"input-group-append",style:{marginTop:"23px",marginRight:"15px",justifyContent:"flex-end"}},s.a.createElement(o.b,{to:"#",className:"icon navbar-toggle",onClick:()=>{console.log("Comes thru here"),t()}},s.a.createElement("i",{className:"fa fa-bars",style:{color:"white",marginLeft:"10px",padding:"10px 17px"}}))),s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{style:{padding:"5px 16px",borderBottom:"1px solid #FFFFFF"}},s.a.createElement("div",{className:"search_bar"},s.a.createElement("form",null,s.a.createElement("input",{className:"form-control",placeholder:"Search meal or category",style:{backgroundColor:"#fd7e14",border:"1px solid #FFFFFF"}}),s.a.createElement("span",{className:"search_bar__icon"},s.a.createElement("div",{className:"btn btn-outline-secondary",style:{backgroundColor:"#FFFFFF",borderColor:"#fd7e14"}},s.a.createElement("i",{className:"fa fa-search ",style:{color:"#fd7e14"}})))))),n,s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/grocery",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Grocery List")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px",borderBottom:"1px solid #FFFFFF"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Shoping Cart")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Home")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2",style:{color:"#FFFFFF"}}," Products ")),s.a.createElement("li",{className:"nav-item",style:{padding:"14px 16px"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2",style:{color:"#FFFFFF"}},"Receipes"))))),s.a.createElement("nav",{className:"navbar navbar-expand-md  navbar-light navbar-second",style:{backgroundColor:"#EEEEEE"}},s.a.createElement("div",{className:"navbar-collapse collapse pt-2 pt-md-0",id:"navbar2"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item active",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/home",className:"nav-link px-2"}," Home ")),s.a.createElement("li",{className:"nav-item",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"}," Products ")),s.a.createElement("li",{className:"nav-item",style:{marginRight:"50%"}},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2"}," Receipes "))))))}}var T=Object(i.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),()=>({}))(Object(c.g)(k)),D=a(585),F=a(586),P=a(274);a(331);var A=()=>s.a.createElement(D.a,{className:"footer-wraper"},s.a.createElement(F.a,{style:{width:"100%"}},s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100%"}}),s.a.createElement(P.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Services")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Recipes")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"GroceryList")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Food Products")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Kitchen Products")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Household Products"))),s.a.createElement(P.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Resources")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Login/ My Account")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Sign Up")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Supplier Home")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Shipping + Returns")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"FAQ + Support")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!"},"Contact"))),s.a.createElement(P.a,{md:3,className:"footer-colmun"},s.a.createElement("h6",{className:"text-uppercase font-weight-bold",style:{color:"gray"}},s.a.createElement("strong",null,"Company")),s.a.createElement("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"100px"}}),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," About Us")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Careers")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Partner")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Terms of Service")),s.a.createElement("p",null,s.a.createElement("a",{href:"#!",className:"fa mr-3"}," Privacy Policy"))),s.a.createElement(P.a,{md:3,className:"footer-colmun",style:{textAlign:"center"}},s.a.createElement("img",{src:x.a,width:"100px",alt:""}),s.a.createElement("div",{className:"logo-text"},"Adding convenience to home made mealsTM"),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement("i",{className:"fa fa-facebook-square m-2","aria-hidden":"true",style:{fontSize:"30px"}}),s.a.createElement("i",{className:"fa fa-instagram m-2","aria-hidden":"true",style:{fontSize:"30px"}})),s.a.createElement("div",{className:""}," \xa9 ",(new Date).getFullYear()," Copyright:"," ",s.a.createElement("a",{href:"https://www.awokorpenterprises.com"}," ChopChowSD "))))),O=a(275),M=a.n(O);a(332);class R extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement("div",{style:{height:"510px",verticalAlign:"top",backgroundImage:"url(".concat(M.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundSize:"cover"}},s.a.createElement("div",{className:"banner_spacing"}),s.a.createElement("p",{className:"banner_text"},s.a.createElement("b",null,"WELL-ESTABLISHED",s.a.createElement("br",null),"LOCAL AND",s.a.createElement("br",null),"INTERNATIONAL",s.a.createElement("br",null),"FOOD SUPPLIERS",s.a.createElement("br",null),s.a.createElement("u",null,s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"},"LEARN MORE"))))))}}var G=R,U=a(276),j=a.n(U);a(333);class W extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement("div",{style:{height:"510px",verticalAlign:"top",backgroundImage:"url(".concat(j.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundSize:"cover"}},s.a.createElement("div",{className:"banner2_spacing"}),s.a.createElement("div",{className:"banner2container"},s.a.createElement("p",{className:"banner2_text"},s.a.createElement("b",null,"HOME COOK",s.a.createElement("br",null),"INTERNATIONAL FOODS",s.a.createElement("br",null),s.a.createElement("button",{class:"banner2_button"},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"},"SEE RECIPES")))))))}}var z=W;a(334);class B extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"homepage_button",onClick:"./v2"},s.a.createElement(o.b,{to:"/v2",className:"nav-link px-2"},"RECIPES")),s.a.createElement("button",{className:"homepage_button"},s.a.createElement(o.b,{to:"/products",className:"nav-link px-2"},"PRODUCTS"))))}}var q=B;class H extends n.Component{constructor(e){super(e),this.state={product_fetched:!1}}render(){return s.a.createElement("div",null,s.a.createElement(G,null),s.a.createElement("br",null),s.a.createElement(q,null),s.a.createElement("br",null),s.a.createElement(z,null))}}var Q=H,J=a(610),V=a(615),K=(a(154),a(335),a(587)),Y=a(589),$=a(123),Z=a.n($);class X extends n.Component{constructor(e){super(e),this.state={modalIsOpen:!1,increment:0,checked:!1,base_index:0,index:0},this.handleSelect=this.handleSelect.bind(this),this.updateInstructionsDisplayBaseIndex=this.updateInstructionsDisplayBaseIndex.bind(this)}handleSelect(e){this.setState({index:e+1})}updateInstructionsDisplayBaseIndex(e){console.log(e.target.innerText);var t=e.target.innerText.slice(6,7),a=Number(t);this.setState({base_index:3*a})}render(){const e=this.props.instructionData;var t,a=[],n=1;for(t=0;t<e.length;t++){const r=e[t].step;0!==t&&(n+=e[t-1].step.length),a.push(s.a.createElement(V.a.Item,{key:t,style:{height:"300px"},className:"instruction_slider_page"},s.a.createElement(K.a,{style:{maxHeight:200,overflow:"auto"},className:"mealPrepChunk"},s.a.createElement(Y.a,null,s.a.createElement("div",{className:"ml-2"},r.map((e,t)=>s.a.createElement("div",{key:t},t+n,". ",e,s.a.createElement("p",null)))),s.a.createElement("p",null),s.a.createElement("img",{className:"img-responsive imageHeighgt",src:null!==e[t].image?e[t].image:Z.a,alt:"First slide",style:{height:"auto",width:"80%",marginLeft:"10%"}})))))}return s.a.createElement("div",null,s.a.createElement("b",null,"Instructions"),s.a.createElement("br",null),s.a.createElement(V.a,{className:"instruction-slider",onSelect:this.handleSelect,interval:null},a))}}var ee=X,te=a(130);a(345),a(346);const ae=[1,2];class ne extends n.Component{constructor(e){super(e),this.decrease=()=>{this.state.increment>0&&this.setState(e=>({increment:e.increment-1}))},this.onClick=(e,t)=>{this.setState({checked:!this.state.checked})},this.increase=()=>{this.setState({increment:this.state.increment+1})},this.state={modalIsOpen:!1,increment:0,checked:!1,index:0},this.openModal=this.openModal.bind(this),this.handleSelect=this.handleSelect.bind(this),this.closeModal=this.closeModal.bind(this)}openModal(){this.props.func_setMealFlag(),this.setState({modalIsOpen:!0})}closeModal(){this.setState({modalIsOpen:!1}),this.props.func_removeMealFlag()}handleSelect(e,t){this.setState({index:e})}render(){const e=this.props,t=e.value,a=e.mealPrep,n=e.ingredientsList;return s.a.createElement(s.a.Fragment,null,s.a.createElement(J.a,{show:this.state.modalIsOpen,onHide:this.closeModal,dialogClassName:"modal-90w",centered:!0},s.a.createElement(J.a.Header,{closeButton:!0,style:{borderBottom:"30px",padding:"0px"}}),s.a.createElement(J.a.Body,{style:{padding:"0px"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row",style:{width:"100%"}},s.a.createElement("div",{className:"detail-firstCol col-md-5 col-sm-12"},s.a.createElement(te.Carousel,{showThumbs:!1,infiniteLoop:!1,style:{width:"96%"}},ae.map(e=>s.a.createElement("img",{style:{height:"250px"},alt:"pp",key:e,src:t.mealImage}))),s.a.createElement("br",null),s.a.createElement("div",{className:"col-md-12 col-xs-12"},s.a.createElement("h3",null," ",t.label),s.a.createElement("div",null,t.readTime," mins read | ",t.cookTime," mins to prepare"),s.a.createElement("div",null,s.a.createElement("button",{style:{backgroundColor:"grey",color:"white"}},"Compare items")),s.a.createElement("br",null))),s.a.createElement("div",{className:"col-md-6 col-xs-12"},s.a.createElement("div",{className:"row col-md-6 col-xs-12",style:{width:"100%"}}," Meal Quantity \xa0",s.a.createElement("div",{className:"def-number-input number-input",style:{backgroundColor:"lightgrey"}},s.a.createElement("button",{onClick:this.decrease,className:"minus"}),s.a.createElement("input",{className:"quantity",name:"quantity",value:this.state.increment,onChange:()=>console.log("change"),type:"number"}),s.a.createElement("button",{onClick:this.increase,className:"plus"}))),s.a.createElement("br",null),s.a.createElement("div",{className:"row col-md-6 col-sm-12"},s.a.createElement("b",null,"Ingredients")),s.a.createElement("div",{className:"row ingredient-section"},n&&n.map(e=>s.a.createElement("div",{className:"col-md-6 col-sm-12",key:t.label+e.product},s.a.createElement("input",{type:"checkbox",value:""})," "+e.product," ",s.a.createElement("br",null)))),s.a.createElement("button",{className:"btn-addToCard",style:{marginBottom:"20px"}},"Add to Cart"),s.a.createElement(ee,{instructionData:a,value:t})))))),s.a.createElement("div",{id:t.name},s.a.createElement("button",{className:"detail-step-btn",style:{backgroundColor:"orange"},key:t.id+t.label,onClick:this.openModal},"See Full Recipe")))}}var se=ne;a(358);class re extends n.Component{constructor(){super()}render(){let e=this.props.col_count;return s.a.createElement(te.Carousel,{className:"withScroll_slider",showThumbs:!1,infiniteLoop:!1,selectedItem:parseInt(this.props.products.length/2),centerMode:!0,centerSlidePercentage:100/(1.4*e)},this.props.products.map((e,t)=>s.a.createElement("div",{key:t},s.a.createElement("img",{src:""!==e.image?e.image:Z.a,alt:e.ingredient,height:"200px",width:"auto"}),s.a.createElement("p",{style:{fontSize:"20px"}},e.ingredient))))}}a(359);var le=a(282),ie=a.n(le);console.error("______ process.env.NODE_ENV ____","production");let oe="https://chopchowdev.herokuapp.com/api/";oe="https://chopchowdev.herokuapp.com/api/";let ce=ie.a.create({baseURL:oe,headers:{"Content-Type":"application/json"}});const me=JSON.parse(localStorage.getItem("token"));console.error("__ token __",me),ce.defaults.headers.common.Authorization="Bearer "+me;var de=ce;class ue extends n.Component{constructor(e){super(e),this.onClickMealCard=(e,t)=>{e===this.state.selected_index?this.setState({slider_flag:!this.state.slider_flag}):this.setState({slider_flag:!0}),this.setState({selected_index:e}),this.setState({selectedCard_mealData:this.state.products[e]}),this.setState({modalIsOpen:!0}),this.setState({firstPart_ind:(parseInt(e/t)+1)*t})},this.setMealSliderModal=()=>{this.setState({mealSlider_Flag:!0})},this.removeMealSliderModal=()=>{this.setState({mealSlider_Flag:!1})},this.onhandleLoadMore=()=>{let e=this.state.currentMealCount;e>=this.state.products.length?this.setState({currentMealCount:this.state.products.length}):this.setState({currentMealCount:e+10})},this.update=()=>{let e=1;window.innerWidth>1200?e=4:window.innerWidth>900&&window.innerWidth<1200?e=3:window.innerWidth>500&&window.innerWidth<900&&(e=2),null===this.state.products&&window.innerWidth>500&&window.innerHeight>500&&(e=4),this.setState({col_count:e})},window.addEventListener("resize",this.update),this.state={products:[],width:0,firstPart_ind:12,slider_flag:!1,selectedCard_mealData:null,selected_index:0,selectedCardID:"",mealSlider_Flag:!1,currentMealCount:12,mealList:null,col_count:1}}componentDidMount(){this.update(),console.log("Comes in meal pages component did mount");de.get("/get-meals").then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("shows products does return"),console.log(t.data.length);let e=[];for(var a=0;a<t.data.length;a++)e.push(t.data[a]);this.setState({products:e})}else console.log("shows products do not return")}).catch(e=>{console.log(e)})}render(){const e=this.state.selectedCard_mealData,t=[];let a=Math.min(this.state.products.length,this.state.currentMealCount);if(this.state.products.length>0){for(let e=0;e<Math.min(a,this.state.firstPart_ind);e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=Math.min(a,this.state.firstPart_ind));t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:ge},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(F.a,{key:e}," ",n))}e&&this.state.slider_flag&&t.push(s.a.createElement(F.a,{key:Math.min(a,this.state.firstPart_ind)},s.a.createElement("div",{className:"col-sm-12",style:{background:"#ffffff"},key:"1000001"},s.a.createElement("div",{style:{width:"95%",margin:"auto"}},s.a.createElement("div",{className:"detail-card-explain",id:e._id},s.a.createElement("div",{style:{fontSize:"18px",paddingTop:"20px",paddingBottom:"20px"}},e.intro)),s.a.createElement("div",{id:e._id+"products"},s.a.createElement(re,{products:e.product_slider,col_count:this.state.col_count})),s.a.createElement(se,{value:e,mealPrep:e.instructions,ingredientsList:e.newer_ingredient_format,func_setMealFlag:this.setMealSliderModal,func_removeMealFlag:this.removeMealSliderModal})))));for(let e=Math.min(a,this.state.firstPart_ind);e<a;e+=this.state.col_count){const n=[];for(let t=0;t<this.state.col_count&&!(e+t>=a);t++){const a=this.state.products[e+t];n.push(s.a.createElement("div",{key:e+t,className:"col-sm-".concat(12/this.state.col_count," mealContainer"),style:{justifyContent:"center"}},s.a.createElement("div",{className:"meal-card",onClick:()=>this.onClickMealCard(e+t,this.state.col_count)},s.a.createElement("div",{style:ge},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:a.mealImage,className:"images",style:{width:"200px",height:"200px"},alt:"/"})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"orange"}},a.label)," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"grey"}},"View Details | ",a.cookTime,"  mins to prepare"),s.a.createElement("span",{style:{color:"black"}}))))))}t.push(s.a.createElement(F.a,{key:e+1},n))}}return s.a.createElement("div",{className:"meals-Page"},s.a.createElement("div",{id:"title",className:"meal-title"}," ",s.a.createElement("b",null,"Meals")," "),s.a.createElement("div",{className:"mealPage-container"},t),s.a.createElement("section",{className:"loadmore-section"},s.a.createElement("button",{className:"btn-loadmore",onClick:()=>this.onhandleLoadMore()},"Load More")))}}var he=ue;const ge={display:"inline-block",width:"100%",height:"100%"};var pe=a(102),Ee=a(283);class fe extends n.Component{constructor(e){super(e),this.storeCollection=[],this.state={store_products_fetched:!1}}componentDidMount(){console.log("Comes in product pages component will mount");fetch("https://chopchowdev.herokuapp.com/get_store_products").then(e=>e.text()).then(e=>{for(var t=JSON.parse(e),a=0;a<t.length;a++)console.log("Inner fetch loop"),console.log(t[a]),this.storeCollection.push(t[a]),console.log(t[a].store_name);this.setState({store_products_fetched:!0})}).catch(e=>{console.log(e)}),console.log("reaches end of product pages component will mount")}render(){var e=[];console.log(this.storeCollection);var t=!0,a=!1,n=void 0;try{for(var r,l=this.storeCollection.entries()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){const t=Object(pe.a)(r.value,2),a=t[0],n=t[1];var i=[];console.log(a);var o=!0,c=!1,m=void 0;try{for(var d,u=n.products.entries()[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){const e=Object(pe.a)(d.value,2),t=e[0],a=e[1];console.log("Inner for loop"),console.log(t),console.log(a.product_name);var h=n.store_name+a.product_name;i.push(s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 mealContainer",key:h},s.a.createElement("div",null,s.a.createElement("div",{style:be},s.a.createElement(Ee.a,{trigger:s.a.createElement("div",{id:a.id,style:be},s.a.createElement("img",{src:a.product_image,className:"images",style:{width:"100%"},alt:a.id}),s.a.createElement("div",{id:"textbox"},s.a.createElement("p",{className:"alignleft"},a.product_name),s.a.createElement("p",{className:"alignright",style:{color:"green"}},"$",a.product_price))),modal:!0,closeOnDocumentClick:!0,contentStyle:ve},s.a.createElement("div",null,a.product_name,s.a.createElement("br",null),"Availability"),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("b",null,s.a.createElement("img",{src:a.product_image,alt:"info",style:{width:"100%",height:"100%",align:"center"}}))),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("b",null,"Availabile",s.a.createElement("br",null),"Variations:",s.a.createElement("br",null),"Price:")))),s.a.createElement("span",null,"View Product"),"\xa0|\xa0",s.a.createElement("span",null,"Update Product"),"\xa0|\xa0",s.a.createElement("span",null,"Add To Cart.."),s.a.createElement("hr",null))))))}}catch(g){c=!0,m=g}finally{try{o||null==u.return||u.return()}finally{if(c)throw m}}e.push(s.a.createElement("div",{key:n.store_name},s.a.createElement("hr",null),s.a.createElement("img",{src:n.store_image,className:"images",style:{width:"10%"},alt:n.id}),s.a.createElement("b",null,n.store_name),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row "},i)),s.a.createElement("hr",null)))}}catch(g){a=!0,n=g}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return s.a.createElement("div",null,s.a.createElement("div",{id:"title"},s.a.createElement("b",null,"Our Products")),e)}}const be={display:"inline-block",width:"100%",height:"100%"},ve={maxWidth:"100vw",maxHeight:"100vh",overflow:"scroll"};var ye=fe,Se=(a(376),a(590)),Ie=a(609);class Ne extends s.a.Component{constructor(e){super(e),this.handleChange=({target:{value:e,name:t}})=>this.setState({[t]:e}),this.handleClose=()=>this.setState({dialogue_open_flag:!1}),this.state={email:"",password:"",messageErr:!1,messageSuccess:!1,dialogue_open_flag:!0}}componentWillReceiveProps(e){const t=e.openFlag;this.setState({dialogue_open_flag:t}),e.authUser&&e.customer_id&&this.props.history.push("/grocery")}render(){const e=this.state,t=e.email,a=e.password;return s.a.createElement(D.a,null,s.a.createElement(J.a,{show:this.state.dialogue_open_flag,onHide:this.handleClose,className:"text-center custom-card1",backdrop:"static",size:"lg",centered:!0},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{className:"text-center"},"Log In to View your Grocery List")),s.a.createElement(J.a.Body,null,s.a.createElement(F.a,null,s.a.createElement(P.a,{md:5},s.a.createElement(Se.a,{className:"fb-btn mb-3 px-3 py-2"},"Login In with Facebook"),s.a.createElement(Se.a,{className:"google-btn px-3 py-2"},"Login In with Google")),s.a.createElement(P.a,{md:1,className:"or"},"or"),s.a.createElement(P.a,{md:6,className:"d-block right-panel"},s.a.createElement(Ie.a,null,s.a.createElement(Ie.a.Control,{type:"text",name:"email",value:t,placeholder:"Your Email or Username",onChange:this.handleChange,className:"login__form__input1",autoComplete:"username"}),s.a.createElement(Ie.a.Control,{type:"password",name:"password",value:a,placeholder:"Your password",onChange:this.handleChange,className:"login__form__input",autoComplete:"current-password"}),s.a.createElement(Ie.a.Label,{className:"lbl_text text-left",column:!0,md:12},s.a.createElement("a",{className:"forget",href:"/forgotpass"},"Forgot Password?")),s.a.createElement(Se.a,{variant:"primary",className:"mb-1 float-left login-button",onClick:e=>{e.preventDefault(),this.props.userSignIn({email:this.state.email,password:this.state.password})}},"Login"),s.a.createElement(Ie.a.Label,{className:"lbl_text mt-4 text-right pb-0",column:!0,md:12},"Don't have an account? ",s.a.createElement("a",{className:"signup",href:"/signup"},"Sign Up")),s.a.createElement(Ie.a.Label,{className:"lbl_text text-right pt-0",column:!0,md:12},"or ",s.a.createElement("a",{className:"continue",href:"/v2"},"continue as guest"))))))))}}const Ce={userSignIn:({email:e,password:t})=>a=>{a({type:"fetch_start"}),a({type:"user_token_set",payload:null}),a({type:"user_data",payload:null}),de.post("/login",{email:e,password:t}).then(({data:e})=>{console.log(" ___ userSignIn RESPONSE ___ ",e),localStorage.setItem("userToken",e.token),localStorage.setItem("userRole",e.role),de.defaults.headers.common.Authorization="Bearer "+e.token,a({type:"fetch_success"}),a({type:"user_token_set",payload:e.token}),a({type:"user_role_set",payload:e.role}),console.log(" ___ userSignIn customerID ",e.customerID)}).catch(e=>{console.error("xxx userSignIn Request ERROR xxx",e),a({type:"fetch_error",payload:"Error during user sign in request"})})}};var _e=Object(i.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),Ce)(Object(c.g)(Ne));a(377),a(378);function xe(e){const t=e.title;return s.a.createElement("h2",{className:"pageTitle"},t)}var we=a(592),Le=a(591),ke=a(617),Te=a(284);a(526);class De extends s.a.Component{constructor(...e){super(...e),this.gotoViewPage=(e,t)=>{const a="/product-detail/".concat(e,"/").concat(t);this.props.history.push(a)}}render(){const e=this.props.state,t=e.product_img,a=e.product_name,n=e.productID,r=e.customerId;return s.a.createElement("div",{style:{position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",backgroundColor:"rgba(255,255,255,0.6)",zIndex:"9999"}},s.a.createElement("div",{style:{display:"flex",height:"100%"}},s.a.createElement("div",{className:"product-detail-modal"},s.a.createElement("div",{className:"product-detail-panel"},s.a.createElement("div",{className:"close-btn",style:{fontSize:"12px",textAlign:"right"},onClick:this.props.onCloseClicked},s.a.createElement("i",{className:"fa fa-remove"})),s.a.createElement(F.a,null,s.a.createElement(P.a,{md:6,style:{textAlign:"center"}},s.a.createElement("img",{src:t,width:"100%",className:"product-img",alt:""})),s.a.createElement(P.a,{md:6},s.a.createElement("div",{className:"detail-info-panel",style:{marginLeft:"10px",marginRight:"20px"}},s.a.createElement("div",{className:"product-name"},a),s.a.createElement("div",{className:"product-name-descript"},"Description Lorem Ipsum Dolor Sit Amet"),s.a.createElement("div",{className:"product-size-panel"},s.a.createElement("div",{className:"product-info"},s.a.createElement("div",{className:"product-size-item"},"32 oz tub (Medium)-$9.99"),s.a.createElement("div",{className:"product-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"product-count"}))),s.a.createElement("div",{className:"product-size-panel"},s.a.createElement("div",{className:"product-info"},s.a.createElement("div",{className:"product-size-item"},"32 oz tub (Medium)-$9.99"),s.a.createElement("div",{className:"product-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"product-count"}))),s.a.createElement("div",{className:"product-price-panel"},s.a.createElement("div",{className:"price-item"},"Delivery (select one):"),s.a.createElement("div",{className:"price-value"},s.a.createElement("a",{href:"/"},"Next Day Delivery")," - $10.00"))))),s.a.createElement(F.a,{className:"btn-panel"},s.a.createElement(P.a,{md:6,style:{textAlign:"center"}},s.a.createElement("button",{className:"product-btn",onClick:()=>this.gotoViewPage(r,n)},"View Item")),s.a.createElement(P.a,{md:6,style:{textAlign:"center"}},s.a.createElement("button",{className:"product-btn"},"Add To Card")))))))}}var Fe=Object(c.g)(De);class Pe extends s.a.Component{constructor(...e){super(...e),this._isMounted=!1,this.products=[],this.productNamesForTypeahead=new Map,this.state={customerList:null,Authentication:!1,customerId:null,email:"",password:"",messageErr:!1,messageSuccess:!1,messageErrCreate:!1,showAlert:!1,messageAlert:"",variant:"",productID:"",deletedItemId:null,selectedProduct:null,idsItems:null,deletedItemsId:null,lasIdListState:null,valueProductName:"",valueProductImage:"",valueProductPrice:"",valueProductSize:"",valuePricePerOunce:"",errormsg:"",typeAheadAdded:!1,product_img:null,product_name:"",product_modal_flg:!1},this.handleChange=({target:{value:e,name:t}})=>this.setState({[t]:e}),this.handleProductClick=(e,t,a,n)=>{n?this.setState({product_img:"/images/products/".concat(e),product_name:t,product_modal_flg:!0,productID:a}):this.setState({product_img:e,product_name:t,product_modal_flg:!0,productID:a})},this.onCloseClicked=()=>{this.setState({product_modal_flg:!1})},this.getCustomerList=e=>{var t="/getCustomerGroceryList/".concat(e);de(t).then(({data:e})=>{this.setState({customerList:e.data})}).catch(()=>{this.setState({messageAlert:"Authentication Error while fetching your grocery list...",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.handleShowDeleteItem=e=>{this.setState({deletedItemId:e});const t=this.state,a=t.customerId,n=t.deletedItemId;var s="./api/remove-item/".concat(e,"/").concat(a);fetch(s,{method:"DELETE"}).then(e=>e.json()).then(e=>{this.setState({messageAlert:"deleted successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),this.setState(e=>({customerList:e.customerList.filter(e=>e.id!==n)})),console.log("Delets item"),this.componentDidMount()}).catch(()=>{this.setState({messageAlert:"Internal Server Error while deleting item",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.handleDeleteList=()=>{console.log("Comes in deletes list");const e=this.state.customerId;var t="https://chopchowdev.herokuapp.com/api/remove-list/".concat(e);fetch(t,{method:"DELETE"}).then(e=>(console.log("delete response is: "),console.log(e),console.log(e.json),this.setState({messageAlert:"deleted successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),this.setState({customerList:[]}),this.componentDidMount(),console.log("deletes list"),e.json())).catch(()=>{console.log("caught an error while deleting list"),this.setState({messageAlert:"Internal Server Error while deleting list",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.handleClickTypeahead=e=>{this.setState({selectedProduct:e}),this.productNamesForTypeahead.get(e);var t=this.productNamesForTypeahead.get(e[0]);if(console.log("productID is: "+t),console.log("customer id is: "+this.state.customerId),!isNaN(t)){var a="./api/addTypeaheadDataToCustomerGroceryList/".concat(t,"/").concat(this.state.customerId);fetch(a,{method:"POST"}).then(e=>{e&&(this.setState({messageAlert:"product added successfully",showAlert:!0,variant:"success"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},3500)),console.log("Comes in handleClickTypeahead's then on client side"),this.componentDidMount())})}}}componentDidMount(){if(this._isMounted=!0,this._isMounted){const e=this.props,t=e.authUser,a=e.customer_id;this.setState({Authentication:t}),this.setState({customerId:a}),this.getCustomerList(a)}}componentWillReceiveProps(e){const t=e.authUser,a=e.customer_id;this.setState({Authentication:t}),null!==t&&(this.setState({customerId:a}),this.getCustomerList(a))}render(){const e=this.state,t=e.showAlert,a=e.variant,n=e.messageAlert,r=e.customerList;return console.log("Authentication, ",this.state.Authentication),console.log("customerId, ",this.state.customerId),console.log("customerList, ",this.state.customerList),console.log("Props:",this.props),s.a.createElement(s.a.Fragment,null,s.a.createElement(Te.Typeahead,{options:Array.from(this.productNamesForTypeahead.keys()),placeholder:"Add products to your grocery list here..",id:"typeahead",onChange:e=>{this.handleClickTypeahead(e)}}),s.a.createElement(Le.a,{show:t,key:1,variant:a},n),this.state.messageVisible?s.a.createElement("div",null,"you can not add in this item because it is already in customers grocery list"):null,this.state.Authentication?s.a.createElement(s.a.Fragment,null,s.a.createElement(xe,{title:" Your Grocery List"}),s.a.createElement("div",null,s.a.createElement(Se.a,{className:"yourlist__buttonDeleteList",variant:"danger",onClick:e=>{e.stopPropagation(),this.handleDeleteList()}},"Delete List Items"),s.a.createElement("br",null),s.a.createElement(D.a,{className:"page__container",fluid:!0},r?r.map(e=>{let t=e.id;return console.log("customer_grocery_product_item:",e.product_image),s.a.createElement(F.a,{display:"inline-flex",key:e.id},s.a.createElement(P.a,{key:e.id},e.product_image.startsWith("https://")?s.a.createElement("img",{src:e.product_image,alt:"product_img ",className:"card-img",onClick:()=>this.handleProductClick(e.product_image,e.product_name,t,!1)}):s.a.createElement("img",{src:"/images/products/".concat(e.product_image),alt:"product_img ",className:"card-img",onClick:()=>this.handleProductClick(e.product_image,e.product_name,t,!0)})),s.a.createElement(P.a,null,s.a.createElement(ke.a.Title,{className:"grocery_item_card-header"},"Product Name :"," ",e.product_name),s.a.createElement(ke.a.Text,null,"Product Price :"," ",e&&e.product_price,s.a.createElement("br",null),"Product Size : ",e.sizes)),s.a.createElement(P.a,null,s.a.createElement(Se.a,{onClick:e=>{e.stopPropagation(),this.handleAddItemToCart(t)}}," ","  Add To Cart")),s.a.createElement(P.a,null,s.a.createElement("i",{className:"fa fa-remove",onClick:t=>{t.stopPropagation(),this.handleShowDeleteItem(e.id)}})))}):s.a.createElement(we.a,{animation:"border",variant:"info"})))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,"Log into your account or continue as guest to load your grocery list")),this.state.product_modal_flg&&s.a.createElement(Fe,{state:this.state,onCloseClicked:this.onCloseClicked}))}}var Ae=Object(i.c)(({auth:e})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id}),()=>({}))(Object(c.g)(Pe));a(527);class Oe extends s.a.Component{constructor(e){super(e),this.getCustomerList=()=>{const e=this.props.match.params,t=e.productId,a=e.customerId;var n=window.localStorage.getItem("userToken");console.log("customder id  iss: "+a);var s="/api/getCustomerGroceryList/".concat(a);fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then(e=>(console.log("customer list response is "),console.log(e),e.json())).then(e=>{if(e){this.setState({customerList:e.data});for(let a=0;a<e.data.length;a++)if(e.data[a].id===t){this.setState({productData:e.data[a]});break}}}).catch(()=>{this.setState({messageAlert:"Authentication Error while fetching your grocery list...",showAlert:!0,variant:"danger"},()=>setTimeout(()=>{this.setState({messageAlert:"",showAlert:!1})},8e3))})},this.state={customerList:null,productData:null}}componentWillMount(){this.getCustomerList()}render(){return s.a.createElement("div",{style:{}},s.a.createElement("div",{className:"productF-detail-modal"},s.a.createElement("div",{className:"productF-detail-panel"},s.a.createElement(F.a,null,s.a.createElement(P.a,{md:2,style:{textAlign:"center"}},this.state.productData&&s.a.createElement("img",{src:"/images/products/".concat(this.state.productData.product_image),width:"100%",className:"productF-img1",alt:""}),this.state.productData&&s.a.createElement("img",{src:"/images/products/".concat(this.state.productData.product_image),width:"100%",className:"productF-img1",alt:""})),s.a.createElement(P.a,{md:5,style:{textAlign:"center"}},this.state.productData&&s.a.createElement("img",{src:"/images/products/".concat(this.state.productData.product_image),width:"100%",className:"productF-img",alt:""})),s.a.createElement(P.a,{md:5},s.a.createElement("div",{className:"detail-info-panel",style:{marginLeft:"10px",marginRight:"20px"}},this.state.productData&&s.a.createElement("div",{className:"productF-name"},this.state.productData.product_name," "),s.a.createElement("div",{className:"productF-name-descript"},"Description Lorem Ipsum Dolor Sit Amet"),s.a.createElement("div",{className:"product-star"},s.a.createElement("i",{className:"fa fa-star"}),s.a.createElement("i",{className:"fa fa-star"}),s.a.createElement("i",{className:"fa fa-star"}),s.a.createElement("i",{className:"fa fa-star"}),s.a.createElement("i",{className:"fa fa-star"})),s.a.createElement("hr",null),s.a.createElement("div",{className:"productF-size-panel"},s.a.createElement("div",{className:"productF-info"},s.a.createElement("div",{className:"productF-size-item"},"32 oz tub (Medium)"),s.a.createElement("div",{className:"productF-size-item"},"$9.99"),s.a.createElement("div",{className:"productF-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"productF-count"}))),s.a.createElement("hr",null),s.a.createElement("div",{className:"productF-size-panel"},s.a.createElement("div",{className:"productF-info"},s.a.createElement("div",{className:"productF-size-item"},"32 oz tub (Medium)"),s.a.createElement("div",{className:"productF-size-item"},"$9.99"),s.a.createElement("div",{className:"productF-size-place"},"from Lizi Gidi Market")),s.a.createElement("div",null,s.a.createElement("input",{type:"text",className:"productF-count"}))),s.a.createElement("hr",null),s.a.createElement("div",{className:"productF-price-panel"},s.a.createElement("div",{className:"price-value"},s.a.createElement("a",{href:"/"},"Next Day Delivery")),s.a.createElement("div",{className:"price-value"},"$10.00")),s.a.createElement("div",{className:"cart-btn"},s.a.createElement("div",{className:"product-star"},s.a.createElement("i",{className:"fa fa-star"})),s.a.createElement("button",{className:"productF-btn"},"Add To Card"))))))))}}var Me=Oe,Re=(a(528),a(593)),Ge=a(87);class Ue extends s.a.Component{constructor(...e){super(...e),this.state={email:"",phone:"",username:"",password:"",messageErr:!1,messageSuccess:!1,showModal:!0,emailNotification:!1},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;"emailNotification"===t?this.setState({emailNotification:e.currentTarget.checked}):this.setState({[t]:a})},this.handleClose=e=>{Object(Ge.setTimeout)(()=>{this.props.history.push("/grocery")},e||0)},this.formSubmit=e=>{e.preventDefault();let t=this.state.email;if(""!==t&&/^[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/.test(t)){var a=t.split("@"),n=Object(pe.a)(a,2),s=n[0],r=n[1].split(".");t.length<256&&s.length<64&&r.some((function(e){return e.length<63}))?(this.setState({messageErr:""}),this.submitForm()):this.setState({messageErr:"Please enter a valid email."})}else this.state.phone.length>=10&&this.state.phone.length<=30&&this.state.username&&this.state.password?(this.setState({messageErr:""}),this.submitForm()):this.setState({messageErr:"Please enter a valid phone number or email."})},this.submitForm=()=>{console.log("state,",this.state);fetch("https://chopchowdev.herokuapp.com/api/signupuser",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)}).then(e=>{400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Check username or password ..."}):401===e.status?this.setState({messageErr:"You are unauthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"You are signed up! "}),this.handleClose(5e3))})}}render(){return s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal registerme",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Sign Up"),s.a.createElement("span",{style:{fontSize:"11pt"}},"Already have an account?",s.a.createElement(o.b,{className:"link-guest-word",to:"/login"},"Login")))),s.a.createElement(J.a.Body,null,s.a.createElement(D.a,null,s.a.createElement(F.a,{className:"justify-content-md-center"},s.a.createElement(P.a,{xs:!0,lg:!0},s.a.createElement(Ie.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Control,{type:"email",name:"email",value:this.state.email,placeholder:"Your email",onChange:this.handleChange,autoComplete:"username"}),s.a.createElement(Ie.a.Label,null,"Or"),s.a.createElement(Ie.a.Control,{type:"tel",name:"phone",value:this.state.phone,placeholder:"Your Phone Number",onChange:this.handleChange})),s.a.createElement("hr",null),s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Control,{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.handleChange,required:!0}),s.a.createElement(Ie.a.Label,null),s.a.createElement(Ie.a.Control,{type:"password",name:"password",value:this.state.password,placeholder:"Create a Password",onChange:this.handleChange,autoComplete:"new-password",required:!0})),s.a.createElement(Ie.a.Group,{controlId:"formHorizontalCheck"},s.a.createElement(Ie.a.Label,null),s.a.createElement(Ie.a.Check,{onChange:this.handleChange,name:"emailNotification",label:"Sign Up for Email Notifications"})),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Re.a,null,s.a.createElement(Se.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Sign Up")),s.a.createElement(o.b,{className:"",to:"/signup"},"or Sign up as driver")))))))}}a(530);class je extends s.a.Component{constructor(...e){super(...e),this.state={email:"",username:"",messageErr:!1,messageSuccess:!1,showModal:!0},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;this.setState({[t]:a})},this.handleClose=e=>{Object(Ge.setTimeout)(()=>{this.props.history.push("/")},e||0)},this.formSubmit=e=>{e.preventDefault(),this.state.email||this.state.username?this.submitForm():this.setState({messageErr:"Please enter correct data."})},this.submitForm=()=>{fetch("https://chopchowdev.herokuapp.com/api/forgotpass",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)}).then(e=>{console.log(e),400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Your username or email does not exist."}):401===e.status?this.setState({messageErr:"you are UnAuthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"Please check your inbox for more details! "}),this.handleClose(5e3))})}}render(){return s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Forgot Password"))),s.a.createElement(J.a.Body,null,s.a.createElement(D.a,null,s.a.createElement(F.a,{className:"justify-content-md-center"},s.a.createElement(P.a,{xs:!0,lg:!0},s.a.createElement(Ie.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Control,{type:"text",name:"email",value:this.state.email,placeholder:"Your email",onChange:this.handleChange}),s.a.createElement(Ie.a.Label,null,"Or")),s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Control,{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.handleChange}),s.a.createElement(Ie.a.Label,null)),s.a.createElement(Ie.a.Label,null,"We will sent you a link to reset your password."),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Re.a,null,s.a.createElement(Se.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Reset"))))))))}}a(531);class We extends s.a.Component{constructor(...e){super(...e),this.state={password1:"",password2:"",messageErr:!1,messageSuccess:!1,showModal:!0},this.handleChange=e=>{let t=e.currentTarget.name,a=e.currentTarget.value;this.setState({[t]:a})},this.handleClose=e=>{Object(Ge.setTimeout)(()=>{this.props.history.push("/grocery")},e||0)},this.formSubmit=e=>{e.preventDefault(),this.state.password1||this.state.password2?this.submitForm():this.setState({messageErr:"Please enter correct data."})},this.submitForm=()=>{let e=this.props.location.search.replace("?","").split("=")[1],t=Object.assign({},this.state,{token:e});fetch("/api/resetpass",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then(e=>{400===e.status||404===e.status?this.setState({messageErr:"Bad Request , Check username or email ... !!"}):401===e.status?this.setState({messageErr:"you are UnAuthorized"}):e.status>=500?this.setState({messageErr:"Sorry , Internal Server ERROR"}):(this.setState({messageErr:"",isAuthenticated:!0,messageSuccess:"Please check your inbox for more details! "}),this.handleClose(5e3))})}}render(){let e=this.props.location.search.replace("?","").split("=");return e.length>1?(e=e[1],s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Reset Password"))),s.a.createElement(J.a.Body,null,s.a.createElement(D.a,null,s.a.createElement(F.a,{className:"justify-content-md-center"},s.a.createElement(P.a,{xs:!0,lg:!0},s.a.createElement(Ie.a,{className:"",onSubmit:this.formSubmit},s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Control,{type:"hidden",name:"token",value:e}),s.a.createElement(Ie.a.Control,{type:"password",name:"password1",value:this.state.password1,placeholder:"New Password",onChange:this.handleChange})),s.a.createElement(Ie.a.Label,null),s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Control,{type:"password",name:"password2",value:this.state.password2,placeholder:"Retype Password",onChange:this.handleChange}),s.a.createElement(Ie.a.Label,null)),s.a.createElement("p",{className:"msg-success"},this.state.messageSuccess),s.a.createElement("p",{className:"msg-err"},this.state.messageErr),s.a.createElement(Re.a,null,s.a.createElement(Se.a,{variant:"secondary",type:"submit",className:"login__form-btn"},"Reset"))))))))):s.a.createElement(J.a,{show:this.state.showModal,onHide:this.handleClose,className:"modal resetpassword",backdrop:"static"},s.a.createElement(J.a.Header,{closeButton:!0},s.a.createElement(J.a.Title,{style:{width:"100%",textAlign:"center"}},s.a.createElement("div",null,"Something wrong with yout token please try again."))))}}var ze=a(52),Be=a.n(ze),qe=a(88),He=a(595),Qe=a(91),Je=a.n(Qe),Ve=a(612),Ke=a(597),Ye=a(290),$e=a(594),Ze=a(140),Xe=a(616),et=a(598),tt=a(599),at=a(600);class nt extends n.Component{constructor(e){var t;super(e),t=this,this.products=[],this.productsImg_path=[],this.categories=[],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb"],this.handleClose=()=>{this.setState({open:!1})},this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onTextFieldClick=e=>{void 0!==e.target.files[0]&&(this.setState({imgSrc:e.target.files[0]}),this.setState({loading_imgSrc:URL.createObjectURL(e.target.files[0])}),this.setState({img_change_flag:!0}))},this.onhandleProductImg=e=>{void 0!==e.target.files[0]&&(this.setState({productImgSrc:e.target.files[0]}),null!==e.target.files[0]&&this.setState({productImg_path:URL.createObjectURL(e.target.files[0])}))},this.onhandleInstructionImg=e=>{void 0!==e.target.files[0]&&(this.setState({instructionImgData:e.target.files[0]}),null!==e.target.files[0]&&this.setState({instructionImgPath:URL.createObjectURL(e.target.files[0])}))},this.onHandleIngredientItem=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList;-1!==e&&(t.splice(e,1),a.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))},this.onHandleInstructionItem=e=>{const t=this.state.instructionGroupList;t.splice(e,1),this.setState({instructionGroupList:t})},this.onUpdateIngredientImg=(e,t)=>{if(null===e.target.files[0]||this.state.ingredientGroupList.length<=t)return;const a=this.state.ingredientGroupList,n=a[t];var s={product:n.product,quantity:n.quantity,measurement:n.measurement,productImgData:e.target.files[0],productImgPath:URL.createObjectURL(e.target.files[0]),flag:!0};a[t]=s,this.setState({ingredientGroupList:a})},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0]||this.state.instructionGroupList.length<=t)return;const a=this.state.instructionGroupList;let n={step:a[t].step,imgdata:e.target.files[0],imgpath:URL.createObjectURL(e.target.files[0])};a[t]=n,this.setState({instructionGroupList:a})},this.handleIngredientDropdownChange=(e,t)=>{var a=this.products.indexOf(t);-1!==a&&this.setState({product_ind:a}),null!==e.target.value?this.setState({currentIngredient:t}):this.setState({currentIngredient:e.target.innerHTML})},this.handleProductName=(e,t)=>{const a=this.products.map(e=>e.toLowerCase().includes(t.toLowerCase())).find(e=>!0===e);!0!==a||null===a?(this.setState({productImgSetting_flag:!0}),this.setState({currentIngredient:t})):(this.setState({productImgSetting_flag:!1}),this.setState({currentIngredient:t}))},this.handleCategoryDropdownChange=e=>{this.setState({categoryList:e})},this.addInstructionList=()=>{if(0===this.state.instructionsChip.length)return;let e={step:this.state.instructionsChip,imgdata:this.state.instructionImgData,imgpath:this.state.instructionImgPath};this.setState({instructionGroupList:[...this.state.instructionGroupList,e]}),this.setState({instructionsChip:[],instructionImgData:null,instructionImgPath:""})},this.sendSuggestedMealToDB=function(){var e=Object(qe.a)(Be.a.mark((function e(a){var n,s,r,l,i,o,c,m,d,u,h,g,p,E,f,b,v,y,S,I,N,C,_,x,w,L,k,T,D,F,P,A;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,s=n.mealLabel,r=n.intro,l=n.servings,i=n.ingredientStrings,o=n.ingredientGroupList,c=n.instructionGroupList,m=n.imgSrc,d=n.readTime,u=n.cookTime,h=n.categoryList,""!==s){e.next=4;break}return console.log("meal label blank"),e.abrupt("return");case 4:if(0!==i.length){e.next=7;break}return window.alert("Suggested meal requires adding at least one ingredient to submit"),e.abrupt("return");case 7:if(null!==m){e.next=10;break}return window.alert("You didn't add suggested meal image"),e.abrupt("return");case 10:for(g=new FormData,p=0,E=0;E<o.length;E++)null!==o[E].productImgData&&(g.append("productImgs",o[E].productImgData),p++);if(f=null,0===p){e.next=22;break}return"/getProductImgURL/",b={method:"POST",data:g,url:"/getProductImgURL/"},e.next=19,de(b);case 19:v=e.sent,console.log("UploadedImage_URL: ",v),f=v.data.productImg_paths;case 22:for(y=[],S=[],I=-1,E=0;E<o.length;E++)N={product:o[E].product,quantity:o[E].quantity,measurement:o[E].measurement},y.push(N),C="",null!==o[E].productImgData?(I++,C=f[I]):C=o[E].productImgPath,_={ingredient:o[E].product,image:C,flag:o[E].flag},S.push(_);for(x=new FormData,w=0,E=0;E<c.length;E++)null!==c[E].imgdata&&(x.append("instructionImgs",c[E].imgdata),w++);if(L=null,0===w){e.next=37;break}return"/getInstructionImgURL/",k={method:"POST",data:x,url:"/getInstructionImgURL/"},e.next=35,de(k);case 35:v=e.sent,L=v.data.instrutionImg_paths;case 37:for(T=[],D=-1,E=0;E<c.length;E++)C=null,null!==c[E].imgdata&&(D++,C=L[D]),F={step:c[E].step,image:C},T.push(F);for(P=[],E=0;E<h.length;E++)-1===t.categories.indexOf(h[E])&&P.push(h[E]);"/addMealSuggestion/",(A=new FormData).append("mealLabel",s),A.append("intro",r),A.append("servings",l),A.append("product_slider",JSON.stringify(S)),A.append("formatted_ingredient",JSON.stringify(y)),A.append("instructionsGroupList",JSON.stringify(T)),A.append("ingredientStrings",i),A.append("readTime",d),A.append("cookTime",u),A.append("categoryChips",JSON.stringify(h)),A.append("newCategories",JSON.stringify(P)),A.append("imgSrc",m),de({method:"POST",data:A,url:"/addMealSuggestion/"}).then(e=>{e.status>=200&&e.status<300?(t.setState({open:!0}),console.log(e),console.log("Display Meal submitted successfully"),window.location.href="/SuggestMeal"):console.log("Somthing happened wrong")}).catch(e=>{console.log(e)});case 58:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.state={mealLabel:"",intro:"",servings:0,currentIngredient:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",ingredientStrings:[],instructionsChip:[],readTime:"0 mins read",cookTime:"10 mins cook time",categoryChips:["snacks","abc","123"],productsPopulated:!1,imgSrc:null,loading_imgSrc:"",open:!1,productImgSetting_flag:!1,productImgSrc:null,productImg_path:"",product_ind:0,ingredientGroupList:[],instructionGroupList:[],instructionImgData:null,instructionImgPath:"",categoryList:[]},this.handleIngredientDropdownChange=this.handleIngredientDropdownChange.bind(this),this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.handleIngredientQuantity=this.handleIngredientQuantity.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this)}componentDidMount(){var e="/get-all-products";de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET ALL PRODUCTS ");for(var a=0;a<t.data.length;a++)this.products.push(t.data[a].product_name),this.productsImg_path.push(t.data[a].product_image);console.log("PRINTING ALL PRODUCTS LIST"),console.log(this.products),this.setState({productsPopulated:!0})}else console.log("get all products function does not return")}).catch(e=>{console.log(e)}),e="/get-all-categories",de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET of ALL Categories ");for(var a=0;a<t.data.length;a++)this.categories.push(t.data[a].category_name);console.log("PRINTING UPDATED CATEGORIES LIST")}else console.log("get all products function does not return")}).catch(e=>{console.log(e)})}handleAddIngredientChip(e){this.setState({ingredientStrings:[...this.state.ingredientStrings,e]})}handleAddCategoryChip(e){this.setState({categoryChips:[...this.state.categoryChips,e]})}handleAddInstructionStep(e){this.setState({instructionsChip:[...this.state.instructionsChip,e]})}handleAddCategoryStep(){console.log("FFFFFFFFFFFFFF+++++++++")}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleDeleteCategoryChip(e){var t=[...this.state.categoryChips],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({categoryChips:t}))}handleDeleteInstructionsStep(e){var t=[...this.state.instructionsChip],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({instructionsChip:t}))}handleIngredientQuantity(e){console.log(e.target.value),this.setState({currentIngredientQuantity:e.target.value})}handleIngredientMeasurement(e){e.target.value?this.setState({currentIngredientMeasurement:e.target.value}):this.setState({currentIngredientMeasurement:e.target.innerHTML})}addIngredientToMeal(e){var t;if(e.preventDefault(),""!==document.getElementById("currentIngredient").value){t=0===this.state.currentIngredientQuantity?document.getElementById("currentIngredient").value:null===document.getElementById("currentIngredientMeasurement").value?this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredient").value:this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredientMeasurement").value+" of "+document.getElementById("currentIngredient").value;var a={product:this.state.currentIngredient,quantity:this.state.currentIngredientQuantity,measurement:this.state.currentIngredientMeasurement,productImgData:this.state.productImgSrc,productImgPath:null,flag:this.state.productImgSetting_flag};this.state.productImgSetting_flag?(a.productImgPath=this.state.productImg_path,a.flag=!0):(a.productImgPath=this.productsImg_path[this.state.product_ind],a.flag=!1),this.handleAddIngredientChip(t),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,a]}),this.setState({productImgSrc:null,productImg_path:""}),this.setState({currentIngredient:"",currentIngredientQuantity:"",currentIngredientMeasurement:""})}else window.alert("Enter an ingredient to add to meal")}render(){var e=[],t=1;for(let i=0;i<this.state.instructionGroupList.length;i++)0!==i&&(t+=this.state.instructionGroupList[i-1].step.length),e.push(s.a.createElement("div",{key:i,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(F.a,{style:{justifyContent:"flex-end"}},s.a.createElement("i",{className:"fa fa-remove",style:{fontSize:"50%",marginTop:"0px",marginRight:"15px"},onClick:()=>this.onHandleInstructionItem(i)})),s.a.createElement(F.a,null,s.a.createElement(P.a,{md:4,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"mdc-list"},this.state.instructionGroupList[i].step.map((e,a)=>s.a.createElement("div",{className:"mdc-list-item",key:a},s.a.createElement("span",{className:"mdc-list-item__text"},a+t,".",s.a.createElement("span",{className:"mdc-list-item__text"}," ",e)))))),s.a.createElement(P.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:this.state.instructionGroupList[i].imgpath,width:"auto",height:"150px",alt:""}),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2, ml-3",onChange:e=>this.onUpdateInstructionImg(e,i)})),s.a.createElement(P.a,{md:4,className:"mb-2"}))));const a=Object(Ye.a)({palette:{primary:Ze.a}}),n=this.state,r=n.loading_imgSrc,l=n.categoryList;return s.a.createElement("div",null,s.a.createElement("div",{style:{width:"85%",margin:"auto",backgroundColor:"#f4f4f4"}},s.a.createElement("div",{style:{padding:"20px",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement("div",{id:"title",style:{marginTop:"20px",marginBottom:"20px"}},s.a.createElement("b",null,"Suggest Meal")),s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4},s.a.createElement(He.a,{id:"mealLabel",fullWidth:!0,onChange:this.onTextFieldChange,label:"Meal Name",required:!0,variant:"filled",className:"mb-3"}),s.a.createElement(He.a,{multiline:!0,id:"intro",fullWidth:!0,onChange:this.onTextFieldChange,label:"Intro",variant:"filled",className:"mb-3 "})),s.a.createElement(P.a,{md:4,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*",id:"imgSrc",type:"file",className:"mb-2 pr-4",onChange:e=>this.onTextFieldClick(e)})),s.a.createElement(P.a,{md:4,style:{marginTop:"20px",textAlign:"center"}},s.a.createElement("img",{src:r,width:"70%",height:"auto",alt:""}))),s.a.createElement("hr",null),s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(He.a,{id:"servings",fullWidth:!0,type:"number",onChange:this.onTextFieldChange,label:"Servings",variant:"filled",className:"mb-2",placeholder:"1 person, 2, 4 or 10 people",style:{marginTop:"10px"}})),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}}," "),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}}," ")),s.a.createElement(F.a,{className:"mb-1"},s.a.createElement(P.a,{md:4},s.a.createElement(Ve.a,{id:"currentIngredient",options:this.products.map(e=>e),onChange:(e,t)=>this.handleIngredientDropdownChange(e,t),onInputChange:(e,t)=>this.handleProductName(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{label:"Ingredients",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.currentIngredient}),s.a.createElement(He.a,{fullWidth:!0,id:"currentIngredientQuantity",type:"number",onChange:this.onTextFieldChange,label:"Quantity",variant:"filled",placeholder:"1..",className:"mb-3",value:this.state.currentIngredientQuantity})),s.a.createElement(P.a,{md:4},this.state.productImgSetting_flag?s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mt-3 mb-4",onChange:e=>this.onhandleProductImg(e)}):s.a.createElement("div",{style:{marginTop:"70px"}}),s.a.createElement(Ve.a,{id:"currentIngredientMeasurement",options:this.measurements.map(e=>e),onChange:this.handleIngredientMeasurement,freeSolo:!0,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{label:"Measurements",variant:"filled"})),className:"mb-3",value:this.state.currentIngredientMeasurement})),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(Ke.a,{variant:"contained",color:"primary",disableRipple:!0,onClick:this.addIngredientToMeal,style:{color:"white",width:"80%"},className:"mb-3"}," Add Ingredient"))),s.a.createElement(F.a,{className:"mb-2"},s.a.createElement(P.a,{md:12},s.a.createElement(Je.a,{label:"IngredientsList",value:this.state.ingredientStrings,onAdd:e=>this.handleAddIngredientChip(e),placeholder:"e.g 1 Onion, 2 Cups of Water, etc",onDelete:(e,t)=>this.handleDeleteIngredientChip(e,t),variant:"filled",fullWidth:!0,className:"mb-2"}))),this.state.ingredientGroupList&&this.state.ingredientGroupList.map((e,t)=>s.a.createElement("div",{key:t,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(F.a,{style:{justifyContent:"flex-end"}},s.a.createElement("i",{className:"fa fa-remove",style:{fontSize:"50%",marginTop:"0px",marginRight:"15px"},onClick:()=>this.onHandleIngredientItem(t)})),s.a.createElement(F.a,null,s.a.createElement(P.a,{md:5,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"card-ingredient-content"},s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"1. Product \u2003\u2003\xa0 :")," ",e.product),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"2. Quantity\u2003\u2003 :")," ",e.quantity),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"3. Measurement:")," ",e.measurement),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2 ml-3 mt-3 ",onChange:e=>this.onUpdateIngredientImg(e,t)}))),s.a.createElement(P.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:e.productImgPath,width:"auto",height:"150px",alt:""})),s.a.createElement(P.a,{md:3,className:"mb-2"})))),s.a.createElement("hr",null),e,s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:12},s.a.createElement(Je.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionsChip,onAdd:e=>this.handleAddInstructionStep(e),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,t),variant:"filled"}))),s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4,className:"mb-2"},s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e)})),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(Ke.a,{variant:"contained",color:"primary",disableRipple:!0,style:{color:"white",width:"300px"},className:"mb-3",onClick:this.addInstructionList}," ADD NEW INSTRUCTION SET")),s.a.createElement(P.a,{md:4}," ")),s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4},s.a.createElement(He.a,{id:"readTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"ReadTime (mins)",variant:"filled",required:!0})),s.a.createElement(P.a,{md:4},s.a.createElement(He.a,{id:"cookTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"CookTime (mins)",variant:"filled",required:!0})),s.a.createElement(P.a,{md:4},s.a.createElement(Ve.a,{multiple:!0,id:"tags-filled",className:"mb-2",freeSolo:!0,options:this.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:l,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),s.a.createElement(F.a,{className:"mb-5"},s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement($e.a,{theme:a},s.a.createElement(Ke.a,{variant:"contained",className:"mb-2",color:"primary",style:{color:"white"},onClick:()=>this.sendSuggestedMealToDB()}," Add Meal"))))))),s.a.createElement(Xe.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},s.a.createElement(et.a,{id:"alert-dialog-title"},"Informtation"),s.a.createElement(tt.a,null,s.a.createElement(at.a,null,"Successfully added in database"))))}}var st=nt;class rt extends n.Component{constructor(e){var t;super(e),t=this,this.products=[],this.productsImg_path=[],this.categories=[],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb"],this.handleClose=()=>{this.setState({open:!1})},this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onTextFieldClick=e=>{void 0!==e.target.files[0]&&(this.setState({imgSrc:e.target.files[0]}),this.setState({loading_imgSrc:URL.createObjectURL(e.target.files[0])}),this.setState({img_change_flag:!0}))},this.onhandleProductImg=e=>{void 0!==e.target.files[0]&&(this.setState({productImgSrc:e.target.files[0]}),null!==e.target.files[0]&&this.setState({productImg_path:URL.createObjectURL(e.target.files[0])}))},this.onhandleInstructionImg=e=>{void 0!==e.target.files[0]&&(this.setState({instructionImgData:e.target.files[0]}),null!==e.target.files[0]&&this.setState({instructionImgPath:URL.createObjectURL(e.target.files[0])}))},this.onHandleIngredientItem=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList;-1!==e&&(t.splice(e,1),a.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))},this.onHandleInstructionItem=e=>{const t=this.state.instructionGroupList;t.splice(e,1),this.setState({instructionGroupList:t})},this.onUpdateIngredientImg=(e,t)=>{if(null===e.target.files[0]||this.state.ingredientGroupList.length<=t)return;const a=this.state.ingredientGroupList,n=a[t];var s={product:n.product,quantity:n.quantity,measurement:n.measurement,productImgData:e.target.files[0],productImgPath:URL.createObjectURL(e.target.files[0]),flag:!0};a[t]=s,this.setState({ingredientGroupList:a})},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0]||this.state.instructionGroupList.length<=t)return;const a=this.state.instructionGroupList;let n={step:a[t].step,imgdata:e.target.files[0],imgpath:URL.createObjectURL(e.target.files[0])};a[t]=n,this.setState({instructionGroupList:a})},this.handleIngredientDropdownChange=(e,t)=>{var a=this.products.indexOf(t);-1!==a&&this.setState({product_ind:a}),null!==e.target.value?this.setState({currentIngredient:t}):this.setState({currentIngredient:e.target.innerHTML})},this.handleProductName=(e,t)=>{const a=this.products.map(e=>e.toLowerCase().includes(t.toLowerCase())).find(e=>!0===e);!0!==a||null===a?(this.setState({productImgSetting_flag:!0}),this.setState({currentIngredient:t})):(this.setState({productImgSetting_flag:!1}),this.setState({currentIngredient:t}))},this.handleCategoryDropdownChange=e=>{this.setState({categoryList:e})},this.addInstructionList=()=>{if(0===this.state.instructionsChip.length)return;let e={step:this.state.instructionsChip,imgdata:this.state.instructionImgData,imgpath:this.state.instructionImgPath};this.setState({instructionGroupList:[...this.state.instructionGroupList,e]}),this.setState({instructionsChip:[],instructionImgData:null,instructionImgPath:""})},this.sendSuggestedMealToDB=function(){var e=Object(qe.a)(Be.a.mark((function e(a){var n,s,r,l,i,o,c,m,d,u,h,g,p,E,f,b,v,y,S,I,N,C,_,x,w,L,k,T,D,F,P,A;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,s=n.productLabel,r=n.intro,l=n.servings,i=n.ingredientStrings,o=n.ingredientGroupList,c=n.instructionGroupList,m=n.imgSrc,d=n.readTime,u=n.cookTime,h=n.categoryList,""!==s){e.next=4;break}return console.log("meal label blank"),e.abrupt("return");case 4:if(0!==i.length){e.next=7;break}return window.alert("Suggested meal requires adding at least one ingredient to submit"),e.abrupt("return");case 7:if(null!==m){e.next=10;break}return window.alert("You didn't add suggested meal image"),e.abrupt("return");case 10:for(g=new FormData,p=0,E=0;E<o.length;E++)null!==o[E].productImgData&&(g.append("productImgs",o[E].productImgData),p++);if(f=null,0===p){e.next=22;break}return"/getProductImgURL/",b={method:"POST",data:g,url:"/getProductImgURL/"},e.next=19,de(b);case 19:v=e.sent,console.log("UploadedImage_URL: ",v),f=v.data.productImg_paths;case 22:for(y=[],S=[],I=-1,E=0;E<o.length;E++)N={product:o[E].product,quantity:o[E].quantity,measurement:o[E].measurement},y.push(N),C="",null!==o[E].productImgData?(I++,C=f[I]):C=o[E].productImgPath,_={ingredient:o[E].product,image:C,flag:o[E].flag},S.push(_);for(x=new FormData,w=0,E=0;E<c.length;E++)null!==c[E].imgdata&&(x.append("instructionImgs",c[E].imgdata),w++);if(L=null,0===w){e.next=37;break}return"/getInstructionImgURL/",k={method:"POST",data:x,url:"/getInstructionImgURL/"},e.next=35,de(k);case 35:v=e.sent,L=v.data.instrutionImg_paths;case 37:for(T=[],D=-1,E=0;E<c.length;E++)C=null,null!==c[E].imgdata&&(D++,C=L[D]),F={step:c[E].step,image:C},T.push(F);for(P=[],E=0;E<h.length;E++)-1===t.categories.indexOf(h[E])&&P.push(h[E]);"/addMealSuggestion/",(A=new FormData).append("productLabel",s),A.append("intro",r),A.append("servings",l),A.append("product_slider",JSON.stringify(S)),A.append("formatted_ingredient",JSON.stringify(y)),A.append("instructionsGroupList",JSON.stringify(T)),A.append("ingredientStrings",i),A.append("readTime",d),A.append("cookTime",u),A.append("categoryChips",JSON.stringify(h)),A.append("newCategories",JSON.stringify(P)),A.append("imgSrc",m),de({method:"POST",data:A,url:"/addMealSuggestion/"}).then(e=>{e.status>=200&&e.status<300?(t.setState({open:!0}),console.log(e),console.log("Display Meal submitted successfully"),window.location.href="/SuggestMeal"):console.log("Somthing happened wrong")}).catch(e=>{console.log(e)});case 58:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.state={productLabel:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",ingredientStrings:[],instructionsChip:[],categoryChips:["snacks","abc","123"],productsPopulated:!1,imgSrc:null,loading_imgSrc:"",open:!1,productImgSetting_flag:!1,productImgSrc:null,productImg_path:"",product_ind:0,categoryList:[]},this.handleIngredientDropdownChange=this.handleIngredientDropdownChange.bind(this),this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.handleIngredientQuantity=this.handleIngredientQuantity.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this)}componentDidMount(){var e="/get-all-products";de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET ALL PRODUCTS ");for(var a=0;a<t.data.length;a++)this.products.push(t.data[a].product_name),this.productsImg_path.push(t.data[a].product_image);console.log("PRINTING ALL PRODUCTS LIST"),console.log(this.products),this.setState({productsPopulated:!0})}else console.log("get all products function does not return")}).catch(e=>{console.log(e)}),e="/get-all-categories",de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET of ALL Categories ");for(var a=0;a<t.data.length;a++)this.categories.push(t.data[a].category_name);console.log("PRINTING UPDATED CATEGORIES LIST")}else console.log("get all products function does not return")}).catch(e=>{console.log(e)})}handleAddIngredientChip(e){this.setState({ingredientStrings:[...this.state.ingredientStrings,e]})}handleAddCategoryChip(e){this.setState({categoryChips:[...this.state.categoryChips,e]})}handleAddInstructionStep(e){this.setState({instructionsChip:[...this.state.instructionsChip,e]})}handleAddCategoryStep(){console.log("FFFFFFFFFFFFFF+++++++++")}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleDeleteCategoryChip(e){var t=[...this.state.categoryChips],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({categoryChips:t}))}handleDeleteInstructionsStep(e){var t=[...this.state.instructionsChip],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({instructionsChip:t}))}handleIngredientQuantity(e){console.log(e.target.value),this.setState({currentIngredientQuantity:e.target.value})}handleIngredientMeasurement(e){e.target.value?this.setState({currentIngredientMeasurement:e.target.value}):this.setState({currentIngredientMeasurement:e.target.innerHTML})}addIngredientToMeal(e){var t;if(e.preventDefault(),""!==document.getElementById("currentIngredient").value){t=0===this.state.currentIngredientQuantity?document.getElementById("currentIngredient").value:null===document.getElementById("currentIngredientMeasurement").value?this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredient").value:this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredientMeasurement").value+" of "+document.getElementById("currentIngredient").value;var a={product:this.state.currentIngredient,quantity:this.state.currentIngredientQuantity,measurement:this.state.currentIngredientMeasurement,productImgData:this.state.productImgSrc,productImgPath:null,flag:this.state.productImgSetting_flag};this.state.productImgSetting_flag?(a.productImgPath=this.state.productImg_path,a.flag=!0):(a.productImgPath=this.productsImg_path[this.state.product_ind],a.flag=!1),this.handleAddIngredientChip(t),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,a]}),this.setState({productImgSrc:null,productImg_path:""}),this.setState({currentIngredient:"",currentIngredientQuantity:"",currentIngredientMeasurement:""})}else window.alert("Enter an ingredient to add to meal")}render(){const e=Object(Ye.a)({palette:{primary:Ze.a}}),t=this.state,a=t.loading_imgSrc,n=t.categoryList;return s.a.createElement("div",null,s.a.createElement("div",{style:{width:"85%",margin:"auto",backgroundColor:"#f4f4f4"}},s.a.createElement("div",{style:{padding:"20px",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement("div",{id:"title",style:{marginTop:"20px",marginBottom:"20px"}},s.a.createElement("b",null,"Suggest Product")),s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(F.a,{className:"mb-1"},s.a.createElement(P.a,{md:4},s.a.createElement(Ve.a,{id:"currentIngredient",options:this.products.map(e=>e),onChange:(e,t)=>this.handleIngredientDropdownChange(e,t),onInputChange:(e,t)=>this.handleProductName(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{label:"Product Name",variant:"filled"})),fullWidth:!0,className:"mb-3",value:this.state.currentIngredient})),s.a.createElement(P.a,{md:4,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*",id:"imgSrc",type:"file",className:"mb-2 pr-4",onChange:e=>this.onTextFieldClick(e)})),s.a.createElement(P.a,{md:4,style:{marginTop:"20px",textAlign:"center"}},s.a.createElement("img",{src:a,width:"70%",height:"auto",alt:""}))),s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4},s.a.createElement(Ve.a,{multiple:!0,id:"tags-filled",className:"mb-2",freeSolo:!0,options:this.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:n,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),s.a.createElement("hr",null),s.a.createElement(F.a,{className:"mb-5"},s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement($e.a,{theme:e},s.a.createElement(Ke.a,{variant:"contained",className:"mb-2",color:"primary",style:{color:"white"},onClick:()=>this.sendSuggestedMealToDB()}," Add Product"))))))),s.a.createElement(Xe.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xs",fullWidth:!0},s.a.createElement(et.a,{id:"alert-dialog-title"},"Informtation"),s.a.createElement(tt.a,null,s.a.createElement(at.a,null,"Successfully added in database"))))}}var lt=rt,it=a(602),ot=a(291),ct=a(603),mt=a(604),dt=a(605),ut=a(606),ht=a(607),gt=a(613),pt=a(608),Et=a(596),ft=a(611),bt=a(4),vt=a(288),yt=a.n(vt),St=a(289),It=a.n(St),Nt=a(287),Ct=a.n(Nt),_t=a(286),xt=a.n(_t),wt=a(5),Lt=a(601);const kt=[{id:"_id",label:"id",minWidth:100},{id:"label",label:"MealName",minWidth:100},{id:"intro",label:"Intro",minWidth:100},{id:"servings",label:"Servings",minWidth:30},{id:"mealImage",label:"ImageSrc",minWidth:100},{id:"readTime",label:"ReadTime",minWidth:30},{id:"cookTime",label:"cookTime",minWidth:30},{id:"active",label:"Active",minWidth:150}],Tt=Object(wt.a)(e=>({tooltip:{backgroundColor:"#c0dbf2",color:"#000000",boxShadow:e.shadows[1],fontSize:15,marginTop:"50px"}}))(Lt.a);class Dt extends n.Component{constructor(e){var t;super(e),t=this,this.products=[],this.productsImg_path=[],this.categories=[],this.measurements=["mL","oz","L","cup(s)","Tbsp","tsp","pt","lb","g","kg","lb"],this.addInstructionList=()=>{if(0===this.state.instructionsChip.length)return;let e={step:this.state.instructionsChip,imgdata:this.state.instructionImgData,image:this.state.instructionImgPath};this.setState({instructionGroupList:[...this.state.instructionGroupList,e]}),this.setState({instructionsChip:[],instructionImgData:null,instructionImgPath:""})},this.updateSuggestItem=(e,t)=>{const a=e.instructions,n=[];for(let c=0;c<a.length;c++){let e={step:a[c].step,imgdata:-1,image:a[c].image};n.push(e)}this.setState({categories:e.categories}),this.setState({selected_id:e._id,instructionGroupList:n,suggestMealRole:t,mealLabel:e.label,intro:e.intro,servings:e.servings,loading_imgSrc:e.mealImage,formatted_ingredient:e.newer_ingredient_format}),this.setState({open:!0}),this.setState({imgSrc:e.mealImage,readTime:e.readTime,cookTime:e.cookTime,product_slider:e.product_slider,productImgSetting_flag:!1});const s=e.product_slider[e.product_slider.length-1];this.setState({productImg_path:s.image});let r=[],l=[];for(let c=0;c<e.newer_ingredient_format.length;c++){var i={product:e.newer_ingredient_format[c].product,quantity:e.newer_ingredient_format[c].quantity,measurement:e.newer_ingredient_format[c].measurement,productImgData:null,productImgPath:e.product_slider[c].image,flag:!1};r.push(i);const t=e.newer_ingredient_format[c];var o;o=0===t.quantity?t.product:null===t.measurement?t.quantity+" "+t.product:t.quantity+" "+t.measurement+" of "+t.product,l.push(o)}this.setState({ingredientGroupList:r}),this.setState({ingredientStrings:l})},this.onhandleInstructionImg=e=>{this.setState({instructionImgData:e.target.files[0]}),null!==e.target.files[0]&&this.setState({instructionImgPath:URL.createObjectURL(e.target.files[0])})},this.handleUpdateSubmit=Object(qe.a)(Be.a.mark((function e(){var a,n,s,r,l,i,o,c,m,d,u,h,g,p,E,f,b,v,y,S,I,N,C,_,x,w,L,k,T,D,F,P,A,O;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.state,n=a.mealLabel,s=a.intro,r=a.servings,l=a.instructionGroupList,i=a.ingredientGroupList,o=a.ingredientStrings,c=a.imgSrc,m=a.readTime,d=a.cookTime,u=a.selected_id,h=a.categoryList,g=new FormData,p=0,E=0;E<i.length;E++)null!==i[E].productImgData&&(g.append("productImgs",i[E].productImgData),p++);if(f=null,0===p){e.next=13;break}return"/getProductImgURL/",b={method:"POST",data:g,url:"/getProductImgURL/"},e.next=11,de(b);case 11:v=e.sent,f=v.data.productImg_paths;case 13:for(console.log("productImg_paths: ",f),y=[],S=[],I=-1,E=0;E<i.length;E++)N={product:i[E].product,quantity:i[E].quantity,measurement:i[E].measurement},y.push(N),C="",null!==i[E].productImgData?(I++,C=f[I]):C=i[E].productImgPath,_={ingredient:i[E].product,image:C,flag:i[E].flag},S.push(_);for(x=new FormData,w=0,E=0;E<l.length;E++)null!==l[E].imgdata&&-1!==l[E].imgdata&&(x.append("instructionImgs",l[E].imgdata),w++);if(L=null,0===w){e.next=29;break}return"/getInstructionImgURL/",k={method:"POST",data:x,url:"/getInstructionImgURL/"},e.next=27,de(k);case 27:v=e.sent,L=v.data.instrutionImg_paths;case 29:for(T=[],D=-1,E=0;E<l.length;E++)C=null,null!==l[E].imgdata&&-1!==l[E].imgdata?(D++,C=L[D]):-1===l[E].imgdata&&(C=l[E].image),F={step:l[E].step,image:C},T.push(F);for(P=[],E=0;E<h.length;E++)-1===t.categories.indexOf(h[E])&&P.push(h[E]);return(A=new FormData).append("id",u),A.append("mealLabel",n),A.append("intro",s),A.append("servings",r),A.append("product_slider",JSON.stringify(S)),A.append("formatted_ingredient",JSON.stringify(y)),A.append("instructionsGroupList",JSON.stringify(T)),A.append("ingredientStrings",o),A.append("readTime",m),A.append("cookTime",d),A.append("categoryChips",JSON.stringify(h)),A.append("newCategories",JSON.stringify(P)),A.append("imgSrc",c),t.state.img_change_flag?(A.append("img_change_flag","true"),A.append("imgSrc",c)):A.set("img_change_flag","false"),"/updateSuggestItem",O={method:"POST",data:A,url:"/updateSuggestItem"},e.next=53,de(O);case 53:if(!((v=e.sent).status>=200&&v.status<300)){e.next=59;break}return console.log("Updated Meal submitted successfully"),e.abrupt("return",window.location.href="/ViewSuggestedMeals");case 59:console.log("Somthing happened wrong");case 60:case"end":return e.stop()}}),e)}))),this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onTextFieldClick=e=>{this.setState({imgSrc:e.target.files[0]}),null!==this.state.imgSrc&&(this.setState({loading_imgSrc:URL.createObjectURL(e.target.files[0])}),this.setState({img_change_flag:!0}))},this.onhandleProductImg=e=>{this.setState({productImgSrc:e.target.files[0]}),null!==e.target.files[0]&&this.setState({productImg_path:URL.createObjectURL(e.target.files[0])})},this.onHandleIngredientItem=e=>{var t=this.state.ingredientStrings,a=this.state.ingredientGroupList;-1!==e&&(t.splice(e,1),a.splice(e,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))},this.onHandleInstructionItem=e=>{const t=this.state.instructionGroupList;t.splice(e,1),this.setState({instructionGroupList:t})},this.onUpdateIngredientImg=(e,t)=>{if(null===e.target.files[0]||this.state.ingredientGroupList.length<=t)return;const a=this.state.ingredientGroupList,n=a[t];var s={product:n.product,quantity:n.quantity,measurement:n.measurement,productImgData:e.target.files[0],productImgPath:URL.createObjectURL(e.target.files[0]),flag:!0};a[t]=s,this.setState({ingredientGroupList:a})},this.onUpdateInstructionImg=(e,t)=>{if(null===e.target.files[0]||this.state.instructionGroupList.length<=t)return;const a=this.state.instructionGroupList;let n={step:a[t].step,imgdata:e.target.files[0],image:URL.createObjectURL(e.target.files[0])};a[t]=n,this.setState({instructionGroupList:a})},this.handleIngredientDropdownChange=(e,t)=>{var a=this.products.indexOf(t);-1!==a&&this.setState({product_ind:a}),e.target.value?this.setState({currentIngredient:e.target.value}):this.setState({currentIngredient:e.target.innerHTML})},this.handleProductName=(e,t)=>{const a=this.products.map(e=>e.toLowerCase().includes(t.toLowerCase())).find(e=>!0===e);!0!==a||null===a?(this.setState({productImgSetting_flag:!0}),this.setState({currentIngredient:t})):(this.setState({productImgSetting_flag:!1}),this.setState({currentIngredient:t}))},this.handleCategoryDropdownChange=e=>{this.setState({categoryList:e})},this.onhandleSendData=()=>{fetch("./api/send-mealData",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state.selected)}).then(e=>{if(console.log(e),200===e.status)return window.location.href="/ViewSuggestedMeals"}).catch(e=>{console.log(e)})},this.handleChangePage=(e,t)=>{this.setState({page:t})},this.handleChangeRowsPerPage=e=>{this.setState({page:0}),this.setState({rowsPerPage:+e.target.value})},this.handleDeleteMealItem=e=>{var t="./api/removeSeggestItem/".concat(e._id);fetch(t).then(e=>e.json()).then(e=>(console.log("Delets item"),window.location.href="/ViewSuggestedMeals")).catch(e=>{console.log("unDelets item"),console.log(e)})},this.handleClickOpen=(e,t)=>{const a=e.instructions,n=[];for(let c=0;c<a.length;c++){let e={step:a[c].step,imgdata:-1,image:a[c].image};n.push(e)}this.setState({selected_id:e._id,instructionGroupList:n,suggestMealRole:t,mealLabel:e.label,intro:e.intro,servings:e.servings,loading_imgSrc:e.mealImage,formatted_ingredient:e.newer_ingredient_format}),this.setState({open:!0});const s=e.newer_ingredient_format[e.newer_ingredient_format.length-1];this.setState({currentIngredientMeasurement:s.measurement,currentIngredientQuantity:s.quantity,currentIngredient:s.product}),this.setState({imgSrc:e.mealImage,readTime:e.readTime,cookTime:e.cookTime,product_slider:e.product_slider,productImgSetting_flag:!1});const r=e.product_slider[e.product_slider.length-1];this.setState({productImg_path:r.image});let l=[],i=[];for(let c=0;c<e.newer_ingredient_format.length;c++){const t=e.newer_ingredient_format[c];var o;o=0===t.quantity?t.product:null===t.measurement?t.quantity+" "+t.product:t.quantity+" "+t.measurement+" of "+t.product,l.push(o),i.push(null)}this.setState({ingredientStrings:l}),this.setState({ingredientData:i})},this.handleClose=()=>{this.setState({open:!1})},this.onTextFieldChange=e=>{this.setState({[e.target.id]:e.target.value})},this.handleSelectAllClick=e=>{if(e.target.checked){const e=this.state.mealData_list.map(e=>e._id);this.setState({selected:e})}else this.setState({selected:[]})},this.handleClick=(e,t)=>{const a=this.state.selected,n=a.indexOf(t);let s=[];-1===n?s=s.concat(a,t):0===n?s=s.concat(a.slice(1)):n===a.length-1?s=s.concat(a.slice(0,-1)):n>0&&(s=s.concat(a.slice(0,n),a.slice(n+1))),this.setState({selected:s})},this.state={mealLabel:"",intro:"",servings:0,currentIngredient:"",currentIngredientMeasurement:"",currentIngredientQuantity:"",ingredientStrings:[],formatted_ingredient:[],instructionsChip:[],readTime:"0 mins read",cookTime:"10 mins cook time",categoryChips:["snacks","abc","123"],productsPopulated:!1,img_change_flag:!1,selected_id:"",mealData_list:[],page:0,rowsPerPage:10,open:!1,suggestMealRole:"",imgSrc:"",loading_imgSrc:"",productImgSetting_flag:null,productImgSrc:null,productImg_path:"",product_ind:0,ingredientGroupList:[],selected:[],instructionGroupList:[],instructionImgData:null,instructionImgPath:"",categoryList:[]},this.handleIngredientDropdownChange=this.handleIngredientDropdownChange.bind(this),this.handleProductName=this.handleProductName.bind(this),this.handleIngredientMeasurement=this.handleIngredientMeasurement.bind(this),this.handleIngredientQuantity=this.handleIngredientQuantity.bind(this),this.addIngredientToMeal=this.addIngredientToMeal.bind(this)}componentDidMount(){var e="/get-all-products";de.get(e).then(e=>{var t=e.data;if(t&&0!==t.data.length){console.log("returns GET ALL PRODUCTS ");for(var a=0;a<t.data.length;a++)this.products.push(t.data[a].product_name),this.productsImg_path.push(t.data[a].product_image);console.log("PRINTING ALL PRODUCTS LIST",this.products),this.setState({productsPopulated:!0})}else console.log("get all products function does not return")}).catch(e=>{console.log(e)}),console.log("Comes in meal pages component did mount");de.get("/get-suggested-meals").then(e=>{var t=e.data;t&&0!==t.data.length?(console.log("shows products does return"),this.setState({mealData_list:t.data})):console.log("shows products do not return")}).catch(e=>{console.log(e)}),e="/get-all-categories",de.get(e).then(e=>{var t=e.data;if(console.log(t),t&&0!==t.data.length){console.log("returns GET of ALL Categories ");for(var a=0;a<t.data.length;a++)this.categories.push(t.data[a].category_name);console.log("PRINTING UPDATED CATEGORIES LIST")}else console.log("get all products function does not return")}).catch(e=>{console.log(e)})}handleAddIngredientChip(e){let t=this.state.ingredientStrings;t.push(e),this.setState({ingredientStrings:t})}handleAddCategoryChip(e){this.setState({categoryChips:[...this.state.categoryChips,e]})}handleAddInstructionStep(e){this.setState({instructionsChip:[...this.state.instructionsChip,e]})}handleDeleteIngredientChip(e){var t=this.state.ingredientStrings,a=this.state.ingredientGroupList,n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.splice(n,1),this.setState({ingredientStrings:t,ingredientGroupList:a}))}handleDeleteCategoryChip(e,t){console.log("handleDeleteCategoryChip:",t)}handleDeleteInstructionsStep(e){console.log("removing chop input");var t=[...this.state.instructionsChip],a=t.indexOf(e);-1!==a&&(t.splice(a,1),this.setState({instructionsChip:t}))}handleIngredientQuantity(e){console.log(e.target.value),this.setState({currentIngredientQuantity:e.target.value})}handleIngredientMeasurement(e){e.target.value?this.setState({currentIngredientMeasurement:e.target.value}):this.setState({currentIngredientMeasurement:e.target.innerHTML})}addIngredientToMeal(e){var t;if(e.preventDefault(),console.log(this.state.currentIngredientMeasurement),""!==document.getElementById("currentIngredient").value){t=0===this.state.currentIngredientQuantity?document.getElementById("currentIngredient").value:null===document.getElementById("currentIngredientMeasurement").value?this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredient").value:this.state.currentIngredientQuantity+" "+document.getElementById("currentIngredientMeasurement").value+" of "+document.getElementById("currentIngredient").value;var a={product:this.state.currentIngredient,quantity:this.state.currentIngredientQuantity,measurement:this.state.currentIngredientMeasurement,productImgData:this.state.productImgSrc,productImgPath:null,flag:this.state.productImgSetting_flag};this.state.productImgSetting_flag?(a.productImgPath=this.state.productImg_path,a.flag=!0):(a.productImgPath=this.productsImg_path[this.state.product_ind],a.flag=!1),this.handleAddIngredientChip(t),this.setState({ingredientGroupList:[...this.state.ingredientGroupList,a]}),this.setState({productImgSrc:null,productImg_path:""})}else window.alert("Enter an ingredient to add to meal")}render(){console.log("this.state.instructionGroupList: ",this.state.instructionGroupList);var e=[],t=1;for(let C=0;C<this.state.instructionGroupList.length;C++)0!==C&&(t+=this.state.instructionGroupList[C-1].step.length),e.push(s.a.createElement("div",{key:C,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(F.a,{style:{justifyContent:"flex-end"}},s.a.createElement("i",{className:"fa fa-remove",style:{fontSize:"50%",marginTop:"0px",marginRight:"15px"},onClick:()=>this.onHandleInstructionItem(C)})),s.a.createElement(F.a,null,s.a.createElement(P.a,{md:4,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"mdc-list"},this.state.instructionGroupList[C].step.map((e,a)=>s.a.createElement("div",{className:"mdc-list-item",key:a},s.a.createElement("span",{className:"mdc-list-item__text"},a+t,".",s.a.createElement("span",{className:"mdc-list-item__text"}," ",e)))))),s.a.createElement(P.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:this.state.instructionGroupList[C].imgpath,width:"auto",height:"150px",alt:""}),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2, ml-3",onChange:e=>this.onUpdateInstructionImg(e,C)})),s.a.createElement(P.a,{md:4,className:"mb-2"}))));const a=this.props.classes,n=this.state,r=n.mealData_list,l=n.page,i=n.rowsPerPage,o=n.open,c=n.suggestMealRole,m=n.loading_imgSrc,d=n.categoryList,u=this.state,h=u.mealLabel,g=u.intro,p=u.currentIngredient,E=u.currentIngredientQuantity,f=u.currentIngredientMeasurement,b=u.readTime,v=u.cookTime,y=u.servings,S=Object(Ye.a)({palette:{primary:Ze.a}}),I=this.state.selected.length,N=r?r.length:0;return s.a.createElement("div",{className:a.root,style:{boxShadow:"2px 2px 8px 0px #a0a0a0"}},s.a.createElement(it.a,{className:Object(bt.default)(a.root,{[a.highlight]:I>0})},I>0?s.a.createElement(ot.a,{className:a.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontSize:"16px",fontWeight:"600",marginRight:"20px",color:"blue"}}," ",I," selected"):s.a.createElement(ot.a,{className:a.title,variant:"h6",id:"tableTitle",component:"div"},"None Selected  "),I>0?s.a.createElement(Ke.a,{variant:"outlined",color:"primary",endIcon:s.a.createElement(xt.a,null),onClick:this.onhandleSendData},"Send"):null),s.a.createElement(ct.a,{className:a.container},s.a.createElement(mt.a,{stickyHeader:!0,"aria-label":"sticky table"},s.a.createElement(dt.a,null,s.a.createElement(ut.a,null,s.a.createElement(ht.a,{padding:"checkbox"},s.a.createElement(gt.a,{indeterminate:I>0&&I<N,checked:N>0&&I===N,onChange:this.handleSelectAllClick,inputProps:{"aria-label":"select all desserts"}})),kt.map(e=>s.a.createElement(ht.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,fontSize:"15x",fontWeight:"600",padding:"10px 5px"}},e.label)))),s.a.createElement(pt.a,null,r&&r.slice(l*i,l*i+i).map((e,t)=>{const a=(e=>-1!==this.state.selected.indexOf(e))(e._id),n="enhanced-table-checkbox-".concat(t);return s.a.createElement(ut.a,{hover:!0,onClick:t=>this.handleClick(t,e._id),role:"checkbox","aria-checked":a,tabIndex:-1,key:e._id,selected:a},s.a.createElement(ht.a,{padding:"checkbox"},s.a.createElement(gt.a,{checked:a,inputProps:{"aria-labelledby":n}})),kt.map(t=>{if("active"===t.id)return s.a.createElement(ht.a,{key:t.id,style:{padding:"0px 0px"}},s.a.createElement(Tt,{title:"  View  ",placement:"top"},s.a.createElement(Et.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>this.handleClickOpen(e,"moreView")},s.a.createElement(Ct.a,null))),s.a.createElement(Tt,{title:"  Update  ",placement:"top"},s.a.createElement(Et.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>this.updateSuggestItem(e,"edit")},s.a.createElement(yt.a,{style:{color:"green"}}))),s.a.createElement(Tt,{title:"  Delete  ",placement:"top"},s.a.createElement(Et.a,{color:"secondary","aria-label":"upload picture",component:"span",onClick:()=>this.handleDeleteMealItem(e)},s.a.createElement(It.a,null))));{const a=e[t.id];return s.a.createElement(ht.a,{key:t.id,style:{padding:"5px 5px"}},a)}}))})))),s.a.createElement(ft.a,{rowsPerPageOptions:[10,25,100],component:"div",count:N,rowsPerPage:i,page:l,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),s.a.createElement(Xe.a,{open:o,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"lg",fullWidth:!0},s.a.createElement(et.a,{id:"alert-dialog-title"},"moreView"===c?"Suggest Meal":"Update Meal"),s.a.createElement(tt.a,null,s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4},s.a.createElement(He.a,{id:"mealLabel",fullWidth:!0,onChange:this.onTextFieldChange,label:"Meal Name",required:!0,variant:"filled",className:"mb-3",value:h}),s.a.createElement(He.a,{multiline:!0,id:"intro",fullWidth:!0,onChange:this.onTextFieldChange,label:"Intro",variant:"filled",className:"mb-3",value:g})),s.a.createElement(P.a,{md:4,style:{marginTop:"20px"}},s.a.createElement("input",{accept:"image/*",id:"imgSrc",type:"file",className:"mb-2 pr-4",onChange:e=>this.onTextFieldClick(e)})),s.a.createElement(P.a,{md:4,style:{marginTop:"20px",textAlign:"center"}},s.a.createElement("img",{src:m,width:"70%",height:"auto",alt:""}))),s.a.createElement("hr",null),s.a.createElement(F.a,{className:"mb-2"},s.a.createElement(P.a,{md:12},s.a.createElement(Je.a,{label:"IngredientsList",value:this.state.ingredientStrings,onAdd:e=>this.handleAddIngredientChip(e),placeholder:"e.g 1 Onion, 2 Cups of Water, etc",onDelete:(e,t)=>this.handleDeleteIngredientChip(e,t),variant:"filled",fullWidth:!0,className:"mb-2"}))),this.state.ingredientGroupList&&this.state.ingredientGroupList.map((e,t)=>s.a.createElement("div",{key:t,className:"mb-3",style:{margin:"10px",padding:"10px",backgroundColor:"white",boxShadow:"1px 1px 4px 2px #00000030"}},s.a.createElement(F.a,{style:{justifyContent:"flex-end"}},s.a.createElement("i",{className:"fa fa-remove",style:{fontSize:"50%",marginTop:"0px",marginRight:"15px"},onClick:()=>this.onHandleIngredientItem(t)})),s.a.createElement(F.a,null,s.a.createElement(P.a,{md:5,className:"mb-2",style:{overflowWrap:"break-word"}},s.a.createElement("div",{className:"card-ingredient-content"},s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"1. Product \u2003\u2003\xa0 :")," ",e.product),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"2. Quantity\u2003\u2003 :")," ",e.quantity),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"600"}},"3. Measurement:")," ",e.measurement),s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2 ml-3 mt-3 ",onChange:e=>this.onUpdateIngredientImg(e,t)}))),s.a.createElement(P.a,{md:4,className:"mb-2",style:{textAlign:"center"}},s.a.createElement("img",{className:"mb-2",src:e.productImgPath,width:"auto",height:"150px",alt:""})),s.a.createElement(P.a,{md:3,className:"mb-2"})))),s.a.createElement(F.a,{className:"mb-1"},s.a.createElement(P.a,{md:4},s.a.createElement(Ve.a,{id:"currentIngredient",options:this.products.map(e=>e),onChange:(e,t)=>this.handleIngredientDropdownChange(e,t),onInputChange:(e,t)=>this.handleProductName(e,t),freeSolo:!0,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{label:"Ingredient..",variant:"filled"})),fullWidth:!0,className:"mb-3",value:p}),s.a.createElement(He.a,{fullWidth:!0,id:"currentIngredientQuantity",type:"number",onChange:this.onTextFieldChange,label:"Quantity",variant:"filled",placeholder:"1..",className:"mb-3",value:E})),s.a.createElement(P.a,{md:4},this.state.productImgSetting_flag?s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mt-3 mb-4",onChange:e=>this.onhandleProductImg(e)}):s.a.createElement("div",{style:{marginTop:"70px"}}),s.a.createElement(Ve.a,{id:"currentIngredientMeasurement",options:this.measurements.map(e=>e),value:f,onChange:this.handleIngredientMeasurement,freeSolo:!0,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{label:"Measurement..",variant:"filled"})),className:"mb-3"})),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(Ke.a,{variant:"contained",color:"primary",disableRipple:!0,onClick:this.addIngredientToMeal,style:{color:"white"},className:"mb-3"}," Add Ingredient"))),s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(He.a,{id:"servings",fullWidth:!0,type:"number",onChange:this.onTextFieldChange,label:"Servings",variant:"filled",className:"mb-2",placeholder:"1 person, 2, 4 or 10 people",style:{marginTop:"10px"},value:y})),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}}," "),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}}," ")),s.a.createElement("hr",null),e,s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:12},s.a.createElement(Je.a,{label:"Instructions",className:"mb-2",fullWidth:!0,value:this.state.instructionsChip,onAdd:e=>this.handleAddInstructionStep(e),onDelete:(e,t)=>this.handleDeleteInstructionsStep(e,t),variant:"filled"}))),s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4,className:"mb-2"},s.a.createElement("input",{accept:"image/*",id:"imgSrc1",type:"file",className:"mb-2",onChange:e=>this.onhandleInstructionImg(e)})),s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement(Ke.a,{variant:"contained",color:"primary",disableRipple:!0,style:{color:"white",width:"300px"},className:"mb-3",onClick:this.addInstructionList}," ADD NEW INSTRUCTION SET")),s.a.createElement(P.a,{md:4}," ")),s.a.createElement(F.a,{className:"mb-3"},s.a.createElement(P.a,{md:4},s.a.createElement(He.a,{id:"readTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"ReadTime (mins)",variant:"filled",required:!0,value:b})),s.a.createElement(P.a,{md:4},s.a.createElement(He.a,{id:"cookTime",className:"mb-2",type:"number",fullWidth:!0,onChange:this.onTextFieldChange,label:"CookTime (mins)",variant:"filled",required:!0,value:v})),s.a.createElement(P.a,{md:4},s.a.createElement(Ve.a,{multiple:!0,id:"tags-standard",className:"mb-2",freeSolo:!0,options:this.categories.map(e=>e),onChange:(e,t)=>this.handleCategoryDropdownChange(t),value:d,renderInput:e=>s.a.createElement(He.a,Object.assign({},e,{variant:"filled",label:"Categories",placeholder:"Suggest categories for this meal..",fullWidth:!0}))}))),"moreView"!==c&&s.a.createElement(F.a,{className:"mb-5"},s.a.createElement(P.a,{md:4,style:{textAlign:"center",margin:"auto"}},s.a.createElement($e.a,{theme:S},s.a.createElement(Ke.a,{variant:"contained",className:"mb-2",color:"primary",size:"small",style:{color:"white"},onClick:()=>this.handleUpdateSubmit()}," Update Meal"))))))))}}var Ft=Object(wt.a)(e=>({button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},root:{width:"95%",margin:"auto",marginTop:"20px"},container:{maxHeight:440}}))(Dt),Pt=(a(553),a(190)),At=a.n(Pt);class Ot extends s.a.Component{constructor(){super(),this.handleOnClickItems=(e,t)=>{"suggest"===e&&"admin"===t?this.props.history.push("/ViewSuggestedMeals"):this.setState({open:!0})},this.handleClose=()=>{this.setState({open:!1})},this.state={open:!1}}render(){const e=window.localStorage.getItem("userRole");return console.log("yyy:",e),s.a.createElement(D.a,{className:"admin-page"},s.a.createElement(F.a,null,s.a.createElement(P.a,{md:12,className:"admin-title-region"},s.a.createElement("div",{className:"admin-title"},s.a.createElement("div",{style:{width:"100%"}},"Admin Dashboard"))),s.a.createElement(P.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card"},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"INVENTORY")),s.a.createElement("img",{src:At.a,className:"admin-item-img",alt:""}))),s.a.createElement(P.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card"},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"ORDERS")),s.a.createElement("img",{src:At.a,className:"admin-item-img",alt:""}))),s.a.createElement(P.a,{md:4,className:"admin-item-panel"},s.a.createElement("div",{className:"item-card",id:"suggest_admin",onClick:()=>this.handleOnClickItems("suggest",e)},s.a.createElement("div",{className:"admin-item-title"},s.a.createElement("div",{style:{width:"100%"}},"MEAL SUGGESTIONS/SUPPORT")),s.a.createElement("img",{src:x.a,className:"admin-item-img",alt:""})))),s.a.createElement(F.a,{className:"admin-items-section"}),s.a.createElement(Xe.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0},s.a.createElement(et.a,{id:"alert-dialog-title"},"Informtation"),s.a.createElement(tt.a,null,s.a.createElement(at.a,null,"Only admin user can open"))))}}var Mt=Object(i.c)(({auth:e,commonData:t})=>({authUser:e.authUser,role:e.role,customer_id:e.customer_id,status:t.status}),()=>({}))(Object(c.g)(Ot));class Rt extends n.Component{constructor(e){super(e),this.handleLogout=this.handleLogout.bind(this),this.state={suggestMealPopOver:!1,isAuthenticated:!1,customerId:null}}componentWillReceiveProps(e){e.token&&(de.defaults.headers.common.Authorization="Bearer "+e.token),e.token&&!e.authUser&&this.props.getUser()}componentDidMount(){console.log("Comes in app.js's component did mount");var e=window.localStorage.getItem("userToken");"null"!==e&&""!==e&&e&&(de.defaults.headers.common.Authorization="Bearer "+e,this.props.getUser())}handleLogout(){window.localStorage.setItem("userToken",null);fetch("/api/logout",{method:"GET",credentials:"same-origin",headers:{"Content-type":"application/json"}}).then(e=>{e.json().then(e=>{"success"===e.data&&(console.log("comes to turn off authentication state"),this.setState({isAuthenticated:!1}))})}).catch(e=>{console.log("fails to authenticate app page"),console.log(e)}),this.setState({isAuthenticated:!1}),window.location.reload(!1)}render(){const e=this.props.customer_id;var t=window.localStorage.getItem("userRole");return s.a.createElement("div",null,s.a.createElement(T,null),s.a.createElement(c.d,null,s.a.createElement(c.b,{exact:!0,path:"/login",render:()=>s.a.createElement(_e,{openFlag:!0})}),s.a.createElement(c.b,{exact:!0,path:"/admin",render:a=>void 0!==e&&"admin"===t?s.a.createElement(Mt,a):s.a.createElement(c.a,{to:{pathname:"#"}})}),s.a.createElement(c.b,{exact:!0,path:"/signup",render:e=>s.a.createElement(Ue,e)}),s.a.createElement(c.b,{exact:!0,path:"/resetpass",render:e=>s.a.createElement(We,e)}),s.a.createElement(c.b,{exact:!0,path:"/forgotpass",render:e=>s.a.createElement(je,e)}),s.a.createElement(c.b,{exact:!0,path:"/",render:e=>s.a.createElement(Q,e)}),s.a.createElement(c.b,{path:"/home",render:e=>s.a.createElement(Q,e)}),s.a.createElement(c.b,{path:"/v2",render:()=>s.a.createElement(he,null)}),s.a.createElement(c.b,{exact:!0,path:"/grocery",render:()=>void 0!==e||"null"!==e?s.a.createElement(Ae,null):s.a.createElement(c.a,{to:{pathname:"#"}})}),s.a.createElement(c.b,{path:"/products",render:e=>s.a.createElement(ye,null)}),s.a.createElement(c.b,{exact:!0,path:"/SuggestProduct",render:t=>(console.log("Customer Id:",e),s.a.createElement(lt,null))}),s.a.createElement(c.b,{exact:!0,path:"/SuggestMeal",render:t=>(console.log("Customer Id:",e),s.a.createElement(st,null))}),s.a.createElement(c.b,{exact:!0,path:"/ViewSuggestedMeals",render:e=>s.a.createElement(Ft,null)}),s.a.createElement(c.b,{path:"/product-detail/:customerId/:productId",render:t=>void 0!==e?s.a.createElement(Me,null):s.a.createElement(c.a,{to:{pathname:"#"}})})),s.a.createElement(A,null))}}const Gt={setInitUrl:e=>({type:"init_url",payload:e}),getUser:()=>e=>{e({type:"fetch_start"}),de.get("/authenticate-app-page").then(({data:t})=>{console.log(" ___ getUser RESPONSE ___ ",t),e({type:"fetch_success"}),e({type:"user_data",payload:t.username}),e({type:"customer_id",payload:t.data})}).catch(t=>{console.error("xxx getUser Request ERROR xxx",t),e({type:"fetch_error",payload:"Error during get me request with this token"}),e({type:"signout_user_success"})})}};var Ut=Object(i.c)(({auth:e})=>{const t=e.authUser,a=e.token;return{authUser:t,role:e.role,token:a,customer_id:e.customer_id}},Gt)(Rt);const jt=function(e){var t;return Object(m.e)((t=S,Object(m.c)({router:Object(d.a)(t),auth:g,commonData:E})),e,C(Object(m.a)(...N)))}();var Wt=()=>s.a.createElement(i.a,{store:jt},s.a.createElement(o.a,{history:S},s.a.createElement(c.d,null,s.a.createElement(c.b,{path:"/",render:e=>s.a.createElement(Ut,e)}))));a(554);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(o.a,null,s.a.createElement(Wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},84:function(e,t,a){e.exports=a.p+"static/media/logo2.8340d35f.png"}},[[305,1,2]]]);
//# sourceMappingURL=main.ff7bb9b5.chunk.js.map